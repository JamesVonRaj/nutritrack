(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var ES=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function F1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var dp={exports:{}},yc={};var Db;function TS(){if(Db)return yc;Db=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var y in o)y!=="key"&&(u[y]=o[y])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:c,ref:o!==void 0?o:null,props:u}}return yc.Fragment=e,yc.jsx=n,yc.jsxs=n,yc}var kb;function xS(){return kb||(kb=1,dp.exports=TS()),dp.exports}var g=xS(),mp={exports:{}},ht={};var Ob;function SS(){if(Ob)return ht;Ob=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.iterator;function L(Y){return Y===null||typeof Y!="object"?null:(Y=O&&Y[O]||Y["@@iterator"],typeof Y=="function"?Y:null)}var ie={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,H={};function pe(Y,_e,Re){this.props=Y,this.context=_e,this.refs=H,this.updater=Re||ie}pe.prototype.isReactComponent={},pe.prototype.setState=function(Y,_e){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,_e,"setState")},pe.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function de(){}de.prototype=pe.prototype;function ve(Y,_e,Re){this.props=Y,this.context=_e,this.refs=H,this.updater=Re||ie}var Fe=ve.prototype=new de;Fe.constructor=ve,Z(Fe,pe.prototype),Fe.isPureReactComponent=!0;var Ke=Array.isArray;function Be(){}var D={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function j(Y,_e,Re){var Pe=Re.ref;return{$$typeof:r,type:Y,key:_e,ref:Pe!==void 0?Pe:null,props:Re}}function B(Y,_e){return j(Y.type,_e,Y.props)}function F(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===r}function X(Y){var _e={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(Re){return _e[Re]})}var V=/\/+/g;function De(Y,_e){return typeof Y=="object"&&Y!==null&&Y.key!=null?X(""+Y.key):_e.toString(36)}function Ae(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(Be,Be):(Y.status="pending",Y.then(function(_e){Y.status==="pending"&&(Y.status="fulfilled",Y.value=_e)},function(_e){Y.status==="pending"&&(Y.status="rejected",Y.reason=_e)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function he(Y,_e,Re,Pe,Ze){var rt=typeof Y;(rt==="undefined"||rt==="boolean")&&(Y=null);var Je=!1;if(Y===null)Je=!0;else switch(rt){case"bigint":case"string":case"number":Je=!0;break;case"object":switch(Y.$$typeof){case r:case e:Je=!0;break;case x:return Je=Y._init,he(Je(Y._payload),_e,Re,Pe,Ze)}}if(Je)return Ze=Ze(Y),Je=Pe===""?"."+De(Y,0):Pe,Ke(Ze)?(Re="",Je!=null&&(Re=Je.replace(V,"$&/")+"/"),he(Ze,_e,Re,"",function(Sr){return Sr})):Ze!=null&&(F(Ze)&&(Ze=B(Ze,Re+(Ze.key==null||Y&&Y.key===Ze.key?"":(""+Ze.key).replace(V,"$&/")+"/")+Je)),_e.push(Ze)),1;Je=0;var sn=Pe===""?".":Pe+":";if(Ke(Y))for(var Ve=0;Ve<Y.length;Ve++)Pe=Y[Ve],rt=sn+De(Pe,Ve),Je+=he(Pe,_e,Re,rt,Ze);else if(Ve=L(Y),typeof Ve=="function")for(Y=Ve.call(Y),Ve=0;!(Pe=Y.next()).done;)Pe=Pe.value,rt=sn+De(Pe,Ve++),Je+=he(Pe,_e,Re,rt,Ze);else if(rt==="object"){if(typeof Y.then=="function")return he(Ae(Y),_e,Re,Pe,Ze);throw _e=String(Y),Error("Objects are not valid as a React child (found: "+(_e==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":_e)+"). If you meant to render a collection of children, use an array instead.")}return Je}function Ce(Y,_e,Re){if(Y==null)return Y;var Pe=[],Ze=0;return he(Y,Pe,"","",function(rt){return _e.call(Re,rt,Ze++)}),Pe}function we(Y){if(Y._status===-1){var _e=Y._result;_e=_e(),_e.then(function(Re){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=Re)},function(Re){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=Re)}),Y._status===-1&&(Y._status=0,Y._result=_e)}if(Y._status===1)return Y._result.default;throw Y._result}var dt=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var _e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(_e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},mt={map:Ce,forEach:function(Y,_e,Re){Ce(Y,function(){_e.apply(this,arguments)},Re)},count:function(Y){var _e=0;return Ce(Y,function(){_e++}),_e},toArray:function(Y){return Ce(Y,function(_e){return _e})||[]},only:function(Y){if(!F(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return ht.Activity=R,ht.Children=mt,ht.Component=pe,ht.Fragment=n,ht.Profiler=o,ht.PureComponent=ve,ht.StrictMode=s,ht.Suspense=v,ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,ht.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return D.H.useMemoCache(Y)}},ht.cache=function(Y){return function(){return Y.apply(null,arguments)}},ht.cacheSignal=function(){return null},ht.cloneElement=function(Y,_e,Re){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var Pe=Z({},Y.props),Ze=Y.key;if(_e!=null)for(rt in _e.key!==void 0&&(Ze=""+_e.key),_e)!I.call(_e,rt)||rt==="key"||rt==="__self"||rt==="__source"||rt==="ref"&&_e.ref===void 0||(Pe[rt]=_e[rt]);var rt=arguments.length-2;if(rt===1)Pe.children=Re;else if(1<rt){for(var Je=Array(rt),sn=0;sn<rt;sn++)Je[sn]=arguments[sn+2];Pe.children=Je}return j(Y.type,Ze,Pe)},ht.createContext=function(Y){return Y={$$typeof:c,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:u,_context:Y},Y},ht.createElement=function(Y,_e,Re){var Pe,Ze={},rt=null;if(_e!=null)for(Pe in _e.key!==void 0&&(rt=""+_e.key),_e)I.call(_e,Pe)&&Pe!=="key"&&Pe!=="__self"&&Pe!=="__source"&&(Ze[Pe]=_e[Pe]);var Je=arguments.length-2;if(Je===1)Ze.children=Re;else if(1<Je){for(var sn=Array(Je),Ve=0;Ve<Je;Ve++)sn[Ve]=arguments[Ve+2];Ze.children=sn}if(Y&&Y.defaultProps)for(Pe in Je=Y.defaultProps,Je)Ze[Pe]===void 0&&(Ze[Pe]=Je[Pe]);return j(Y,rt,Ze)},ht.createRef=function(){return{current:null}},ht.forwardRef=function(Y){return{$$typeof:y,render:Y}},ht.isValidElement=F,ht.lazy=function(Y){return{$$typeof:x,_payload:{_status:-1,_result:Y},_init:we}},ht.memo=function(Y,_e){return{$$typeof:_,type:Y,compare:_e===void 0?null:_e}},ht.startTransition=function(Y){var _e=D.T,Re={};D.T=Re;try{var Pe=Y(),Ze=D.S;Ze!==null&&Ze(Re,Pe),typeof Pe=="object"&&Pe!==null&&typeof Pe.then=="function"&&Pe.then(Be,dt)}catch(rt){dt(rt)}finally{_e!==null&&Re.types!==null&&(_e.types=Re.types),D.T=_e}},ht.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},ht.use=function(Y){return D.H.use(Y)},ht.useActionState=function(Y,_e,Re){return D.H.useActionState(Y,_e,Re)},ht.useCallback=function(Y,_e){return D.H.useCallback(Y,_e)},ht.useContext=function(Y){return D.H.useContext(Y)},ht.useDebugValue=function(){},ht.useDeferredValue=function(Y,_e){return D.H.useDeferredValue(Y,_e)},ht.useEffect=function(Y,_e){return D.H.useEffect(Y,_e)},ht.useEffectEvent=function(Y){return D.H.useEffectEvent(Y)},ht.useId=function(){return D.H.useId()},ht.useImperativeHandle=function(Y,_e,Re){return D.H.useImperativeHandle(Y,_e,Re)},ht.useInsertionEffect=function(Y,_e){return D.H.useInsertionEffect(Y,_e)},ht.useLayoutEffect=function(Y,_e){return D.H.useLayoutEffect(Y,_e)},ht.useMemo=function(Y,_e){return D.H.useMemo(Y,_e)},ht.useOptimistic=function(Y,_e){return D.H.useOptimistic(Y,_e)},ht.useReducer=function(Y,_e,Re){return D.H.useReducer(Y,_e,Re)},ht.useRef=function(Y){return D.H.useRef(Y)},ht.useState=function(Y){return D.H.useState(Y)},ht.useSyncExternalStore=function(Y,_e,Re){return D.H.useSyncExternalStore(Y,_e,Re)},ht.useTransition=function(){return D.H.useTransition()},ht.version="19.2.3",ht}var Mb;function wg(){return Mb||(Mb=1,mp.exports=SS()),mp.exports}var q=wg();const vc=F1(q);var pp={exports:{}},_c={},gp={exports:{}},yp={};var jb;function AS(){return jb||(jb=1,(function(r){function e(he,Ce){var we=he.length;he.push(Ce);e:for(;0<we;){var dt=we-1>>>1,mt=he[dt];if(0<o(mt,Ce))he[dt]=Ce,he[we]=mt,we=dt;else break e}}function n(he){return he.length===0?null:he[0]}function s(he){if(he.length===0)return null;var Ce=he[0],we=he.pop();if(we!==Ce){he[0]=we;e:for(var dt=0,mt=he.length,Y=mt>>>1;dt<Y;){var _e=2*(dt+1)-1,Re=he[_e],Pe=_e+1,Ze=he[Pe];if(0>o(Re,we))Pe<mt&&0>o(Ze,Re)?(he[dt]=Ze,he[Pe]=we,dt=Pe):(he[dt]=Re,he[_e]=we,dt=_e);else if(Pe<mt&&0>o(Ze,we))he[dt]=Ze,he[Pe]=we,dt=Pe;else break e}}return Ce}function o(he,Ce){var we=he.sortIndex-Ce.sortIndex;return we!==0?we:he.id-Ce.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var c=Date,y=c.now();r.unstable_now=function(){return c.now()-y}}var v=[],_=[],x=1,R=null,O=3,L=!1,ie=!1,Z=!1,H=!1,pe=typeof setTimeout=="function"?setTimeout:null,de=typeof clearTimeout=="function"?clearTimeout:null,ve=typeof setImmediate<"u"?setImmediate:null;function Fe(he){for(var Ce=n(_);Ce!==null;){if(Ce.callback===null)s(_);else if(Ce.startTime<=he)s(_),Ce.sortIndex=Ce.expirationTime,e(v,Ce);else break;Ce=n(_)}}function Ke(he){if(Z=!1,Fe(he),!ie)if(n(v)!==null)ie=!0,Be||(Be=!0,X());else{var Ce=n(_);Ce!==null&&Ae(Ke,Ce.startTime-he)}}var Be=!1,D=-1,I=5,j=-1;function B(){return H?!0:!(r.unstable_now()-j<I)}function F(){if(H=!1,Be){var he=r.unstable_now();j=he;var Ce=!0;try{e:{ie=!1,Z&&(Z=!1,de(D),D=-1),L=!0;var we=O;try{t:{for(Fe(he),R=n(v);R!==null&&!(R.expirationTime>he&&B());){var dt=R.callback;if(typeof dt=="function"){R.callback=null,O=R.priorityLevel;var mt=dt(R.expirationTime<=he);if(he=r.unstable_now(),typeof mt=="function"){R.callback=mt,Fe(he),Ce=!0;break t}R===n(v)&&s(v),Fe(he)}else s(v);R=n(v)}if(R!==null)Ce=!0;else{var Y=n(_);Y!==null&&Ae(Ke,Y.startTime-he),Ce=!1}}break e}finally{R=null,O=we,L=!1}Ce=void 0}}finally{Ce?X():Be=!1}}}var X;if(typeof ve=="function")X=function(){ve(F)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,De=V.port2;V.port1.onmessage=F,X=function(){De.postMessage(null)}}else X=function(){pe(F,0)};function Ae(he,Ce){D=pe(function(){he(r.unstable_now())},Ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(he){he.callback=null},r.unstable_forceFrameRate=function(he){0>he||125<he?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<he?Math.floor(1e3/he):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_next=function(he){switch(O){case 1:case 2:case 3:var Ce=3;break;default:Ce=O}var we=O;O=Ce;try{return he()}finally{O=we}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(he,Ce){switch(he){case 1:case 2:case 3:case 4:case 5:break;default:he=3}var we=O;O=he;try{return Ce()}finally{O=we}},r.unstable_scheduleCallback=function(he,Ce,we){var dt=r.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?dt+we:dt):we=dt,he){case 1:var mt=-1;break;case 2:mt=250;break;case 5:mt=1073741823;break;case 4:mt=1e4;break;default:mt=5e3}return mt=we+mt,he={id:x++,callback:Ce,priorityLevel:he,startTime:we,expirationTime:mt,sortIndex:-1},we>dt?(he.sortIndex=we,e(_,he),n(v)===null&&he===n(_)&&(Z?(de(D),D=-1):Z=!0,Ae(Ke,we-dt))):(he.sortIndex=mt,e(v,he),ie||L||(ie=!0,Be||(Be=!0,X()))),he},r.unstable_shouldYield=B,r.unstable_wrapCallback=function(he){var Ce=O;return function(){var we=O;O=Ce;try{return he.apply(this,arguments)}finally{O=we}}}})(yp)),yp}var Pb;function RS(){return Pb||(Pb=1,gp.exports=AS()),gp.exports}var vp={exports:{}},br={};var Vb;function CS(){if(Vb)return br;Vb=1;var r=wg();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)_+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(v,_,x){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:R==null?null:""+R,children:v,containerInfo:_,implementation:x}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return br.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,br.createPortal=function(v,_){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(v,_,null,x)},br.flushSync=function(v){var _=c.T,x=s.p;try{if(c.T=null,s.p=2,v)return v()}finally{c.T=_,s.p=x,s.d.f()}},br.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},br.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},br.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var x=_.as,R=y(x,_.crossOrigin),O=typeof _.integrity=="string"?_.integrity:void 0,L=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;x==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:R,integrity:O,fetchPriority:L}):x==="script"&&s.d.X(v,{crossOrigin:R,integrity:O,fetchPriority:L,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},br.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var x=y(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},br.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var x=_.as,R=y(x,_.crossOrigin);s.d.L(v,x,{crossOrigin:R,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},br.preloadModule=function(v,_){if(typeof v=="string")if(_){var x=y(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},br.requestFormReset=function(v){s.d.r(v)},br.unstable_batchedUpdates=function(v,_){return v(_)},br.useFormState=function(v,_,x){return c.H.useFormState(v,_,x)},br.useFormStatus=function(){return c.H.useHostTransitionStatus()},br.version="19.2.3",br}var Lb;function NS(){if(Lb)return vp.exports;Lb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),vp.exports=CS(),vp.exports}var Ub;function IS(){if(Ub)return _c;Ub=1;var r=RS(),e=wg(),n=NS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function c(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function v(t){if(u(t)!==t)throw Error(s(188))}function _(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var d=a.return;if(d===null)break;var p=d.alternate;if(p===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===a)return v(d),t;if(p===l)return v(d),i;p=p.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=p;else{for(var T=!1,N=d.child;N;){if(N===a){T=!0,a=d,l=p;break}if(N===l){T=!0,l=d,a=p;break}N=N.sibling}if(!T){for(N=p.child;N;){if(N===a){T=!0,a=p,l=d;break}if(N===l){T=!0,l=p,a=d;break}N=N.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function x(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=x(t),i!==null)return i;t=t.sibling}return null}var R=Object.assign,O=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),ie=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),pe=Symbol.for("react.profiler"),de=Symbol.for("react.consumer"),ve=Symbol.for("react.context"),Fe=Symbol.for("react.forward_ref"),Ke=Symbol.for("react.suspense"),Be=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function X(t){return t===null||typeof t!="object"?null:(t=F&&t[F]||t["@@iterator"],typeof t=="function"?t:null)}var V=Symbol.for("react.client.reference");function De(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===V?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case pe:return"Profiler";case H:return"StrictMode";case Ke:return"Suspense";case Be:return"SuspenseList";case j:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ie:return"Portal";case ve:return t.displayName||"Context";case de:return(t._context.displayName||"Context")+".Consumer";case Fe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return i=t.displayName||null,i!==null?i:De(t.type)||"Memo";case I:i=t._payload,t=t._init;try{return De(t(i))}catch{}}return null}var Ae=Array.isArray,he=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we={pending:!1,data:null,method:null,action:null},dt=[],mt=-1;function Y(t){return{current:t}}function _e(t){0>mt||(t.current=dt[mt],dt[mt]=null,mt--)}function Re(t,i){mt++,dt[mt]=t.current,t.current=i}var Pe=Y(null),Ze=Y(null),rt=Y(null),Je=Y(null);function sn(t,i){switch(Re(rt,i),Re(Ze,t),Re(Pe,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?eb(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=eb(i),t=tb(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}_e(Pe),Re(Pe,t)}function Ve(){_e(Pe),_e(Ze),_e(rt)}function Sr(t){t.memoizedState!==null&&Re(Je,t);var i=Pe.current,a=tb(i,t.type);i!==a&&(Re(Ze,t),Re(Pe,a))}function Ar(t){Ze.current===t&&(_e(Pe),_e(Ze)),Je.current===t&&(_e(Je),dc._currentValue=we)}var _t,Ni;function Ii(t){if(_t===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);_t=i&&i[1]||"",Ni=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_t+t+Ni}var si=!1;function Ls(t,i){if(!t||si)return"";si=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(me){var ce=me}Reflect.construct(t,[],Te)}else{try{Te.call()}catch(me){ce=me}t.call(Te.prototype)}}else{try{throw Error()}catch(me){ce=me}(Te=t())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(me){if(me&&ce&&typeof me.stack=="string")return[me.stack,ce.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),T=p[0],N=p[1];if(T&&N){var U=T.split(`
`),le=N.split(`
`);for(d=l=0;l<U.length&&!U[l].includes("DetermineComponentFrameRoot");)l++;for(;d<le.length&&!le[d].includes("DetermineComponentFrameRoot");)d++;if(l===U.length||d===le.length)for(l=U.length-1,d=le.length-1;1<=l&&0<=d&&U[l]!==le[d];)d--;for(;1<=l&&0<=d;l--,d--)if(U[l]!==le[d]){if(l!==1||d!==1)do if(l--,d--,0>d||U[l]!==le[d]){var ye=`
`+U[l].replace(" at new "," at ");return t.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",t.displayName)),ye}while(1<=l&&0<=d);break}}}finally{si=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ii(a):""}function Po(t,i){switch(t.tag){case 26:case 27:case 5:return Ii(t.type);case 16:return Ii("Lazy");case 13:return t.child!==i&&i!==null?Ii("Suspense Fallback"):Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 15:return Ls(t.type,!1);case 11:return Ls(t.type.render,!1);case 1:return Ls(t.type,!0);case 31:return Ii("Activity");default:return""}}function Vo(t){try{var i="",a=null;do i+=Po(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bn=Object.prototype.hasOwnProperty,un=r.unstable_scheduleCallback,Gn=r.unstable_cancelCallback,Rl=r.unstable_shouldYield,ms=r.unstable_requestPaint,Jn=r.unstable_now,ai=r.unstable_getCurrentPriorityLevel,oi=r.unstable_ImmediatePriority,li=r.unstable_UserBlockingPriority,Di=r.unstable_NormalPriority,Us=r.unstable_LowPriority,Ra=r.unstable_IdlePriority,zs=r.log,ki=r.unstable_setDisableYieldValue,pr=null,Sn=null;function An(t){if(typeof zs=="function"&&ki(t),Sn&&typeof Sn.setStrictMode=="function")try{Sn.setStrictMode(pr,t)}catch{}}var ze=Math.clz32?Math.clz32:Bs,ps=Math.log,Mr=Math.LN2;function Bs(t){return t>>>=0,t===0?32:31-(ps(t)/Mr|0)|0}var je=256,Zi=262144,cn=4194304;function jr(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ui(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,p=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var N=l&134217727;return N!==0?(l=N&~p,l!==0?d=jr(l):(T&=N,T!==0?d=jr(T):a||(a=N&~t,a!==0&&(d=jr(a))))):(N=l&~p,N!==0?d=jr(N):T!==0?d=jr(T):a||(a=l&~t,a!==0&&(d=jr(a)))),d===0?0:i!==0&&i!==d&&(i&p)===0&&(p=d&-d,a=i&-i,p>=a||p===32&&(a&4194048)!==0)?i:d}function Rr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Mu(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cl(){var t=cn;return cn<<=1,(cn&62914560)===0&&(cn=4194304),t}function sr(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Pr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Lo(t,i,a,l,d,p){var T=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var N=t.entanglements,U=t.expirationTimes,le=t.hiddenUpdates;for(a=T&~a;0<a;){var ye=31-ze(a),Te=1<<ye;N[ye]=0,U[ye]=-1;var ce=le[ye];if(ce!==null)for(le[ye]=null,ye=0;ye<ce.length;ye++){var me=ce[ye];me!==null&&(me.lane&=-536870913)}a&=~Te}l!==0&&Oi(t,l,0),p!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=p&~(T&~i))}function Oi(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-ze(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Bt(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-ze(a),d=1<<l;d&i|t[l]&i&&(t[l]|=i),a&=~d}}function an(t,i){var a=i&-i;return a=(a&42)!==0?1:Fs(a),(a&(t.suspendedLanes|i))!==0?0:a}function Fs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Vr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function qs(){var t=Ce.p;return t!==0?t:(t=window.event,t===void 0?32:xb(t.type))}function gr(t,i){var a=Ce.p;try{return Ce.p=t,i()}finally{Ce.p=a}}var ci=Math.random().toString(36).slice(2),qt="__reactFiber$"+ci,Zt="__reactProps$"+ci,Kn="__reactContainer$"+ci,es="__reactEvents$"+ci,ju="__reactListeners$"+ci,hi="__reactHandles$"+ci,Uo="__reactResources$"+ci,Zn="__reactMarker$"+ci;function Hs(t){delete t[qt],delete t[Zt],delete t[es],delete t[ju],delete t[hi]}function Lr(t){var i=t[qt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Kn]||a[qt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=lb(t);t!==null;){if(a=t[qt])return a;t=lb(t)}return i}t=a,a=t.parentNode}return null}function Mt(t){if(t=t[qt]||t[Kn]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Rn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function On(t){var i=t[Uo];return i||(i=t[Uo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function hn(t){t[Zn]=!0}var Mi=new Set,gs={};function Ur(t,i){zr(t,i),zr(t+"Capture",i)}function zr(t,i){for(gs[t]=i,t=0;t<i.length;t++)Mi.add(i[t])}var fi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ca={},ys={};function zo(t){return bn.call(ys,t)?!0:bn.call(Ca,t)?!1:fi.test(t)?ys[t]=!0:(Ca[t]=!0,!1)}function pt(t,i,a){if(zo(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function yr(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function fn(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function dn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Br(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Na(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,p=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(T){a=""+T,p.call(this,T)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(T){a=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Pt(t){if(!t._valueTracker){var i=Br(t)?"checked":"value";t._valueTracker=Na(t,i,""+t[i])}}function vs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Br(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function xt(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var di=/[\n"\\]/g;function Mn(t){return t.replace(di,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function mi(t,i,a,l,d,p,T,N){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),i!=null?T==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+dn(i)):t.value!==""+dn(i)&&(t.value=""+dn(i)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),i!=null?Gs(t,T,dn(i)):a!=null?Gs(t,T,dn(a)):l!=null&&t.removeAttribute("value"),d==null&&p!=null&&(t.defaultChecked=!!p),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?t.name=""+dn(N):t.removeAttribute("name")}function Ia(t,i,a,l,d,p,T,N){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),i!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||i!=null)){Pt(t);return}a=a!=null?""+dn(a):"",i=i!=null?""+dn(i):a,N||i===t.value||(t.value=i),t.defaultValue=i}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=N?t.checked:!!l,t.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),Pt(t)}function Gs(t,i,a){i==="number"&&xt(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function pi(t,i,a,l){if(t=t.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=i.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+dn(a),i=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function Bo(t,i,a){if(i!=null&&(i=""+dn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+dn(a):""}function gi(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ae(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=dn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Pt(t)}function ar(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Nl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tt(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Nl.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Da(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in i)l=i[d],i.hasOwnProperty(d)&&a[d]!==l&&Tt(t,d,l)}else for(var p in i)i.hasOwnProperty(p)&&Tt(t,p,i[p])}function ka(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Il=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yi(t){return wn.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function vr(){}var Fr=null;function Cr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ts=null,Ht=null;function er(t){var i=Mt(t);if(i&&(t=i.stateNode)){var a=t[Zt]||null;e:switch(t=i.stateNode,i.type){case"input":if(mi(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Mn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var d=l[Zt]||null;if(!d)throw Error(s(90));mi(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&vs(l)}break e;case"textarea":Bo(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&pi(t,!!a.multiple,i,!1)}}}var ji=!1;function qr(t,i,a){if(ji)return t(i,a);ji=!0;try{var l=t(i);return l}finally{if(ji=!1,(ts!==null||Ht!==null)&&(Uh(),ts&&(i=ts,t=Ht,Ht=ts=null,er(i),t)))for(i=0;i<t.length;i++)er(t[i])}}function Nr(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Zt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ks=!1;if(Cn)try{var bt={};Object.defineProperty(bt,"passive",{get:function(){Ks=!0}}),window.addEventListener("test",bt,bt),window.removeEventListener("test",bt,bt)}catch{Ks=!1}var Hr=null,Oa=null,ns=null;function rs(){if(ns)return ns;var t,i=Oa,a=i.length,l,d="value"in Hr?Hr.value:Hr.textContent,p=d.length;for(t=0;t<a&&i[t]===d[t];t++);var T=a-t;for(l=1;l<=T&&i[a-l]===d[p-l];l++);return ns=d.slice(t,1<l?1-l:void 0)}function is(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Pi(){return!0}function vi(){return!1}function mn(t){function i(a,l,d,p,T){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var N in t)t.hasOwnProperty(N)&&(a=t[N],this[N]=a?a(p):p[N]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Pi:vi,this.isPropagationStopped=vi,this}return R(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),i}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=mn(ss),_i=R({},ss,{view:0,detail:0}),_s=mn(_i),Li,Ma,Ui,ja=R({},_i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ui&&(Ui&&t.type==="mousemove"?(Li=t.screenX-Ui.screenX,Ma=t.screenY-Ui.screenY):Ma=Li=0,Ui=t),Li)},movementY:function(t){return"movementY"in t?t.movementY:Ma}}),Qs=mn(ja),as=R({},ja,{dataTransfer:0}),Fo=mn(as),Ys=R({},_i,{relatedTarget:0}),zi=mn(Ys),bs=R({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),qo=mn(bs),Pa=R({},ss,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),os=mn(Pa),Va=R({},ss,{data:0}),Gr=mn(Va),La={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ua={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ws(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Nn[t])?!!i[t]:!1}function Kr(){return ws}var tr=R({},_i,{key:function(t){if(t.key){var i=La[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=is(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ua[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kr,charCode:function(t){return t.type==="keypress"?is(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?is(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$s=mn(tr),Ho=R({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=mn(Ho),h=R({},_i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kr}),w=mn(h),S=R({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),k=mn(S),se=R({},ja,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fe=mn(se),Oe=R({},ss,{newState:0,oldState:0}),ut=mn(Oe),pn=[9,13,27,32],kt=Cn&&"CompositionEvent"in window,Gt=null;Cn&&"documentMode"in document&&(Gt=document.documentMode);var Qr=Cn&&"TextEvent"in window&&!Gt,Yr=Cn&&(!kt||Gt&&8<Gt&&11>=Gt),Ir=" ",bi=!1;function Es(t,i){switch(t){case"keyup":return pn.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function za(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xs=!1;function sh(t,i){switch(t){case"compositionend":return za(i);case"keypress":return i.which!==32?null:(bi=!0,Ir);case"textInput":return t=i.data,t===Ir&&bi?null:t;default:return null}}function Rd(t,i){if(Xs)return t==="compositionend"||!kt&&Es(t,i)?(t=rs(),ns=Oa=Hr=null,Xs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Yr&&i.locale!=="ko"?null:i.data;default:return null}}var ah={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dl(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!ah[t.type]:i==="textarea"}function Pu(t,i,a,l){ts?Ht?Ht.push(l):Ht=[l]:ts=l,i=Kh(i,"onChange"),0<i.length&&(a=new Vi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Ba=null,Go=null;function Cd(t){Y_(t,0)}function kl(t){var i=Rn(t);if(vs(i))return t}function Ko(t,i){if(t==="change")return i}var Fi=!1;if(Cn){var en;if(Cn){var Fa="oninput"in document;if(!Fa){var Dr=document.createElement("div");Dr.setAttribute("oninput","return;"),Fa=typeof Dr.oninput=="function"}en=Fa}else en=!1;Fi=en&&(!document.documentMode||9<document.documentMode)}function oh(){Ba&&(Ba.detachEvent("onpropertychange",Ol),Go=Ba=null)}function Ol(t){if(t.propertyName==="value"&&kl(Go)){var i=[];Pu(i,Go,t,Cr(t)),qr(Cd,i)}}function lh(t,i,a){t==="focusin"?(oh(),Ba=i,Go=a,Ba.attachEvent("onpropertychange",Ol)):t==="focusout"&&oh()}function Ws(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return kl(Go)}function Vu(t,i){if(t==="click")return kl(i)}function qa(t,i){if(t==="input"||t==="change")return kl(i)}function Ts(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var _r=typeof Object.is=="function"?Object.is:Ts;function f(t,i){if(_r(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!bn.call(i,d)||!_r(t[d],i[d]))return!1}return!0}function m(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function b(t,i){var a=m(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=m(a)}}function E(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?E(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function A(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=xt(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=xt(t.document)}return i}function C(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var M=Cn&&"documentMode"in document&&11>=document.documentMode,P=null,G=null,K=null,ee=!1;function z(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ee||P==null||P!==xt(l)||(l=P,"selectionStart"in l&&C(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),K&&f(K,l)||(K=l,l=Kh(G,"onSelect"),0<l.length&&(i=new Vi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=P)))}function ne(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Q={animationend:ne("Animation","AnimationEnd"),animationiteration:ne("Animation","AnimationIteration"),animationstart:ne("Animation","AnimationStart"),transitionrun:ne("Transition","TransitionRun"),transitionstart:ne("Transition","TransitionStart"),transitioncancel:ne("Transition","TransitionCancel"),transitionend:ne("Transition","TransitionEnd")},W={},J={};Cn&&(J=document.createElement("div").style,"AnimationEvent"in window||(delete Q.animationend.animation,delete Q.animationiteration.animation,delete Q.animationstart.animation),"TransitionEvent"in window||delete Q.transitionend.transition);function te(t){if(W[t])return W[t];if(!Q[t])return t;var i=Q[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in J)return W[t]=i[a];return t}var ae=te("animationend"),ue=te("animationiteration"),ge=te("animationstart"),Ee=te("transitionrun"),ke=te("transitionstart"),Ue=te("transitioncancel"),Ne=te("transitionend"),Me=new Map,Le="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Le.push("scrollEnd");function Ie(t,i){Me.set(t,i),Ur(i,[t])}var qe=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},et=[],ot=0,gt=0;function nr(){for(var t=ot,i=gt=ot=0;i<t;){var a=et[i];et[i++]=null;var l=et[i];et[i++]=null;var d=et[i];et[i++]=null;var p=et[i];if(et[i++]=null,l!==null&&d!==null){var T=l.pending;T===null?d.next=d:(d.next=T.next,T.next=d),l.pending=d}p!==0&&Qo(a,d,p)}}function at(t,i,a,l){et[ot++]=t,et[ot++]=i,et[ot++]=a,et[ot++]=l,gt|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function jn(t,i,a,l){return at(t,i,a,l),Pn(t)}function on(t,i){return at(t,null,null,i),Pn(t)}function Qo(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,p=t.return;p!==null;)p.childLanes|=a,l=p.alternate,l!==null&&(l.childLanes|=a),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(d=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,d&&i!==null&&(d=31-ze(a),t=p.hiddenUpdates,l=t[d],l===null?t[d]=[i]:l.push(i),i.lane=a|536870912),p):null}function Pn(t){if(50<ac)throw ac=0,Vm=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var $r={};function Lu(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wi(t,i,a,l){return new Lu(t,i,a,l)}function Nd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Js(t,i){var a=t.alternate;return a===null?(a=wi(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Iy(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function uh(t,i,a,l,d,p){var T=0;if(l=t,typeof t=="function")Nd(t)&&(T=1);else if(typeof t=="string")T=cS(t,a,Pe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case j:return t=wi(31,a,i,d),t.elementType=j,t.lanes=p,t;case Z:return Yo(a.children,d,p,i);case H:T=8,d|=24;break;case pe:return t=wi(12,a,i,d|2),t.elementType=pe,t.lanes=p,t;case Ke:return t=wi(13,a,i,d),t.elementType=Ke,t.lanes=p,t;case Be:return t=wi(19,a,i,d),t.elementType=Be,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ve:T=10;break e;case de:T=9;break e;case Fe:T=11;break e;case D:T=14;break e;case I:T=16,l=null;break e}T=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=wi(T,a,i,d),i.elementType=t,i.type=l,i.lanes=p,i}function Yo(t,i,a,l){return t=wi(7,t,l,i),t.lanes=a,t}function Id(t,i,a){return t=wi(6,t,null,i),t.lanes=a,t}function Dy(t){var i=wi(18,null,null,0);return i.stateNode=t,i}function Dd(t,i,a){return i=wi(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ky=new WeakMap;function qi(t,i){if(typeof t=="object"&&t!==null){var a=ky.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Vo(i)},ky.set(t,i),i)}return{value:t,source:i,stack:Vo(i)}}var Ml=[],jl=0,ch=null,Uu=0,Hi=[],Gi=0,Ha=null,xs=1,Ss="";function Zs(t,i){Ml[jl++]=Uu,Ml[jl++]=ch,ch=t,Uu=i}function Oy(t,i,a){Hi[Gi++]=xs,Hi[Gi++]=Ss,Hi[Gi++]=Ha,Ha=t;var l=xs;t=Ss;var d=32-ze(l)-1;l&=~(1<<d),a+=1;var p=32-ze(i)+d;if(30<p){var T=d-d%5;p=(l&(1<<T)-1).toString(32),l>>=T,d-=T,xs=1<<32-ze(i)+d|a<<d|l,Ss=p+t}else xs=1<<p|a<<d|l,Ss=t}function kd(t){t.return!==null&&(Zs(t,1),Oy(t,1,0))}function Od(t){for(;t===ch;)ch=Ml[--jl],Ml[jl]=null,Uu=Ml[--jl],Ml[jl]=null;for(;t===Ha;)Ha=Hi[--Gi],Hi[Gi]=null,Ss=Hi[--Gi],Hi[Gi]=null,xs=Hi[--Gi],Hi[Gi]=null}function My(t,i){Hi[Gi++]=xs,Hi[Gi++]=Ss,Hi[Gi++]=Ha,xs=i.id,Ss=i.overflow,Ha=t}var or=null,tn=null,Ot=!1,Ga=null,Ki=!1,Md=Error(s(519));function Ka(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zu(qi(i,t)),Md}function jy(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[qt]=t,i[Zt]=l,a){case"dialog":At("cancel",i),At("close",i);break;case"iframe":case"object":case"embed":At("load",i);break;case"video":case"audio":for(a=0;a<lc.length;a++)At(lc[a],i);break;case"source":At("error",i);break;case"img":case"image":case"link":At("error",i),At("load",i);break;case"details":At("toggle",i);break;case"input":At("invalid",i),Ia(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":At("invalid",i);break;case"textarea":At("invalid",i),gi(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||J_(i.textContent,a)?(l.popover!=null&&(At("beforetoggle",i),At("toggle",i)),l.onScroll!=null&&At("scroll",i),l.onScrollEnd!=null&&At("scrollend",i),l.onClick!=null&&(i.onclick=vr),i=!0):i=!1,i||Ka(t,!0)}function Py(t){for(or=t.return;or;)switch(or.tag){case 5:case 31:case 13:Ki=!1;return;case 27:case 3:Ki=!0;return;default:or=or.return}}function Pl(t){if(t!==or)return!1;if(!Ot)return Py(t),Ot=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Jm(t.type,t.memoizedProps)),a=!a),a&&tn&&Ka(t),Py(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tn=ob(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tn=ob(t)}else i===27?(i=tn,ao(t.type)?(t=rp,rp=null,tn=t):tn=i):tn=or?Yi(t.stateNode.nextSibling):null;return!0}function $o(){tn=or=null,Ot=!1}function jd(){var t=Ga;return t!==null&&(Zr===null?Zr=t:Zr.push.apply(Zr,t),Ga=null),t}function zu(t){Ga===null?Ga=[t]:Ga.push(t)}var Pd=Y(null),Xo=null,ea=null;function Qa(t,i,a){Re(Pd,i._currentValue),i._currentValue=a}function ta(t){t._currentValue=Pd.current,_e(Pd)}function Vd(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Ld(t,i,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var p=d.dependencies;if(p!==null){var T=d.child;p=p.firstContext;e:for(;p!==null;){var N=p;p=d;for(var U=0;U<i.length;U++)if(N.context===i[U]){p.lanes|=a,N=p.alternate,N!==null&&(N.lanes|=a),Vd(p.return,a,t),l||(T=null);break e}p=N.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(s(341));T.lanes|=a,p=T.alternate,p!==null&&(p.lanes|=a),Vd(T,a,t),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===t){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function Vl(t,i,a,l){t=null;for(var d=i,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var N=d.type;_r(d.pendingProps.value,T.value)||(t!==null?t.push(N):t=[N])}}else if(d===Je.current){if(T=d.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(dc):t=[dc])}d=d.return}t!==null&&Ld(i,t,a,l),i.flags|=262144}function hh(t){for(t=t.firstContext;t!==null;){if(!_r(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Wo(t){Xo=t,ea=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function lr(t){return Vy(Xo,t)}function fh(t,i){return Xo===null&&Wo(t),Vy(t,i)}function Vy(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ea===null){if(t===null)throw Error(s(308));ea=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ea=ea.next=i;return a}var ax=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},ox=r.unstable_scheduleCallback,lx=r.unstable_NormalPriority,Vn={$$typeof:ve,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ud(){return{controller:new ax,data:new Map,refCount:0}}function Bu(t){t.refCount--,t.refCount===0&&ox(lx,function(){t.controller.abort()})}var Fu=null,zd=0,Ll=0,Ul=null;function ux(t,i){if(Fu===null){var a=Fu=[];zd=0,Ll=qm(),Ul={status:"pending",value:void 0,then:function(l){a.push(l)}}}return zd++,i.then(Ly,Ly),i}function Ly(){if(--zd===0&&Fu!==null){Ul!==null&&(Ul.status="fulfilled");var t=Fu;Fu=null,Ll=0,Ul=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function cx(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var Uy=he.S;he.S=function(t,i){E_=Jn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&ux(t,i),Uy!==null&&Uy(t,i)};var Jo=Y(null);function Bd(){var t=Jo.current;return t!==null?t:Wt.pooledCache}function dh(t,i){i===null?Re(Jo,Jo.current):Re(Jo,i.pool)}function zy(){var t=Bd();return t===null?null:{parent:Vn._currentValue,pool:t}}var zl=Error(s(460)),Fd=Error(s(474)),mh=Error(s(542)),ph={then:function(){}};function By(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fy(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(vr,vr),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Hy(t),t;default:if(typeof i.status=="string")i.then(vr,vr);else{if(t=Wt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=l}},function(l){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Hy(t),t}throw el=i,zl}}function Zo(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(el=a,zl):a}}var el=null;function qy(){if(el===null)throw Error(s(459));var t=el;return el=null,t}function Hy(t){if(t===zl||t===mh)throw Error(s(483))}var Bl=null,qu=0;function gh(t){var i=qu;return qu+=1,Bl===null&&(Bl=[]),Fy(Bl,t,i)}function Hu(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function yh(t,i){throw i.$$typeof===O?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Gy(t){function i(re,$){if(t){var oe=re.deletions;oe===null?(re.deletions=[$],re.flags|=16):oe.push($)}}function a(re,$){if(!t)return null;for(;$!==null;)i(re,$),$=$.sibling;return null}function l(re){for(var $=new Map;re!==null;)re.key!==null?$.set(re.key,re):$.set(re.index,re),re=re.sibling;return $}function d(re,$){return re=Js(re,$),re.index=0,re.sibling=null,re}function p(re,$,oe){return re.index=oe,t?(oe=re.alternate,oe!==null?(oe=oe.index,oe<$?(re.flags|=67108866,$):oe):(re.flags|=67108866,$)):(re.flags|=1048576,$)}function T(re){return t&&re.alternate===null&&(re.flags|=67108866),re}function N(re,$,oe,be){return $===null||$.tag!==6?($=Id(oe,re.mode,be),$.return=re,$):($=d($,oe),$.return=re,$)}function U(re,$,oe,be){var tt=oe.type;return tt===Z?ye(re,$,oe.props.children,be,oe.key):$!==null&&($.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===I&&Zo(tt)===$.type)?($=d($,oe.props),Hu($,oe),$.return=re,$):($=uh(oe.type,oe.key,oe.props,null,re.mode,be),Hu($,oe),$.return=re,$)}function le(re,$,oe,be){return $===null||$.tag!==4||$.stateNode.containerInfo!==oe.containerInfo||$.stateNode.implementation!==oe.implementation?($=Dd(oe,re.mode,be),$.return=re,$):($=d($,oe.children||[]),$.return=re,$)}function ye(re,$,oe,be,tt){return $===null||$.tag!==7?($=Yo(oe,re.mode,be,tt),$.return=re,$):($=d($,oe),$.return=re,$)}function Te(re,$,oe){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=Id(""+$,re.mode,oe),$.return=re,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case L:return oe=uh($.type,$.key,$.props,null,re.mode,oe),Hu(oe,$),oe.return=re,oe;case ie:return $=Dd($,re.mode,oe),$.return=re,$;case I:return $=Zo($),Te(re,$,oe)}if(Ae($)||X($))return $=Yo($,re.mode,oe,null),$.return=re,$;if(typeof $.then=="function")return Te(re,gh($),oe);if($.$$typeof===ve)return Te(re,fh(re,$),oe);yh(re,$)}return null}function ce(re,$,oe,be){var tt=$!==null?$.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return tt!==null?null:N(re,$,""+oe,be);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case L:return oe.key===tt?U(re,$,oe,be):null;case ie:return oe.key===tt?le(re,$,oe,be):null;case I:return oe=Zo(oe),ce(re,$,oe,be)}if(Ae(oe)||X(oe))return tt!==null?null:ye(re,$,oe,be,null);if(typeof oe.then=="function")return ce(re,$,gh(oe),be);if(oe.$$typeof===ve)return ce(re,$,fh(re,oe),be);yh(re,oe)}return null}function me(re,$,oe,be,tt){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return re=re.get(oe)||null,N($,re,""+be,tt);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case L:return re=re.get(be.key===null?oe:be.key)||null,U($,re,be,tt);case ie:return re=re.get(be.key===null?oe:be.key)||null,le($,re,be,tt);case I:return be=Zo(be),me(re,$,oe,be,tt)}if(Ae(be)||X(be))return re=re.get(oe)||null,ye($,re,be,tt,null);if(typeof be.then=="function")return me(re,$,oe,gh(be),tt);if(be.$$typeof===ve)return me(re,$,oe,fh($,be),tt);yh($,be)}return null}function Ye(re,$,oe,be){for(var tt=null,Vt=null,We=$,vt=$=0,Ct=null;We!==null&&vt<oe.length;vt++){We.index>vt?(Ct=We,We=null):Ct=We.sibling;var Lt=ce(re,We,oe[vt],be);if(Lt===null){We===null&&(We=Ct);break}t&&We&&Lt.alternate===null&&i(re,We),$=p(Lt,$,vt),Vt===null?tt=Lt:Vt.sibling=Lt,Vt=Lt,We=Ct}if(vt===oe.length)return a(re,We),Ot&&Zs(re,vt),tt;if(We===null){for(;vt<oe.length;vt++)We=Te(re,oe[vt],be),We!==null&&($=p(We,$,vt),Vt===null?tt=We:Vt.sibling=We,Vt=We);return Ot&&Zs(re,vt),tt}for(We=l(We);vt<oe.length;vt++)Ct=me(We,re,vt,oe[vt],be),Ct!==null&&(t&&Ct.alternate!==null&&We.delete(Ct.key===null?vt:Ct.key),$=p(Ct,$,vt),Vt===null?tt=Ct:Vt.sibling=Ct,Vt=Ct);return t&&We.forEach(function(ho){return i(re,ho)}),Ot&&Zs(re,vt),tt}function it(re,$,oe,be){if(oe==null)throw Error(s(151));for(var tt=null,Vt=null,We=$,vt=$=0,Ct=null,Lt=oe.next();We!==null&&!Lt.done;vt++,Lt=oe.next()){We.index>vt?(Ct=We,We=null):Ct=We.sibling;var ho=ce(re,We,Lt.value,be);if(ho===null){We===null&&(We=Ct);break}t&&We&&ho.alternate===null&&i(re,We),$=p(ho,$,vt),Vt===null?tt=ho:Vt.sibling=ho,Vt=ho,We=Ct}if(Lt.done)return a(re,We),Ot&&Zs(re,vt),tt;if(We===null){for(;!Lt.done;vt++,Lt=oe.next())Lt=Te(re,Lt.value,be),Lt!==null&&($=p(Lt,$,vt),Vt===null?tt=Lt:Vt.sibling=Lt,Vt=Lt);return Ot&&Zs(re,vt),tt}for(We=l(We);!Lt.done;vt++,Lt=oe.next())Lt=me(We,re,vt,Lt.value,be),Lt!==null&&(t&&Lt.alternate!==null&&We.delete(Lt.key===null?vt:Lt.key),$=p(Lt,$,vt),Vt===null?tt=Lt:Vt.sibling=Lt,Vt=Lt);return t&&We.forEach(function(wS){return i(re,wS)}),Ot&&Zs(re,vt),tt}function Xt(re,$,oe,be){if(typeof oe=="object"&&oe!==null&&oe.type===Z&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case L:e:{for(var tt=oe.key;$!==null;){if($.key===tt){if(tt=oe.type,tt===Z){if($.tag===7){a(re,$.sibling),be=d($,oe.props.children),be.return=re,re=be;break e}}else if($.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===I&&Zo(tt)===$.type){a(re,$.sibling),be=d($,oe.props),Hu(be,oe),be.return=re,re=be;break e}a(re,$);break}else i(re,$);$=$.sibling}oe.type===Z?(be=Yo(oe.props.children,re.mode,be,oe.key),be.return=re,re=be):(be=uh(oe.type,oe.key,oe.props,null,re.mode,be),Hu(be,oe),be.return=re,re=be)}return T(re);case ie:e:{for(tt=oe.key;$!==null;){if($.key===tt)if($.tag===4&&$.stateNode.containerInfo===oe.containerInfo&&$.stateNode.implementation===oe.implementation){a(re,$.sibling),be=d($,oe.children||[]),be.return=re,re=be;break e}else{a(re,$);break}else i(re,$);$=$.sibling}be=Dd(oe,re.mode,be),be.return=re,re=be}return T(re);case I:return oe=Zo(oe),Xt(re,$,oe,be)}if(Ae(oe))return Ye(re,$,oe,be);if(X(oe)){if(tt=X(oe),typeof tt!="function")throw Error(s(150));return oe=tt.call(oe),it(re,$,oe,be)}if(typeof oe.then=="function")return Xt(re,$,gh(oe),be);if(oe.$$typeof===ve)return Xt(re,$,fh(re,oe),be);yh(re,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,$!==null&&$.tag===6?(a(re,$.sibling),be=d($,oe),be.return=re,re=be):(a(re,$),be=Id(oe,re.mode,be),be.return=re,re=be),T(re)):a(re,$)}return function(re,$,oe,be){try{qu=0;var tt=Xt(re,$,oe,be);return Bl=null,tt}catch(We){if(We===zl||We===mh)throw We;var Vt=wi(29,We,null,re.mode);return Vt.lanes=be,Vt.return=re,Vt}}}var tl=Gy(!0),Ky=Gy(!1),Ya=!1;function qd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function $a(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xa(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(zt&2)!==0){var d=l.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),l.pending=i,i=Pn(t),Qo(t,null,a),i}return at(t,l,i,a),Pn(t)}function Gu(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Bt(t,a)}}function Gd(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?d=p=T:p=p.next=T,a=a.next}while(a!==null);p===null?d=p=i:p=p.next=i}else d=p=i;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Kd=!1;function Ku(){if(Kd){var t=Ul;if(t!==null)throw t}}function Qu(t,i,a,l){Kd=!1;var d=t.updateQueue;Ya=!1;var p=d.firstBaseUpdate,T=d.lastBaseUpdate,N=d.shared.pending;if(N!==null){d.shared.pending=null;var U=N,le=U.next;U.next=null,T===null?p=le:T.next=le,T=U;var ye=t.alternate;ye!==null&&(ye=ye.updateQueue,N=ye.lastBaseUpdate,N!==T&&(N===null?ye.firstBaseUpdate=le:N.next=le,ye.lastBaseUpdate=U))}if(p!==null){var Te=d.baseState;T=0,ye=le=U=null,N=p;do{var ce=N.lane&-536870913,me=ce!==N.lane;if(me?(Rt&ce)===ce:(l&ce)===ce){ce!==0&&ce===Ll&&(Kd=!0),ye!==null&&(ye=ye.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Ye=t,it=N;ce=i;var Xt=a;switch(it.tag){case 1:if(Ye=it.payload,typeof Ye=="function"){Te=Ye.call(Xt,Te,ce);break e}Te=Ye;break e;case 3:Ye.flags=Ye.flags&-65537|128;case 0:if(Ye=it.payload,ce=typeof Ye=="function"?Ye.call(Xt,Te,ce):Ye,ce==null)break e;Te=R({},Te,ce);break e;case 2:Ya=!0}}ce=N.callback,ce!==null&&(t.flags|=64,me&&(t.flags|=8192),me=d.callbacks,me===null?d.callbacks=[ce]:me.push(ce))}else me={lane:ce,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ye===null?(le=ye=me,U=Te):ye=ye.next=me,T|=ce;if(N=N.next,N===null){if(N=d.shared.pending,N===null)break;me=N,N=me.next,me.next=null,d.lastBaseUpdate=me,d.shared.pending=null}}while(!0);ye===null&&(U=Te),d.baseState=U,d.firstBaseUpdate=le,d.lastBaseUpdate=ye,p===null&&(d.shared.lanes=0),to|=T,t.lanes=T,t.memoizedState=Te}}function Qy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Yy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Qy(a[t],i)}var Fl=Y(null),vh=Y(0);function $y(t,i){t=ca,Re(vh,t),Re(Fl,i),ca=t|i.baseLanes}function Qd(){Re(vh,ca),Re(Fl,Fl.current)}function Yd(){ca=vh.current,_e(Fl),_e(vh)}var Ei=Y(null),Qi=null;function Wa(t){var i=t.alternate;Re(In,In.current&1),Re(Ei,t),Qi===null&&(i===null||Fl.current!==null||i.memoizedState!==null)&&(Qi=t)}function $d(t){Re(In,In.current),Re(Ei,t),Qi===null&&(Qi=t)}function Xy(t){t.tag===22?(Re(In,In.current),Re(Ei,t),Qi===null&&(Qi=t)):Ja()}function Ja(){Re(In,In.current),Re(Ei,Ei.current)}function Ti(t){_e(Ei),Qi===t&&(Qi=null),_e(In)}var In=Y(0);function _h(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||tp(a)||np(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var na=0,yt=null,Yt=null,Ln=null,bh=!1,ql=!1,nl=!1,wh=0,Yu=0,Hl=null,hx=0;function En(){throw Error(s(321))}function Xd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!_r(t[a],i[a]))return!1;return!0}function Wd(t,i,a,l,d,p){return na=p,yt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,he.H=t===null||t.memoizedState===null?Ov:fm,nl=!1,p=a(l,d),nl=!1,ql&&(p=Jy(i,a,l,d)),Wy(t),p}function Wy(t){he.H=Wu;var i=Yt!==null&&Yt.next!==null;if(na=0,Ln=Yt=yt=null,bh=!1,Yu=0,Hl=null,i)throw Error(s(300));t===null||Un||(t=t.dependencies,t!==null&&hh(t)&&(Un=!0))}function Jy(t,i,a,l){yt=t;var d=0;do{if(ql&&(Hl=null),Yu=0,ql=!1,25<=d)throw Error(s(301));if(d+=1,Ln=Yt=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}he.H=Mv,p=i(a,l)}while(ql);return p}function fx(){var t=he.H,i=t.useState()[0];return i=typeof i.then=="function"?$u(i):i,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(yt.flags|=1024),i}function Jd(){var t=wh!==0;return wh=0,t}function Zd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function em(t){if(bh){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}bh=!1}na=0,Ln=Yt=yt=null,ql=!1,Yu=wh=0,Hl=null}function kr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ln===null?yt.memoizedState=Ln=t:Ln=Ln.next=t,Ln}function Dn(){if(Yt===null){var t=yt.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var i=Ln===null?yt.memoizedState:Ln.next;if(i!==null)Ln=i,Yt=t;else{if(t===null)throw yt.alternate===null?Error(s(467)):Error(s(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Ln===null?yt.memoizedState=Ln=t:Ln=Ln.next=t}return Ln}function Eh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $u(t){var i=Yu;return Yu+=1,Hl===null&&(Hl=[]),t=Fy(Hl,t,i),i=yt,(Ln===null?i.memoizedState:Ln.next)===null&&(i=i.alternate,he.H=i===null||i.memoizedState===null?Ov:fm),t}function Th(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return $u(t);if(t.$$typeof===ve)return lr(t)}throw Error(s(438,String(t)))}function tm(t){var i=null,a=yt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=yt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Eh(),yt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=B;return i.index++,a}function ra(t,i){return typeof i=="function"?i(t):i}function xh(t){var i=Dn();return nm(i,Yt,t)}function nm(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=t.baseQueue,p=l.pending;if(p!==null){if(d!==null){var T=d.next;d.next=p.next,p.next=T}i.baseQueue=d=p,l.pending=null}if(p=t.baseState,d===null)t.memoizedState=p;else{i=d.next;var N=T=null,U=null,le=i,ye=!1;do{var Te=le.lane&-536870913;if(Te!==le.lane?(Rt&Te)===Te:(na&Te)===Te){var ce=le.revertLane;if(ce===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),Te===Ll&&(ye=!0);else if((na&ce)===ce){le=le.next,ce===Ll&&(ye=!0);continue}else Te={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},U===null?(N=U=Te,T=p):U=U.next=Te,yt.lanes|=ce,to|=ce;Te=le.action,nl&&a(p,Te),p=le.hasEagerState?le.eagerState:a(p,Te)}else ce={lane:Te,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},U===null?(N=U=ce,T=p):U=U.next=ce,yt.lanes|=Te,to|=Te;le=le.next}while(le!==null&&le!==i);if(U===null?T=p:U.next=N,!_r(p,t.memoizedState)&&(Un=!0,ye&&(a=Ul,a!==null)))throw a;t.memoizedState=p,t.baseState=T,t.baseQueue=U,l.lastRenderedState=p}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function rm(t){var i=Dn(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,p=i.memoizedState;if(d!==null){a.pending=null;var T=d=d.next;do p=t(p,T.action),T=T.next;while(T!==d);_r(p,i.memoizedState)||(Un=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),a.lastRenderedState=p}return[p,l]}function Zy(t,i,a){var l=yt,d=Dn(),p=Ot;if(p){if(a===void 0)throw Error(s(407));a=a()}else a=i();var T=!_r((Yt||d).memoizedState,a);if(T&&(d.memoizedState=a,Un=!0),d=d.queue,am(nv.bind(null,l,d,t),[t]),d.getSnapshot!==i||T||Ln!==null&&Ln.memoizedState.tag&1){if(l.flags|=2048,Gl(9,{destroy:void 0},tv.bind(null,l,d,a,i),null),Wt===null)throw Error(s(349));p||(na&127)!==0||ev(l,i,a)}return a}function ev(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=yt.updateQueue,i===null?(i=Eh(),yt.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function tv(t,i,a,l){i.value=a,i.getSnapshot=l,rv(i)&&iv(t)}function nv(t,i,a){return a(function(){rv(i)&&iv(t)})}function rv(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!_r(t,a)}catch{return!0}}function iv(t){var i=on(t,2);i!==null&&ei(i,t,2)}function im(t){var i=kr();if(typeof t=="function"){var a=t;if(t=a(),nl){An(!0);try{a()}finally{An(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:t},i}function sv(t,i,a,l){return t.baseState=a,nm(t,Yt,typeof l=="function"?l:ra)}function dx(t,i,a,l,d){if(Rh(t))throw Error(s(485));if(t=i.action,t!==null){var p={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};he.T!==null?a(!0):p.isTransition=!1,l(p),a=i.pending,a===null?(p.next=i.pending=p,av(i,p)):(p.next=a.next,i.pending=a.next=p)}}function av(t,i){var a=i.action,l=i.payload,d=t.state;if(i.isTransition){var p=he.T,T={};he.T=T;try{var N=a(d,l),U=he.S;U!==null&&U(T,N),ov(t,i,N)}catch(le){sm(t,i,le)}finally{p!==null&&T.types!==null&&(p.types=T.types),he.T=p}}else try{p=a(d,l),ov(t,i,p)}catch(le){sm(t,i,le)}}function ov(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){lv(t,i,l)},function(l){return sm(t,i,l)}):lv(t,i,a)}function lv(t,i,a){i.status="fulfilled",i.value=a,uv(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,av(t,a)))}function sm(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,uv(i),i=i.next;while(i!==l)}t.action=null}function uv(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function cv(t,i){return i}function hv(t,i){if(Ot){var a=Wt.formState;if(a!==null){e:{var l=yt;if(Ot){if(tn){t:{for(var d=tn,p=Ki;d.nodeType!==8;){if(!p){d=null;break t}if(d=Yi(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){tn=Yi(d.nextSibling),l=d.data==="F!";break e}}Ka(l)}l=!1}l&&(i=a[0])}}return a=kr(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cv,lastRenderedState:i},a.queue=l,a=Iv.bind(null,yt,l),l.dispatch=a,l=im(!1),p=hm.bind(null,yt,!1,l.queue),l=kr(),d={state:i,dispatch:null,action:t,pending:null},l.queue=d,a=dx.bind(null,yt,d,p,a),d.dispatch=a,l.memoizedState=t,[i,a,!1]}function fv(t){var i=Dn();return dv(i,Yt,t)}function dv(t,i,a){if(i=nm(t,i,cv)[0],t=xh(ra)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=$u(i)}catch(T){throw T===zl?mh:T}else l=i;i=Dn();var d=i.queue,p=d.dispatch;return a!==i.memoizedState&&(yt.flags|=2048,Gl(9,{destroy:void 0},mx.bind(null,d,a),null)),[l,p,t]}function mx(t,i){t.action=i}function mv(t){var i=Dn(),a=Yt;if(a!==null)return dv(i,a,t);Dn(),i=i.memoizedState,a=Dn();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Gl(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=yt.updateQueue,i===null&&(i=Eh(),yt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function pv(){return Dn().memoizedState}function Sh(t,i,a,l){var d=kr();yt.flags|=t,d.memoizedState=Gl(1|i,{destroy:void 0},a,l===void 0?null:l)}function Ah(t,i,a,l){var d=Dn();l=l===void 0?null:l;var p=d.memoizedState.inst;Yt!==null&&l!==null&&Xd(l,Yt.memoizedState.deps)?d.memoizedState=Gl(i,p,a,l):(yt.flags|=t,d.memoizedState=Gl(1|i,p,a,l))}function gv(t,i){Sh(8390656,8,t,i)}function am(t,i){Ah(2048,8,t,i)}function px(t){yt.flags|=4;var i=yt.updateQueue;if(i===null)i=Eh(),yt.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function yv(t){var i=Dn().memoizedState;return px({ref:i,nextImpl:t}),function(){if((zt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function vv(t,i){return Ah(4,2,t,i)}function _v(t,i){return Ah(4,4,t,i)}function bv(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function wv(t,i,a){a=a!=null?a.concat([t]):null,Ah(4,4,bv.bind(null,i,t),a)}function om(){}function Ev(t,i){var a=Dn();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Xd(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Tv(t,i){var a=Dn();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Xd(i,l[1]))return l[0];if(l=t(),nl){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,i],l}function lm(t,i,a){return a===void 0||(na&1073741824)!==0&&(Rt&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=x_(),yt.lanes|=t,to|=t,a)}function xv(t,i,a,l){return _r(a,i)?a:Fl.current!==null?(t=lm(t,a,l),_r(t,i)||(Un=!0),t):(na&42)===0||(na&1073741824)!==0&&(Rt&261930)===0?(Un=!0,t.memoizedState=a):(t=x_(),yt.lanes|=t,to|=t,i)}function Sv(t,i,a,l,d){var p=Ce.p;Ce.p=p!==0&&8>p?p:8;var T=he.T,N={};he.T=N,hm(t,!1,i,a);try{var U=d(),le=he.S;if(le!==null&&le(N,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ye=cx(U,l);Xu(t,i,ye,Ai(t))}else Xu(t,i,l,Ai(t))}catch(Te){Xu(t,i,{then:function(){},status:"rejected",reason:Te},Ai())}finally{Ce.p=p,T!==null&&N.types!==null&&(T.types=N.types),he.T=T}}function gx(){}function um(t,i,a,l){if(t.tag!==5)throw Error(s(476));var d=Av(t).queue;Sv(t,d,i,we,a===null?gx:function(){return Rv(t),a(l)})}function Av(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:we,baseState:we,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:we},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Rv(t){var i=Av(t);i.next===null&&(i=t.alternate.memoizedState),Xu(t,i.next.queue,{},Ai())}function cm(){return lr(dc)}function Cv(){return Dn().memoizedState}function Nv(){return Dn().memoizedState}function yx(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Ai();t=$a(a);var l=Xa(i,t,a);l!==null&&(ei(l,i,a),Gu(l,i,a)),i={cache:Ud()},t.payload=i;return}i=i.return}}function vx(t,i,a){var l=Ai();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Rh(t)?Dv(i,a):(a=jn(t,i,a,l),a!==null&&(ei(a,t,l),kv(a,i,l)))}function Iv(t,i,a){var l=Ai();Xu(t,i,a,l)}function Xu(t,i,a,l){var d={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Rh(t))Dv(i,d);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var T=i.lastRenderedState,N=p(T,a);if(d.hasEagerState=!0,d.eagerState=N,_r(N,T))return at(t,i,d,0),Wt===null&&nr(),!1}catch{}if(a=jn(t,i,d,l),a!==null)return ei(a,t,l),kv(a,i,l),!0}return!1}function hm(t,i,a,l){if(l={lane:2,revertLane:qm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Rh(t)){if(i)throw Error(s(479))}else i=jn(t,a,l,2),i!==null&&ei(i,t,2)}function Rh(t){var i=t.alternate;return t===yt||i!==null&&i===yt}function Dv(t,i){ql=bh=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function kv(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Bt(t,a)}}var Wu={readContext:lr,use:Th,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useLayoutEffect:En,useInsertionEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useSyncExternalStore:En,useId:En,useHostTransitionStatus:En,useFormState:En,useActionState:En,useOptimistic:En,useMemoCache:En,useCacheRefresh:En};Wu.useEffectEvent=En;var Ov={readContext:lr,use:Th,useCallback:function(t,i){return kr().memoizedState=[t,i===void 0?null:i],t},useContext:lr,useEffect:gv,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Sh(4194308,4,bv.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Sh(4194308,4,t,i)},useInsertionEffect:function(t,i){Sh(4,2,t,i)},useMemo:function(t,i){var a=kr();i=i===void 0?null:i;var l=t();if(nl){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=kr();if(a!==void 0){var d=a(i);if(nl){An(!0);try{a(i)}finally{An(!1)}}}else d=i;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=vx.bind(null,yt,t),[l.memoizedState,t]},useRef:function(t){var i=kr();return t={current:t},i.memoizedState=t},useState:function(t){t=im(t);var i=t.queue,a=Iv.bind(null,yt,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:om,useDeferredValue:function(t,i){var a=kr();return lm(a,t,i)},useTransition:function(){var t=im(!1);return t=Sv.bind(null,yt,t.queue,!0,!1),kr().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=yt,d=kr();if(Ot){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Wt===null)throw Error(s(349));(Rt&127)!==0||ev(l,i,a)}d.memoizedState=a;var p={value:a,getSnapshot:i};return d.queue=p,gv(nv.bind(null,l,p,t),[t]),l.flags|=2048,Gl(9,{destroy:void 0},tv.bind(null,l,p,a,i),null),a},useId:function(){var t=kr(),i=Wt.identifierPrefix;if(Ot){var a=Ss,l=xs;a=(l&~(1<<32-ze(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=wh++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=hx++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:cm,useFormState:hv,useActionState:hv,useOptimistic:function(t){var i=kr();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=hm.bind(null,yt,!0,a),a.dispatch=i,[t,i]},useMemoCache:tm,useCacheRefresh:function(){return kr().memoizedState=yx.bind(null,yt)},useEffectEvent:function(t){var i=kr(),a={impl:t};return i.memoizedState=a,function(){if((zt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},fm={readContext:lr,use:Th,useCallback:Ev,useContext:lr,useEffect:am,useImperativeHandle:wv,useInsertionEffect:vv,useLayoutEffect:_v,useMemo:Tv,useReducer:xh,useRef:pv,useState:function(){return xh(ra)},useDebugValue:om,useDeferredValue:function(t,i){var a=Dn();return xv(a,Yt.memoizedState,t,i)},useTransition:function(){var t=xh(ra)[0],i=Dn().memoizedState;return[typeof t=="boolean"?t:$u(t),i]},useSyncExternalStore:Zy,useId:Cv,useHostTransitionStatus:cm,useFormState:fv,useActionState:fv,useOptimistic:function(t,i){var a=Dn();return sv(a,Yt,t,i)},useMemoCache:tm,useCacheRefresh:Nv};fm.useEffectEvent=yv;var Mv={readContext:lr,use:Th,useCallback:Ev,useContext:lr,useEffect:am,useImperativeHandle:wv,useInsertionEffect:vv,useLayoutEffect:_v,useMemo:Tv,useReducer:rm,useRef:pv,useState:function(){return rm(ra)},useDebugValue:om,useDeferredValue:function(t,i){var a=Dn();return Yt===null?lm(a,t,i):xv(a,Yt.memoizedState,t,i)},useTransition:function(){var t=rm(ra)[0],i=Dn().memoizedState;return[typeof t=="boolean"?t:$u(t),i]},useSyncExternalStore:Zy,useId:Cv,useHostTransitionStatus:cm,useFormState:mv,useActionState:mv,useOptimistic:function(t,i){var a=Dn();return Yt!==null?sv(a,Yt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:tm,useCacheRefresh:Nv};Mv.useEffectEvent=yv;function dm(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:R({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var mm={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Ai(),d=$a(l);d.payload=i,a!=null&&(d.callback=a),i=Xa(t,d,l),i!==null&&(ei(i,t,l),Gu(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Ai(),d=$a(l);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=Xa(t,d,l),i!==null&&(ei(i,t,l),Gu(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Ai(),l=$a(a);l.tag=2,i!=null&&(l.callback=i),i=Xa(t,l,a),i!==null&&(ei(i,t,a),Gu(i,t,a))}};function jv(t,i,a,l,d,p,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,p,T):i.prototype&&i.prototype.isPureReactComponent?!f(a,l)||!f(d,p):!0}function Pv(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&mm.enqueueReplaceState(i,i.state,null)}function rl(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=R({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}function Vv(t){qe(t)}function Lv(t){console.error(t)}function Uv(t){qe(t)}function Ch(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function zv(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function pm(t,i,a){return a=$a(a),a.tag=3,a.payload={element:null},a.callback=function(){Ch(t,i)},a}function Bv(t){return t=$a(t),t.tag=3,t}function Fv(t,i,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var p=l.value;t.payload=function(){return d(p)},t.callback=function(){zv(i,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){zv(i,a,l),typeof d!="function"&&(no===null?no=new Set([this]):no.add(this));var N=l.stack;this.componentDidCatch(l.value,{componentStack:N!==null?N:""})})}function _x(t,i,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Vl(i,a,d,!0),a=Ei.current,a!==null){switch(a.tag){case 31:case 13:return Qi===null?zh():a.alternate===null&&Tn===0&&(Tn=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===ph?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),zm(t,l,d)),!1;case 22:return a.flags|=65536,l===ph?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),zm(t,l,d)),!1}throw Error(s(435,a.tag))}return zm(t,l,d),zh(),!1}if(Ot)return i=Ei.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,l!==Md&&(t=Error(s(422),{cause:l}),zu(qi(t,a)))):(l!==Md&&(i=Error(s(423),{cause:l}),zu(qi(i,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=qi(l,a),d=pm(t.stateNode,l,d),Gd(t,d),Tn!==4&&(Tn=2)),!1;var p=Error(s(520),{cause:l});if(p=qi(p,a),sc===null?sc=[p]:sc.push(p),Tn!==4&&(Tn=2),i===null)return!0;l=qi(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=pm(a.stateNode,l,t),Gd(a,t),!1;case 1:if(i=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(no===null||!no.has(p))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Bv(d),Fv(d,t,a,l),Gd(a,d),!1}a=a.return}while(a!==null);return!1}var gm=Error(s(461)),Un=!1;function ur(t,i,a,l){i.child=t===null?Ky(i,null,a,l):tl(i,t.child,a,l)}function qv(t,i,a,l,d){a=a.render;var p=i.ref;if("ref"in l){var T={};for(var N in l)N!=="ref"&&(T[N]=l[N])}else T=l;return Wo(i),l=Wd(t,i,a,T,p,d),N=Jd(),t!==null&&!Un?(Zd(t,i,d),ia(t,i,d)):(Ot&&N&&kd(i),i.flags|=1,ur(t,i,l,d),i.child)}function Hv(t,i,a,l,d){if(t===null){var p=a.type;return typeof p=="function"&&!Nd(p)&&p.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=p,Gv(t,i,p,l,d)):(t=uh(a.type,null,l,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(p=t.child,!xm(t,d)){var T=p.memoizedProps;if(a=a.compare,a=a!==null?a:f,a(T,l)&&t.ref===i.ref)return ia(t,i,d)}return i.flags|=1,t=Js(p,l),t.ref=i.ref,t.return=i,i.child=t}function Gv(t,i,a,l,d){if(t!==null){var p=t.memoizedProps;if(f(p,l)&&t.ref===i.ref)if(Un=!1,i.pendingProps=l=p,xm(t,d))(t.flags&131072)!==0&&(Un=!0);else return i.lanes=t.lanes,ia(t,i,d)}return ym(t,i,a,l,d)}function Kv(t,i,a,l){var d=l.children,p=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(p=p!==null?p.baseLanes|a:a,t!==null){for(l=i.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~p}else l=0,i.child=null;return Qv(t,i,p,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&dh(i,p!==null?p.cachePool:null),p!==null?$y(i,p):Qd(),Xy(i);else return l=i.lanes=536870912,Qv(t,i,p!==null?p.baseLanes|a:a,a,l)}else p!==null?(dh(i,p.cachePool),$y(i,p),Ja(),i.memoizedState=null):(t!==null&&dh(i,null),Qd(),Ja());return ur(t,i,d,a),i.child}function Ju(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Qv(t,i,a,l,d){var p=Bd();return p=p===null?null:{parent:Vn._currentValue,pool:p},i.memoizedState={baseLanes:a,cachePool:p},t!==null&&dh(i,null),Qd(),Xy(i),t!==null&&Vl(t,i,l,!0),i.childLanes=d,null}function Nh(t,i){return i=Dh({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Yv(t,i,a){return tl(i,t.child,null,a),t=Nh(i,i.pendingProps),t.flags|=2,Ti(i),i.memoizedState=null,t}function bx(t,i,a){var l=i.pendingProps,d=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ot){if(l.mode==="hidden")return t=Nh(i,l),i.lanes=536870912,Ju(null,t);if($d(i),(t=tn)?(t=ab(t,Ki),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ha!==null?{id:xs,overflow:Ss}:null,retryLane:536870912,hydrationErrors:null},a=Dy(t),a.return=i,i.child=a,or=i,tn=null)):t=null,t===null)throw Ka(i);return i.lanes=536870912,null}return Nh(i,l)}var p=t.memoizedState;if(p!==null){var T=p.dehydrated;if($d(i),d)if(i.flags&256)i.flags&=-257,i=Yv(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Un||Vl(t,i,a,!1),d=(a&t.childLanes)!==0,Un||d){if(l=Wt,l!==null&&(T=an(l,a),T!==0&&T!==p.retryLane))throw p.retryLane=T,on(t,T),ei(l,t,T),gm;zh(),i=Yv(t,i,a)}else t=p.treeContext,tn=Yi(T.nextSibling),or=i,Ot=!0,Ga=null,Ki=!1,t!==null&&My(i,t),i=Nh(i,l),i.flags|=4096;return i}return t=Js(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Ih(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function ym(t,i,a,l,d){return Wo(i),a=Wd(t,i,a,l,void 0,d),l=Jd(),t!==null&&!Un?(Zd(t,i,d),ia(t,i,d)):(Ot&&l&&kd(i),i.flags|=1,ur(t,i,a,d),i.child)}function $v(t,i,a,l,d,p){return Wo(i),i.updateQueue=null,a=Jy(i,l,a,d),Wy(t),l=Jd(),t!==null&&!Un?(Zd(t,i,p),ia(t,i,p)):(Ot&&l&&kd(i),i.flags|=1,ur(t,i,a,p),i.child)}function Xv(t,i,a,l,d){if(Wo(i),i.stateNode===null){var p=$r,T=a.contextType;typeof T=="object"&&T!==null&&(p=lr(T)),p=new a(l,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=mm,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=l,p.state=i.memoizedState,p.refs={},qd(i),T=a.contextType,p.context=typeof T=="object"&&T!==null?lr(T):$r,p.state=i.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(dm(i,a,T,l),p.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&mm.enqueueReplaceState(p,p.state,null),Qu(i,l,p,d),Ku(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){p=i.stateNode;var N=i.memoizedProps,U=rl(a,N);p.props=U;var le=p.context,ye=a.contextType;T=$r,typeof ye=="object"&&ye!==null&&(T=lr(ye));var Te=a.getDerivedStateFromProps;ye=typeof Te=="function"||typeof p.getSnapshotBeforeUpdate=="function",N=i.pendingProps!==N,ye||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(N||le!==T)&&Pv(i,p,l,T),Ya=!1;var ce=i.memoizedState;p.state=ce,Qu(i,l,p,d),Ku(),le=i.memoizedState,N||ce!==le||Ya?(typeof Te=="function"&&(dm(i,a,Te,l),le=i.memoizedState),(U=Ya||jv(i,a,U,l,ce,le,T))?(ye||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=le),p.props=l,p.state=le,p.context=T,l=U):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{p=i.stateNode,Hd(t,i),T=i.memoizedProps,ye=rl(a,T),p.props=ye,Te=i.pendingProps,ce=p.context,le=a.contextType,U=$r,typeof le=="object"&&le!==null&&(U=lr(le)),N=a.getDerivedStateFromProps,(le=typeof N=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==Te||ce!==U)&&Pv(i,p,l,U),Ya=!1,ce=i.memoizedState,p.state=ce,Qu(i,l,p,d),Ku();var me=i.memoizedState;T!==Te||ce!==me||Ya||t!==null&&t.dependencies!==null&&hh(t.dependencies)?(typeof N=="function"&&(dm(i,a,N,l),me=i.memoizedState),(ye=Ya||jv(i,a,ye,l,ce,me,U)||t!==null&&t.dependencies!==null&&hh(t.dependencies))?(le||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,me,U),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,me,U)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===t.memoizedProps&&ce===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&ce===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=me),p.props=l,p.state=me,p.context=U,l=ye):(typeof p.componentDidUpdate!="function"||T===t.memoizedProps&&ce===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&ce===t.memoizedState||(i.flags|=1024),l=!1)}return p=l,Ih(t,i),l=(i.flags&128)!==0,p||l?(p=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,t!==null&&l?(i.child=tl(i,t.child,null,d),i.child=tl(i,null,a,d)):ur(t,i,a,d),i.memoizedState=p.state,t=i.child):t=ia(t,i,d),t}function Wv(t,i,a,l){return $o(),i.flags|=256,ur(t,i,a,l),i.child}var vm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _m(t){return{baseLanes:t,cachePool:zy()}}function bm(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Si),t}function Jv(t,i,a){var l=i.pendingProps,d=!1,p=(i.flags&128)!==0,T;if((T=p)||(T=t!==null&&t.memoizedState===null?!1:(In.current&2)!==0),T&&(d=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ot){if(d?Wa(i):Ja(),(t=tn)?(t=ab(t,Ki),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ha!==null?{id:xs,overflow:Ss}:null,retryLane:536870912,hydrationErrors:null},a=Dy(t),a.return=i,i.child=a,or=i,tn=null)):t=null,t===null)throw Ka(i);return np(t)?i.lanes=32:i.lanes=536870912,null}var N=l.children;return l=l.fallback,d?(Ja(),d=i.mode,N=Dh({mode:"hidden",children:N},d),l=Yo(l,d,a,null),N.return=i,l.return=i,N.sibling=l,i.child=N,l=i.child,l.memoizedState=_m(a),l.childLanes=bm(t,T,a),i.memoizedState=vm,Ju(null,l)):(Wa(i),wm(i,N))}var U=t.memoizedState;if(U!==null&&(N=U.dehydrated,N!==null)){if(p)i.flags&256?(Wa(i),i.flags&=-257,i=Em(t,i,a)):i.memoizedState!==null?(Ja(),i.child=t.child,i.flags|=128,i=null):(Ja(),N=l.fallback,d=i.mode,l=Dh({mode:"visible",children:l.children},d),N=Yo(N,d,a,null),N.flags|=2,l.return=i,N.return=i,l.sibling=N,i.child=l,tl(i,t.child,null,a),l=i.child,l.memoizedState=_m(a),l.childLanes=bm(t,T,a),i.memoizedState=vm,i=Ju(null,l));else if(Wa(i),np(N)){if(T=N.nextSibling&&N.nextSibling.dataset,T)var le=T.dgst;T=le,l=Error(s(419)),l.stack="",l.digest=T,zu({value:l,source:null,stack:null}),i=Em(t,i,a)}else if(Un||Vl(t,i,a,!1),T=(a&t.childLanes)!==0,Un||T){if(T=Wt,T!==null&&(l=an(T,a),l!==0&&l!==U.retryLane))throw U.retryLane=l,on(t,l),ei(T,t,l),gm;tp(N)||zh(),i=Em(t,i,a)}else tp(N)?(i.flags|=192,i.child=t.child,i=null):(t=U.treeContext,tn=Yi(N.nextSibling),or=i,Ot=!0,Ga=null,Ki=!1,t!==null&&My(i,t),i=wm(i,l.children),i.flags|=4096);return i}return d?(Ja(),N=l.fallback,d=i.mode,U=t.child,le=U.sibling,l=Js(U,{mode:"hidden",children:l.children}),l.subtreeFlags=U.subtreeFlags&65011712,le!==null?N=Js(le,N):(N=Yo(N,d,a,null),N.flags|=2),N.return=i,l.return=i,l.sibling=N,i.child=l,Ju(null,l),l=i.child,N=t.child.memoizedState,N===null?N=_m(a):(d=N.cachePool,d!==null?(U=Vn._currentValue,d=d.parent!==U?{parent:U,pool:U}:d):d=zy(),N={baseLanes:N.baseLanes|a,cachePool:d}),l.memoizedState=N,l.childLanes=bm(t,T,a),i.memoizedState=vm,Ju(t.child,l)):(Wa(i),a=t.child,t=a.sibling,a=Js(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(T=i.deletions,T===null?(i.deletions=[t],i.flags|=16):T.push(t)),i.child=a,i.memoizedState=null,a)}function wm(t,i){return i=Dh({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Dh(t,i){return t=wi(22,t,null,i),t.lanes=0,t}function Em(t,i,a){return tl(i,t.child,null,a),t=wm(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Zv(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Vd(t.return,i,a)}function Tm(t,i,a,l,d,p){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d,treeForkCount:p}:(T.isBackwards=i,T.rendering=null,T.renderingStartTime=0,T.last=l,T.tail=a,T.tailMode=d,T.treeForkCount=p)}function e_(t,i,a){var l=i.pendingProps,d=l.revealOrder,p=l.tail;l=l.children;var T=In.current,N=(T&2)!==0;if(N?(T=T&1|2,i.flags|=128):T&=1,Re(In,T),ur(t,i,l,a),l=Ot?Uu:0,!N&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zv(t,a,i);else if(t.tag===19)Zv(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(a=i.child,d=null;a!==null;)t=a.alternate,t!==null&&_h(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Tm(i,!1,d,a,p,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&_h(t)===null){i.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}Tm(i,!0,a,null,p,l);break;case"together":Tm(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function ia(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),to|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Vl(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Js(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Js(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function xm(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&hh(t)))}function wx(t,i,a){switch(i.tag){case 3:sn(i,i.stateNode.containerInfo),Qa(i,Vn,t.memoizedState.cache),$o();break;case 27:case 5:Sr(i);break;case 4:sn(i,i.stateNode.containerInfo);break;case 10:Qa(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,$d(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Wa(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Jv(t,i,a):(Wa(i),t=ia(t,i,a),t!==null?t.sibling:null);Wa(i);break;case 19:var d=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Vl(t,i,a,!1),l=(a&i.childLanes)!==0),d){if(l)return e_(t,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Re(In,In.current),l)break;return null;case 22:return i.lanes=0,Kv(t,i,a,i.pendingProps);case 24:Qa(i,Vn,t.memoizedState.cache)}return ia(t,i,a)}function t_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Un=!0;else{if(!xm(t,a)&&(i.flags&128)===0)return Un=!1,wx(t,i,a);Un=(t.flags&131072)!==0}else Un=!1,Ot&&(i.flags&1048576)!==0&&Oy(i,Uu,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Zo(i.elementType),i.type=t,typeof t=="function")Nd(t)?(l=rl(t,l),i.tag=1,i=Xv(null,i,t,l,a)):(i.tag=0,i=ym(null,i,t,l,a));else{if(t!=null){var d=t.$$typeof;if(d===Fe){i.tag=11,i=qv(null,i,t,l,a);break e}else if(d===D){i.tag=14,i=Hv(null,i,t,l,a);break e}}throw i=De(t)||t,Error(s(306,i,""))}}return i;case 0:return ym(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,d=rl(l,i.pendingProps),Xv(t,i,l,d,a);case 3:e:{if(sn(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var p=i.memoizedState;d=p.element,Hd(t,i),Qu(i,l,null,a);var T=i.memoizedState;if(l=T.cache,Qa(i,Vn,l),l!==p.cache&&Ld(i,[Vn],a,!0),Ku(),l=T.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=Wv(t,i,l,a);break e}else if(l!==d){d=qi(Error(s(424)),i),zu(d),i=Wv(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,tn=Yi(t.firstChild),or=i,Ot=!0,Ga=null,Ki=!0,a=Ky(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if($o(),l===d){i=ia(t,i,a);break e}ur(t,i,l,a)}i=i.child}return i;case 26:return Ih(t,i),t===null?(a=fb(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ot||(a=i.type,t=i.pendingProps,l=Qh(rt.current).createElement(a),l[qt]=i,l[Zt]=t,cr(l,a,t),hn(l),i.stateNode=l):i.memoizedState=fb(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Sr(i),t===null&&Ot&&(l=i.stateNode=ub(i.type,i.pendingProps,rt.current),or=i,Ki=!0,d=tn,ao(i.type)?(rp=d,tn=Yi(l.firstChild)):tn=d),ur(t,i,i.pendingProps.children,a),Ih(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ot&&((d=l=tn)&&(l=Wx(l,i.type,i.pendingProps,Ki),l!==null?(i.stateNode=l,or=i,tn=Yi(l.firstChild),Ki=!1,d=!0):d=!1),d||Ka(i)),Sr(i),d=i.type,p=i.pendingProps,T=t!==null?t.memoizedProps:null,l=p.children,Jm(d,p)?l=null:T!==null&&Jm(d,T)&&(i.flags|=32),i.memoizedState!==null&&(d=Wd(t,i,fx,null,null,a),dc._currentValue=d),Ih(t,i),ur(t,i,l,a),i.child;case 6:return t===null&&Ot&&((t=a=tn)&&(a=Jx(a,i.pendingProps,Ki),a!==null?(i.stateNode=a,or=i,tn=null,t=!0):t=!1),t||Ka(i)),null;case 13:return Jv(t,i,a);case 4:return sn(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=tl(i,null,l,a):ur(t,i,l,a),i.child;case 11:return qv(t,i,i.type,i.pendingProps,a);case 7:return ur(t,i,i.pendingProps,a),i.child;case 8:return ur(t,i,i.pendingProps.children,a),i.child;case 12:return ur(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Qa(i,i.type,l.value),ur(t,i,l.children,a),i.child;case 9:return d=i.type._context,l=i.pendingProps.children,Wo(i),d=lr(d),l=l(d),i.flags|=1,ur(t,i,l,a),i.child;case 14:return Hv(t,i,i.type,i.pendingProps,a);case 15:return Gv(t,i,i.type,i.pendingProps,a);case 19:return e_(t,i,a);case 31:return bx(t,i,a);case 22:return Kv(t,i,a,i.pendingProps);case 24:return Wo(i),l=lr(Vn),t===null?(d=Bd(),d===null&&(d=Wt,p=Ud(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=a),d=p),i.memoizedState={parent:l,cache:d},qd(i),Qa(i,Vn,d)):((t.lanes&a)!==0&&(Hd(t,i),Qu(i,null,null,a),Ku()),d=t.memoizedState,p=i.memoizedState,d.parent!==l?(d={parent:l,cache:l},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Qa(i,Vn,l)):(l=p.cache,Qa(i,Vn,l),l!==d.cache&&Ld(i,[Vn],a,!0))),ur(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function sa(t){t.flags|=4}function Sm(t,i,a,l,d){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(C_())t.flags|=8192;else throw el=ph,Fd}else t.flags&=-16777217}function n_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!yb(i))if(C_())t.flags|=8192;else throw el=ph,Fd}function kh(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Cl():536870912,t.lanes|=i,$l|=i)}function Zu(t,i){if(!Ot)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nn(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Ex(t,i,a){var l=i.pendingProps;switch(Od(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(i),null;case 1:return nn(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ta(Vn),Ve(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Pl(i)?sa(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,jd())),nn(i),null;case 26:var d=i.type,p=i.memoizedState;return t===null?(sa(i),p!==null?(nn(i),n_(i,p)):(nn(i),Sm(i,d,null,l,a))):p?p!==t.memoizedState?(sa(i),nn(i),n_(i,p)):(nn(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&sa(i),nn(i),Sm(i,d,t,l,a)),null;case 27:if(Ar(i),a=rt.current,d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&sa(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nn(i),null}t=Pe.current,Pl(i)?jy(i):(t=ub(d,l,a),i.stateNode=t,sa(i))}return nn(i),null;case 5:if(Ar(i),d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&sa(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nn(i),null}if(p=Pe.current,Pl(i))jy(i);else{var T=Qh(rt.current);switch(p){case 1:p=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:p=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":p=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":p=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":p=T.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof l.is=="string"?T.createElement("select",{is:l.is}):T.createElement("select"),l.multiple?p.multiple=!0:l.size&&(p.size=l.size);break;default:p=typeof l.is=="string"?T.createElement(d,{is:l.is}):T.createElement(d)}}p[qt]=i,p[Zt]=l;e:for(T=i.child;T!==null;){if(T.tag===5||T.tag===6)p.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===i)break e;for(;T.sibling===null;){if(T.return===null||T.return===i)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}i.stateNode=p;e:switch(cr(p,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&sa(i)}}return nn(i),Sm(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&sa(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=rt.current,Pl(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,d=or,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[qt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||J_(t.nodeValue,a)),t||Ka(i,!0)}else t=Qh(t).createTextNode(l),t[qt]=i,i.stateNode=t}return nn(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Pl(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[qt]=i}else $o(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nn(i),t=!1}else a=jd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Ti(i),i):(Ti(i),null);if((i.flags&128)!==0)throw Error(s(558))}return nn(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Pl(i),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(s(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[qt]=i}else $o(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nn(i),d=!1}else d=jd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Ti(i),i):(Ti(i),null)}return Ti(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==d&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),kh(i,i.updateQueue),nn(i),null);case 4:return Ve(),t===null&&Qm(i.stateNode.containerInfo),nn(i),null;case 10:return ta(i.type),nn(i),null;case 19:if(_e(In),l=i.memoizedState,l===null)return nn(i),null;if(d=(i.flags&128)!==0,p=l.rendering,p===null)if(d)Zu(l,!1);else{if(Tn!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(p=_h(t),p!==null){for(i.flags|=128,Zu(l,!1),t=p.updateQueue,i.updateQueue=t,kh(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Iy(a,t),a=a.sibling;return Re(In,In.current&1|2),Ot&&Zs(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&Jn()>Vh&&(i.flags|=128,d=!0,Zu(l,!1),i.lanes=4194304)}else{if(!d)if(t=_h(p),t!==null){if(i.flags|=128,d=!0,t=t.updateQueue,i.updateQueue=t,kh(i,t),Zu(l,!0),l.tail===null&&l.tailMode==="hidden"&&!p.alternate&&!Ot)return nn(i),null}else 2*Jn()-l.renderingStartTime>Vh&&a!==536870912&&(i.flags|=128,d=!0,Zu(l,!1),i.lanes=4194304);l.isBackwards?(p.sibling=i.child,i.child=p):(t=l.last,t!==null?t.sibling=p:i.child=p,l.last=p)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Jn(),t.sibling=null,a=In.current,Re(In,d?a&1|2:a&1),Ot&&Zs(i,l.treeForkCount),t):(nn(i),null);case 22:case 23:return Ti(i),Yd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(nn(i),i.subtreeFlags&6&&(i.flags|=8192)):nn(i),a=i.updateQueue,a!==null&&kh(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&_e(Jo),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ta(Vn),nn(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Tx(t,i){switch(Od(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ta(Vn),Ve(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ar(i),null;case 31:if(i.memoizedState!==null){if(Ti(i),i.alternate===null)throw Error(s(340));$o()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Ti(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));$o()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return _e(In),null;case 4:return Ve(),null;case 10:return ta(i.type),null;case 22:case 23:return Ti(i),Yd(),t!==null&&_e(Jo),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ta(Vn),null;case 25:return null;default:return null}}function r_(t,i){switch(Od(i),i.tag){case 3:ta(Vn),Ve();break;case 26:case 27:case 5:Ar(i);break;case 4:Ve();break;case 31:i.memoizedState!==null&&Ti(i);break;case 13:Ti(i);break;case 19:_e(In);break;case 10:ta(i.type);break;case 22:case 23:Ti(i),Yd(),t!==null&&_e(Jo);break;case 24:ta(Vn)}}function ec(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var p=a.create,T=a.inst;l=p(),T.destroy=l}a=a.next}while(a!==d)}}catch(N){Qt(i,i.return,N)}}function Za(t,i,a){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var p=d.next;l=p;do{if((l.tag&t)===t){var T=l.inst,N=T.destroy;if(N!==void 0){T.destroy=void 0,d=i;var U=a,le=N;try{le()}catch(ye){Qt(d,U,ye)}}}l=l.next}while(l!==p)}}catch(ye){Qt(i,i.return,ye)}}function i_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Yy(i,a)}catch(l){Qt(t,t.return,l)}}}function s_(t,i,a){a.props=rl(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Qt(t,i,l)}}function tc(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){Qt(t,i,d)}}function As(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){Qt(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Qt(t,i,d)}else a.current=null}function a_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){Qt(t,t.return,d)}}function Am(t,i,a){try{var l=t.stateNode;Gx(l,t.type,a,i),l[Zt]=i}catch(d){Qt(t,t.return,d)}}function o_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ao(t.type)||t.tag===4}function Rm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||o_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ao(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cm(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=vr));else if(l!==4&&(l===27&&ao(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Cm(t,i,a),t=t.sibling;t!==null;)Cm(t,i,a),t=t.sibling}function Oh(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&ao(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Oh(t,i,a),t=t.sibling;t!==null;)Oh(t,i,a),t=t.sibling}function l_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);cr(i,l,a),i[qt]=t,i[Zt]=a}catch(p){Qt(t,t.return,p)}}var aa=!1,zn=!1,Nm=!1,u_=typeof WeakSet=="function"?WeakSet:Set,rr=null;function xx(t,i){if(t=t.containerInfo,Xm=ef,t=A(t),C(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var T=0,N=-1,U=-1,le=0,ye=0,Te=t,ce=null;t:for(;;){for(var me;Te!==a||d!==0&&Te.nodeType!==3||(N=T+d),Te!==p||l!==0&&Te.nodeType!==3||(U=T+l),Te.nodeType===3&&(T+=Te.nodeValue.length),(me=Te.firstChild)!==null;)ce=Te,Te=me;for(;;){if(Te===t)break t;if(ce===a&&++le===d&&(N=T),ce===p&&++ye===l&&(U=T),(me=Te.nextSibling)!==null)break;Te=ce,ce=Te.parentNode}Te=me}a=N===-1||U===-1?null:{start:N,end:U}}else a=null}a=a||{start:0,end:0}}else a=null;for(Wm={focusedElem:t,selectionRange:a},ef=!1,rr=i;rr!==null;)if(i=rr,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,rr=t;else for(;rr!==null;){switch(i=rr,p=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)d=t[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,a=i,d=p.memoizedProps,p=p.memoizedState,l=a.stateNode;try{var Ye=rl(a.type,d);t=l.getSnapshotBeforeUpdate(Ye,p),l.__reactInternalSnapshotBeforeUpdate=t}catch(it){Qt(a,a.return,it)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)ep(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ep(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,rr=t;break}rr=i.return}}function c_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:la(t,a),l&4&&ec(5,a);break;case 1:if(la(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(T){Qt(a,a.return,T)}else{var d=rl(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Qt(a,a.return,T)}}l&64&&i_(a),l&512&&tc(a,a.return);break;case 3:if(la(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Yy(t,i)}catch(T){Qt(a,a.return,T)}}break;case 27:i===null&&l&4&&l_(a);case 26:case 5:la(t,a),i===null&&l&4&&a_(a),l&512&&tc(a,a.return);break;case 12:la(t,a);break;case 31:la(t,a),l&4&&d_(t,a);break;case 13:la(t,a),l&4&&m_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Ox.bind(null,a),Zx(t,a))));break;case 22:if(l=a.memoizedState!==null||aa,!l){i=i!==null&&i.memoizedState!==null||zn,d=aa;var p=zn;aa=l,(zn=i)&&!p?ua(t,a,(a.subtreeFlags&8772)!==0):la(t,a),aa=d,zn=p}break;case 30:break;default:la(t,a)}}function h_(t){var i=t.alternate;i!==null&&(t.alternate=null,h_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Hs(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ln=null,Xr=!1;function oa(t,i,a){for(a=a.child;a!==null;)f_(t,i,a),a=a.sibling}function f_(t,i,a){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(pr,a)}catch{}switch(a.tag){case 26:zn||As(a,i),oa(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:zn||As(a,i);var l=ln,d=Xr;ao(a.type)&&(ln=a.stateNode,Xr=!1),oa(t,i,a),cc(a.stateNode),ln=l,Xr=d;break;case 5:zn||As(a,i);case 6:if(l=ln,d=Xr,ln=null,oa(t,i,a),ln=l,Xr=d,ln!==null)if(Xr)try{(ln.nodeType===9?ln.body:ln.nodeName==="HTML"?ln.ownerDocument.body:ln).removeChild(a.stateNode)}catch(p){Qt(a,i,p)}else try{ln.removeChild(a.stateNode)}catch(p){Qt(a,i,p)}break;case 18:ln!==null&&(Xr?(t=ln,ib(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ru(t)):ib(ln,a.stateNode));break;case 4:l=ln,d=Xr,ln=a.stateNode.containerInfo,Xr=!0,oa(t,i,a),ln=l,Xr=d;break;case 0:case 11:case 14:case 15:Za(2,a,i),zn||Za(4,a,i),oa(t,i,a);break;case 1:zn||(As(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&s_(a,i,l)),oa(t,i,a);break;case 21:oa(t,i,a);break;case 22:zn=(l=zn)||a.memoizedState!==null,oa(t,i,a),zn=l;break;default:oa(t,i,a)}}function d_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ru(t)}catch(a){Qt(i,i.return,a)}}}function m_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ru(t)}catch(a){Qt(i,i.return,a)}}function Sx(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new u_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new u_),i;default:throw Error(s(435,t.tag))}}function Mh(t,i){var a=Sx(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var d=Mx.bind(null,t,l);l.then(d,d)}})}function Wr(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],p=t,T=i,N=T;e:for(;N!==null;){switch(N.tag){case 27:if(ao(N.type)){ln=N.stateNode,Xr=!1;break e}break;case 5:ln=N.stateNode,Xr=!1;break e;case 3:case 4:ln=N.stateNode.containerInfo,Xr=!0;break e}N=N.return}if(ln===null)throw Error(s(160));f_(p,T,d),ln=null,Xr=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)p_(i,t),i=i.sibling}var ls=null;function p_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Wr(i,t),Jr(t),l&4&&(Za(3,t,t.return),ec(3,t),Za(5,t,t.return));break;case 1:Wr(i,t),Jr(t),l&512&&(zn||a===null||As(a,a.return)),l&64&&aa&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=ls;if(Wr(i,t),Jr(t),l&512&&(zn||a===null||As(a,a.return)),l&4){var p=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":p=d.getElementsByTagName("title")[0],(!p||p[Zn]||p[qt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(l),d.head.insertBefore(p,d.querySelector("head > title"))),cr(p,l,a),p[qt]=t,hn(p),l=p;break e;case"link":var T=pb("link","href",d).get(l+(a.href||""));if(T){for(var N=0;N<T.length;N++)if(p=T[N],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(N,1);break t}}p=d.createElement(l),cr(p,l,a),d.head.appendChild(p);break;case"meta":if(T=pb("meta","content",d).get(l+(a.content||""))){for(N=0;N<T.length;N++)if(p=T[N],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(N,1);break t}}p=d.createElement(l),cr(p,l,a),d.head.appendChild(p);break;default:throw Error(s(468,l))}p[qt]=t,hn(p),l=p}t.stateNode=l}else gb(d,t.type,t.stateNode);else t.stateNode=mb(d,l,t.memoizedProps);else p!==l?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,l===null?gb(d,t.type,t.stateNode):mb(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Am(t,t.memoizedProps,a.memoizedProps)}break;case 27:Wr(i,t),Jr(t),l&512&&(zn||a===null||As(a,a.return)),a!==null&&l&4&&Am(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Wr(i,t),Jr(t),l&512&&(zn||a===null||As(a,a.return)),t.flags&32){d=t.stateNode;try{ar(d,"")}catch(Ye){Qt(t,t.return,Ye)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,Am(t,d,a!==null?a.memoizedProps:d)),l&1024&&(Nm=!0);break;case 6:if(Wr(i,t),Jr(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Ye){Qt(t,t.return,Ye)}}break;case 3:if(Xh=null,d=ls,ls=Yh(i.containerInfo),Wr(i,t),ls=d,Jr(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ru(i.containerInfo)}catch(Ye){Qt(t,t.return,Ye)}Nm&&(Nm=!1,g_(t));break;case 4:l=ls,ls=Yh(t.stateNode.containerInfo),Wr(i,t),Jr(t),ls=l;break;case 12:Wr(i,t),Jr(t);break;case 31:Wr(i,t),Jr(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mh(t,l)));break;case 13:Wr(i,t),Jr(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ph=Jn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mh(t,l)));break;case 22:d=t.memoizedState!==null;var U=a!==null&&a.memoizedState!==null,le=aa,ye=zn;if(aa=le||d,zn=ye||U,Wr(i,t),zn=ye,aa=le,Jr(t),l&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||U||aa||zn||il(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){U=a=i;try{if(p=U.stateNode,d)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{N=U.stateNode;var Te=U.memoizedProps.style,ce=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;N.style.display=ce==null||typeof ce=="boolean"?"":(""+ce).trim()}}catch(Ye){Qt(U,U.return,Ye)}}}else if(i.tag===6){if(a===null){U=i;try{U.stateNode.nodeValue=d?"":U.memoizedProps}catch(Ye){Qt(U,U.return,Ye)}}}else if(i.tag===18){if(a===null){U=i;try{var me=U.stateNode;d?sb(me,!0):sb(U.stateNode,!1)}catch(Ye){Qt(U,U.return,Ye)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Mh(t,a))));break;case 19:Wr(i,t),Jr(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mh(t,l)));break;case 30:break;case 21:break;default:Wr(i,t),Jr(t)}}function Jr(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(o_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,p=Rm(t);Oh(t,p,d);break;case 5:var T=a.stateNode;a.flags&32&&(ar(T,""),a.flags&=-33);var N=Rm(t);Oh(t,N,T);break;case 3:case 4:var U=a.stateNode.containerInfo,le=Rm(t);Cm(t,le,U);break;default:throw Error(s(161))}}catch(ye){Qt(t,t.return,ye)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function g_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;g_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function la(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)c_(t,i.alternate,i),i=i.sibling}function il(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Za(4,i,i.return),il(i);break;case 1:As(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&s_(i,i.return,a),il(i);break;case 27:cc(i.stateNode);case 26:case 5:As(i,i.return),il(i);break;case 22:i.memoizedState===null&&il(i);break;case 30:il(i);break;default:il(i)}t=t.sibling}}function ua(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,d=t,p=i,T=p.flags;switch(p.tag){case 0:case 11:case 15:ua(d,p,a),ec(4,p);break;case 1:if(ua(d,p,a),l=p,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(le){Qt(l,l.return,le)}if(l=p,d=l.updateQueue,d!==null){var N=l.stateNode;try{var U=d.shared.hiddenCallbacks;if(U!==null)for(d.shared.hiddenCallbacks=null,d=0;d<U.length;d++)Qy(U[d],N)}catch(le){Qt(l,l.return,le)}}a&&T&64&&i_(p),tc(p,p.return);break;case 27:l_(p);case 26:case 5:ua(d,p,a),a&&l===null&&T&4&&a_(p),tc(p,p.return);break;case 12:ua(d,p,a);break;case 31:ua(d,p,a),a&&T&4&&d_(d,p);break;case 13:ua(d,p,a),a&&T&4&&m_(d,p);break;case 22:p.memoizedState===null&&ua(d,p,a),tc(p,p.return);break;case 30:break;default:ua(d,p,a)}i=i.sibling}}function Im(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Bu(a))}function Dm(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Bu(t))}function us(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)y_(t,i,a,l),i=i.sibling}function y_(t,i,a,l){var d=i.flags;switch(i.tag){case 0:case 11:case 15:us(t,i,a,l),d&2048&&ec(9,i);break;case 1:us(t,i,a,l);break;case 3:us(t,i,a,l),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Bu(t)));break;case 12:if(d&2048){us(t,i,a,l),t=i.stateNode;try{var p=i.memoizedProps,T=p.id,N=p.onPostCommit;typeof N=="function"&&N(T,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(U){Qt(i,i.return,U)}}else us(t,i,a,l);break;case 31:us(t,i,a,l);break;case 13:us(t,i,a,l);break;case 23:break;case 22:p=i.stateNode,T=i.alternate,i.memoizedState!==null?p._visibility&2?us(t,i,a,l):nc(t,i):p._visibility&2?us(t,i,a,l):(p._visibility|=2,Kl(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),d&2048&&Im(T,i);break;case 24:us(t,i,a,l),d&2048&&Dm(i.alternate,i);break;default:us(t,i,a,l)}}function Kl(t,i,a,l,d){for(d=d&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var p=t,T=i,N=a,U=l,le=T.flags;switch(T.tag){case 0:case 11:case 15:Kl(p,T,N,U,d),ec(8,T);break;case 23:break;case 22:var ye=T.stateNode;T.memoizedState!==null?ye._visibility&2?Kl(p,T,N,U,d):nc(p,T):(ye._visibility|=2,Kl(p,T,N,U,d)),d&&le&2048&&Im(T.alternate,T);break;case 24:Kl(p,T,N,U,d),d&&le&2048&&Dm(T.alternate,T);break;default:Kl(p,T,N,U,d)}i=i.sibling}}function nc(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,d=l.flags;switch(l.tag){case 22:nc(a,l),d&2048&&Im(l.alternate,l);break;case 24:nc(a,l),d&2048&&Dm(l.alternate,l);break;default:nc(a,l)}i=i.sibling}}var rc=8192;function Ql(t,i,a){if(t.subtreeFlags&rc)for(t=t.child;t!==null;)v_(t,i,a),t=t.sibling}function v_(t,i,a){switch(t.tag){case 26:Ql(t,i,a),t.flags&rc&&t.memoizedState!==null&&hS(a,ls,t.memoizedState,t.memoizedProps);break;case 5:Ql(t,i,a);break;case 3:case 4:var l=ls;ls=Yh(t.stateNode.containerInfo),Ql(t,i,a),ls=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=rc,rc=16777216,Ql(t,i,a),rc=l):Ql(t,i,a));break;default:Ql(t,i,a)}}function __(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ic(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];rr=l,w_(l,t)}__(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)b_(t),t=t.sibling}function b_(t){switch(t.tag){case 0:case 11:case 15:ic(t),t.flags&2048&&Za(9,t,t.return);break;case 3:ic(t);break;case 12:ic(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,jh(t)):ic(t);break;default:ic(t)}}function jh(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];rr=l,w_(l,t)}__(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Za(8,i,i.return),jh(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,jh(i));break;default:jh(i)}t=t.sibling}}function w_(t,i){for(;rr!==null;){var a=rr;switch(a.tag){case 0:case 11:case 15:Za(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Bu(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,rr=l;else e:for(a=t;rr!==null;){l=rr;var d=l.sibling,p=l.return;if(h_(l),l===a){rr=null;break e}if(d!==null){d.return=p,rr=d;break e}rr=p}}}var Ax={getCacheForType:function(t){var i=lr(Vn),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return lr(Vn).controller.signal}},Rx=typeof WeakMap=="function"?WeakMap:Map,zt=0,Wt=null,St=null,Rt=0,Kt=0,xi=null,eo=!1,Yl=!1,km=!1,ca=0,Tn=0,to=0,sl=0,Om=0,Si=0,$l=0,sc=null,Zr=null,Mm=!1,Ph=0,E_=0,Vh=1/0,Lh=null,no=null,Qn=0,ro=null,Xl=null,ha=0,jm=0,Pm=null,T_=null,ac=0,Vm=null;function Ai(){return(zt&2)!==0&&Rt!==0?Rt&-Rt:he.T!==null?qm():qs()}function x_(){if(Si===0)if((Rt&536870912)===0||Ot){var t=Zi;Zi<<=1,(Zi&3932160)===0&&(Zi=262144),Si=t}else Si=536870912;return t=Ei.current,t!==null&&(t.flags|=32),Si}function ei(t,i,a){(t===Wt&&(Kt===2||Kt===9)||t.cancelPendingCommit!==null)&&(Wl(t,0),io(t,Rt,Si,!1)),Pr(t,a),((zt&2)===0||t!==Wt)&&(t===Wt&&((zt&2)===0&&(sl|=a),Tn===4&&io(t,Rt,Si,!1)),Rs(t))}function S_(t,i,a){if((zt&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Rr(t,i),d=l?Ix(t,i):Um(t,i,!0),p=l;do{if(d===0){Yl&&!l&&io(t,i,0,!1);break}else{if(a=t.current.alternate,p&&!Cx(a)){d=Um(t,i,!1),p=!1;continue}if(d===2){if(p=i,t.errorRecoveryDisabledLanes&p)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var N=t;d=sc;var U=N.current.memoizedState.isDehydrated;if(U&&(Wl(N,T).flags|=256),T=Um(N,T,!1),T!==2){if(km&&!U){N.errorRecoveryDisabledLanes|=p,sl|=p,d=4;break e}p=Zr,Zr=d,p!==null&&(Zr===null?Zr=p:Zr.push.apply(Zr,p))}d=T}if(p=!1,d!==2)continue}}if(d===1){Wl(t,0),io(t,i,0,!0);break}e:{switch(l=t,p=d,p){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:io(l,i,Si,!eo);break e;case 2:Zr=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(d=Ph+300-Jn(),10<d)){if(io(l,i,Si,!eo),ui(l,0,!0)!==0)break e;ha=i,l.timeoutHandle=nb(A_.bind(null,l,a,Zr,Lh,Mm,i,Si,sl,$l,eo,p,"Throttled",-0,0),d);break e}A_(l,a,Zr,Lh,Mm,i,Si,sl,$l,eo,p,null,-0,0)}}break}while(!0);Rs(t)}function A_(t,i,a,l,d,p,T,N,U,le,ye,Te,ce,me){if(t.timeoutHandle=-1,Te=i.subtreeFlags,Te&8192||(Te&16785408)===16785408){Te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vr},v_(i,p,Te);var Ye=(p&62914560)===p?Ph-Jn():(p&4194048)===p?E_-Jn():0;if(Ye=fS(Te,Ye),Ye!==null){ha=p,t.cancelPendingCommit=Ye(M_.bind(null,t,i,p,a,l,d,T,N,U,ye,Te,null,ce,me)),io(t,p,T,!le);return}}M_(t,i,p,a,l,d,T,N,U)}function Cx(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],p=d.getSnapshot;d=d.value;try{if(!_r(p(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function io(t,i,a,l){i&=~Om,i&=~sl,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var d=i;0<d;){var p=31-ze(d),T=1<<p;l[p]=-1,d&=~T}a!==0&&Oi(t,a,i)}function Uh(){return(zt&6)===0?(oc(0),!1):!0}function Lm(){if(St!==null){if(Kt===0)var t=St.return;else t=St,ea=Xo=null,em(t),Bl=null,qu=0,t=St;for(;t!==null;)r_(t.alternate,t),t=t.return;St=null}}function Wl(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Yx(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ha=0,Lm(),Wt=t,St=a=Js(t.current,null),Rt=i,Kt=0,xi=null,eo=!1,Yl=Rr(t,i),km=!1,$l=Si=Om=sl=to=Tn=0,Zr=sc=null,Mm=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var d=31-ze(l),p=1<<d;i|=t[d],l&=~p}return ca=i,nr(),a}function R_(t,i){yt=null,he.H=Wu,i===zl||i===mh?(i=qy(),Kt=3):i===Fd?(i=qy(),Kt=4):Kt=i===gm?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,xi=i,St===null&&(Tn=1,Ch(t,qi(i,t.current)))}function C_(){var t=Ei.current;return t===null?!0:(Rt&4194048)===Rt?Qi===null:(Rt&62914560)===Rt||(Rt&536870912)!==0?t===Qi:!1}function N_(){var t=he.H;return he.H=Wu,t===null?Wu:t}function I_(){var t=he.A;return he.A=Ax,t}function zh(){Tn=4,eo||(Rt&4194048)!==Rt&&Ei.current!==null||(Yl=!0),(to&134217727)===0&&(sl&134217727)===0||Wt===null||io(Wt,Rt,Si,!1)}function Um(t,i,a){var l=zt;zt|=2;var d=N_(),p=I_();(Wt!==t||Rt!==i)&&(Lh=null,Wl(t,i)),i=!1;var T=Tn;e:do try{if(Kt!==0&&St!==null){var N=St,U=xi;switch(Kt){case 8:Lm(),T=6;break e;case 3:case 2:case 9:case 6:Ei.current===null&&(i=!0);var le=Kt;if(Kt=0,xi=null,Jl(t,N,U,le),a&&Yl){T=0;break e}break;default:le=Kt,Kt=0,xi=null,Jl(t,N,U,le)}}Nx(),T=Tn;break}catch(ye){R_(t,ye)}while(!0);return i&&t.shellSuspendCounter++,ea=Xo=null,zt=l,he.H=d,he.A=p,St===null&&(Wt=null,Rt=0,nr()),T}function Nx(){for(;St!==null;)D_(St)}function Ix(t,i){var a=zt;zt|=2;var l=N_(),d=I_();Wt!==t||Rt!==i?(Lh=null,Vh=Jn()+500,Wl(t,i)):Yl=Rr(t,i);e:do try{if(Kt!==0&&St!==null){i=St;var p=xi;t:switch(Kt){case 1:Kt=0,xi=null,Jl(t,i,p,1);break;case 2:case 9:if(By(p)){Kt=0,xi=null,k_(i);break}i=function(){Kt!==2&&Kt!==9||Wt!==t||(Kt=7),Rs(t)},p.then(i,i);break e;case 3:Kt=7;break e;case 4:Kt=5;break e;case 7:By(p)?(Kt=0,xi=null,k_(i)):(Kt=0,xi=null,Jl(t,i,p,7));break;case 5:var T=null;switch(St.tag){case 26:T=St.memoizedState;case 5:case 27:var N=St;if(T?yb(T):N.stateNode.complete){Kt=0,xi=null;var U=N.sibling;if(U!==null)St=U;else{var le=N.return;le!==null?(St=le,Bh(le)):St=null}break t}}Kt=0,xi=null,Jl(t,i,p,5);break;case 6:Kt=0,xi=null,Jl(t,i,p,6);break;case 8:Lm(),Tn=6;break e;default:throw Error(s(462))}}Dx();break}catch(ye){R_(t,ye)}while(!0);return ea=Xo=null,he.H=l,he.A=d,zt=a,St!==null?0:(Wt=null,Rt=0,nr(),Tn)}function Dx(){for(;St!==null&&!Rl();)D_(St)}function D_(t){var i=t_(t.alternate,t,ca);t.memoizedProps=t.pendingProps,i===null?Bh(t):St=i}function k_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=$v(a,i,i.pendingProps,i.type,void 0,Rt);break;case 11:i=$v(a,i,i.pendingProps,i.type.render,i.ref,Rt);break;case 5:em(i);default:r_(a,i),i=St=Iy(i,ca),i=t_(a,i,ca)}t.memoizedProps=t.pendingProps,i===null?Bh(t):St=i}function Jl(t,i,a,l){ea=Xo=null,em(i),Bl=null,qu=0;var d=i.return;try{if(_x(t,d,i,a,Rt)){Tn=1,Ch(t,qi(a,t.current)),St=null;return}}catch(p){if(d!==null)throw St=d,p;Tn=1,Ch(t,qi(a,t.current)),St=null;return}i.flags&32768?(Ot||l===1?t=!0:Yl||(Rt&536870912)!==0?t=!1:(eo=t=!0,(l===2||l===9||l===3||l===6)&&(l=Ei.current,l!==null&&l.tag===13&&(l.flags|=16384))),O_(i,t)):Bh(i)}function Bh(t){var i=t;do{if((i.flags&32768)!==0){O_(i,eo);return}t=i.return;var a=Ex(i.alternate,i,ca);if(a!==null){St=a;return}if(i=i.sibling,i!==null){St=i;return}St=i=t}while(i!==null);Tn===0&&(Tn=5)}function O_(t,i){do{var a=Tx(t.alternate,t);if(a!==null){a.flags&=32767,St=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){St=t;return}St=t=a}while(t!==null);Tn=6,St=null}function M_(t,i,a,l,d,p,T,N,U){t.cancelPendingCommit=null;do Fh();while(Qn!==0);if((zt&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(p=i.lanes|i.childLanes,p|=gt,Lo(t,a,p,T,N,U),t===Wt&&(St=Wt=null,Rt=0),Xl=i,ro=t,ha=a,jm=p,Pm=d,T_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,jx(Di,function(){return U_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=he.T,he.T=null,d=Ce.p,Ce.p=2,T=zt,zt|=4;try{xx(t,i,a)}finally{zt=T,Ce.p=d,he.T=l}}Qn=1,j_(),P_(),V_()}}function j_(){if(Qn===1){Qn=0;var t=ro,i=Xl,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=he.T,he.T=null;var l=Ce.p;Ce.p=2;var d=zt;zt|=4;try{p_(i,t);var p=Wm,T=A(t.containerInfo),N=p.focusedElem,U=p.selectionRange;if(T!==N&&N&&N.ownerDocument&&E(N.ownerDocument.documentElement,N)){if(U!==null&&C(N)){var le=U.start,ye=U.end;if(ye===void 0&&(ye=le),"selectionStart"in N)N.selectionStart=le,N.selectionEnd=Math.min(ye,N.value.length);else{var Te=N.ownerDocument||document,ce=Te&&Te.defaultView||window;if(ce.getSelection){var me=ce.getSelection(),Ye=N.textContent.length,it=Math.min(U.start,Ye),Xt=U.end===void 0?it:Math.min(U.end,Ye);!me.extend&&it>Xt&&(T=Xt,Xt=it,it=T);var re=b(N,it),$=b(N,Xt);if(re&&$&&(me.rangeCount!==1||me.anchorNode!==re.node||me.anchorOffset!==re.offset||me.focusNode!==$.node||me.focusOffset!==$.offset)){var oe=Te.createRange();oe.setStart(re.node,re.offset),me.removeAllRanges(),it>Xt?(me.addRange(oe),me.extend($.node,$.offset)):(oe.setEnd($.node,$.offset),me.addRange(oe))}}}}for(Te=[],me=N;me=me.parentNode;)me.nodeType===1&&Te.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<Te.length;N++){var be=Te[N];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}ef=!!Xm,Wm=Xm=null}finally{zt=d,Ce.p=l,he.T=a}}t.current=i,Qn=2}}function P_(){if(Qn===2){Qn=0;var t=ro,i=Xl,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=he.T,he.T=null;var l=Ce.p;Ce.p=2;var d=zt;zt|=4;try{c_(t,i.alternate,i)}finally{zt=d,Ce.p=l,he.T=a}}Qn=3}}function V_(){if(Qn===4||Qn===3){Qn=0,ms();var t=ro,i=Xl,a=ha,l=T_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Qn=5:(Qn=0,Xl=ro=null,L_(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(no=null),Vr(a),i=i.stateNode,Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(pr,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=he.T,d=Ce.p,Ce.p=2,he.T=null;try{for(var p=t.onRecoverableError,T=0;T<l.length;T++){var N=l[T];p(N.value,{componentStack:N.stack})}}finally{he.T=i,Ce.p=d}}(ha&3)!==0&&Fh(),Rs(t),d=t.pendingLanes,(a&261930)!==0&&(d&42)!==0?t===Vm?ac++:(ac=0,Vm=t):ac=0,oc(0)}}function L_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Bu(i)))}function Fh(){return j_(),P_(),V_(),U_()}function U_(){if(Qn!==5)return!1;var t=ro,i=jm;jm=0;var a=Vr(ha),l=he.T,d=Ce.p;try{Ce.p=32>a?32:a,he.T=null,a=Pm,Pm=null;var p=ro,T=ha;if(Qn=0,Xl=ro=null,ha=0,(zt&6)!==0)throw Error(s(331));var N=zt;if(zt|=4,b_(p.current),y_(p,p.current,T,a),zt=N,oc(0,!1),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(pr,p)}catch{}return!0}finally{Ce.p=d,he.T=l,L_(t,i)}}function z_(t,i,a){i=qi(a,i),i=pm(t.stateNode,i,2),t=Xa(t,i,2),t!==null&&(Pr(t,2),Rs(t))}function Qt(t,i,a){if(t.tag===3)z_(t,t,a);else for(;i!==null;){if(i.tag===3){z_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(no===null||!no.has(l))){t=qi(a,t),a=Bv(2),l=Xa(i,a,2),l!==null&&(Fv(a,l,i,t),Pr(l,2),Rs(l));break}}i=i.return}}function zm(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Rx;var d=new Set;l.set(i,d)}else d=l.get(i),d===void 0&&(d=new Set,l.set(i,d));d.has(a)||(km=!0,d.add(a),t=kx.bind(null,t,i,a),i.then(t,t))}function kx(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Wt===t&&(Rt&a)===a&&(Tn===4||Tn===3&&(Rt&62914560)===Rt&&300>Jn()-Ph?(zt&2)===0&&Wl(t,0):Om|=a,$l===Rt&&($l=0)),Rs(t)}function B_(t,i){i===0&&(i=Cl()),t=on(t,i),t!==null&&(Pr(t,i),Rs(t))}function Ox(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),B_(t,a)}function Mx(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),B_(t,a)}function jx(t,i){return un(t,i)}var qh=null,Zl=null,Bm=!1,Hh=!1,Fm=!1,so=0;function Rs(t){t!==Zl&&t.next===null&&(Zl===null?qh=Zl=t:Zl=Zl.next=t),Hh=!0,Bm||(Bm=!0,Vx())}function oc(t,i){if(!Fm&&Hh){Fm=!0;do for(var a=!1,l=qh;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var p=0;else{var T=l.suspendedLanes,N=l.pingedLanes;p=(1<<31-ze(42|t)+1)-1,p&=d&~(T&~N),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,G_(l,p))}else p=Rt,p=ui(l,l===Wt?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||Rr(l,p)||(a=!0,G_(l,p));l=l.next}while(a);Fm=!1}}function Px(){F_()}function F_(){Hh=Bm=!1;var t=0;so!==0&&Qx()&&(t=so);for(var i=Jn(),a=null,l=qh;l!==null;){var d=l.next,p=q_(l,i);p===0?(l.next=null,a===null?qh=d:a.next=d,d===null&&(Zl=a)):(a=l,(t!==0||(p&3)!==0)&&(Hh=!0)),l=d}Qn!==0&&Qn!==5||oc(t),so!==0&&(so=0)}function q_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var T=31-ze(p),N=1<<T,U=d[T];U===-1?((N&a)===0||(N&l)!==0)&&(d[T]=Mu(N,i)):U<=i&&(t.expiredLanes|=N),p&=~N}if(i=Wt,a=Rt,a=ui(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Kt===2||Kt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Gn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Rr(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Gn(l),Vr(a)){case 2:case 8:a=li;break;case 32:a=Di;break;case 268435456:a=Ra;break;default:a=Di}return l=H_.bind(null,t),a=un(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Gn(l),t.callbackPriority=2,t.callbackNode=null,2}function H_(t,i){if(Qn!==0&&Qn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Fh()&&t.callbackNode!==a)return null;var l=Rt;return l=ui(t,t===Wt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(S_(t,l,i),q_(t,Jn()),t.callbackNode!=null&&t.callbackNode===a?H_.bind(null,t):null)}function G_(t,i){if(Fh())return null;S_(t,i,!0)}function Vx(){$x(function(){(zt&6)!==0?un(oi,Px):F_()})}function qm(){if(so===0){var t=Ll;t===0&&(t=je,je<<=1,(je&261888)===0&&(je=256)),so=t}return so}function K_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:yi(""+t)}function Q_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Lx(t,i,a,l,d){if(i==="submit"&&a&&a.stateNode===d){var p=K_((d[Zt]||null).action),T=l.submitter;T&&(i=(i=T[Zt]||null)?K_(i.formAction):T.getAttribute("formAction"),i!==null&&(p=i,T=null));var N=new Vi("action","action",null,l,d);t.push({event:N,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(so!==0){var U=T?Q_(d,T):new FormData(d);um(a,{pending:!0,data:U,method:d.method,action:p},null,U)}}else typeof p=="function"&&(N.preventDefault(),U=T?Q_(d,T):new FormData(d),um(a,{pending:!0,data:U,method:d.method,action:p},p,U))},currentTarget:d}]})}}for(var Hm=0;Hm<Le.length;Hm++){var Gm=Le[Hm],Ux=Gm.toLowerCase(),zx=Gm[0].toUpperCase()+Gm.slice(1);Ie(Ux,"on"+zx)}Ie(ae,"onAnimationEnd"),Ie(ue,"onAnimationIteration"),Ie(ge,"onAnimationStart"),Ie("dblclick","onDoubleClick"),Ie("focusin","onFocus"),Ie("focusout","onBlur"),Ie(Ee,"onTransitionRun"),Ie(ke,"onTransitionStart"),Ie(Ue,"onTransitionCancel"),Ie(Ne,"onTransitionEnd"),zr("onMouseEnter",["mouseout","mouseover"]),zr("onMouseLeave",["mouseout","mouseover"]),zr("onPointerEnter",["pointerout","pointerover"]),zr("onPointerLeave",["pointerout","pointerover"]),Ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ur("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lc));function Y_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var p=void 0;if(i)for(var T=l.length-1;0<=T;T--){var N=l[T],U=N.instance,le=N.currentTarget;if(N=N.listener,U!==p&&d.isPropagationStopped())break e;p=N,d.currentTarget=le;try{p(d)}catch(ye){qe(ye)}d.currentTarget=null,p=U}else for(T=0;T<l.length;T++){if(N=l[T],U=N.instance,le=N.currentTarget,N=N.listener,U!==p&&d.isPropagationStopped())break e;p=N,d.currentTarget=le;try{p(d)}catch(ye){qe(ye)}d.currentTarget=null,p=U}}}}function At(t,i){var a=i[es];a===void 0&&(a=i[es]=new Set);var l=t+"__bubble";a.has(l)||($_(i,t,2,!1),a.add(l))}function Km(t,i,a){var l=0;i&&(l|=4),$_(a,t,l,i)}var Gh="_reactListening"+Math.random().toString(36).slice(2);function Qm(t){if(!t[Gh]){t[Gh]=!0,Mi.forEach(function(a){a!=="selectionchange"&&(Bx.has(a)||Km(a,!1,t),Km(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Gh]||(i[Gh]=!0,Km("selectionchange",!1,i))}}function $_(t,i,a,l){switch(xb(i)){case 2:var d=pS;break;case 8:d=gS;break;default:d=lp}a=d.bind(null,i,a,t),d=void 0,!Ks||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(i,a,{capture:!0,passive:d}):t.addEventListener(i,a,!0):d!==void 0?t.addEventListener(i,a,{passive:d}):t.addEventListener(i,a,!1)}function Ym(t,i,a,l,d){var p=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var N=l.stateNode.containerInfo;if(N===d)break;if(T===4)for(T=l.return;T!==null;){var U=T.tag;if((U===3||U===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;N!==null;){if(T=Lr(N),T===null)return;if(U=T.tag,U===5||U===6||U===26||U===27){l=p=T;continue e}N=N.parentNode}}l=l.return}qr(function(){var le=p,ye=Cr(a),Te=[];e:{var ce=Me.get(t);if(ce!==void 0){var me=Vi,Ye=t;switch(t){case"keypress":if(is(a)===0)break e;case"keydown":case"keyup":me=$s;break;case"focusin":Ye="focus",me=zi;break;case"focusout":Ye="blur",me=zi;break;case"beforeblur":case"afterblur":me=zi;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Qs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=Fo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=w;break;case ae:case ue:case ge:me=qo;break;case Ne:me=k;break;case"scroll":case"scrollend":me=_s;break;case"wheel":me=fe;break;case"copy":case"cut":case"paste":me=os;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=Bi;break;case"toggle":case"beforetoggle":me=ut}var it=(i&4)!==0,Xt=!it&&(t==="scroll"||t==="scrollend"),re=it?ce!==null?ce+"Capture":null:ce;it=[];for(var $=le,oe;$!==null;){var be=$;if(oe=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||oe===null||re===null||(be=Nr($,re),be!=null&&it.push(uc($,be,oe))),Xt)break;$=$.return}0<it.length&&(ce=new me(ce,Ye,null,a,ye),Te.push({event:ce,listeners:it}))}}if((i&7)===0){e:{if(ce=t==="mouseover"||t==="pointerover",me=t==="mouseout"||t==="pointerout",ce&&a!==Fr&&(Ye=a.relatedTarget||a.fromElement)&&(Lr(Ye)||Ye[Kn]))break e;if((me||ce)&&(ce=ye.window===ye?ye:(ce=ye.ownerDocument)?ce.defaultView||ce.parentWindow:window,me?(Ye=a.relatedTarget||a.toElement,me=le,Ye=Ye?Lr(Ye):null,Ye!==null&&(Xt=u(Ye),it=Ye.tag,Ye!==Xt||it!==5&&it!==27&&it!==6)&&(Ye=null)):(me=null,Ye=le),me!==Ye)){if(it=Qs,be="onMouseLeave",re="onMouseEnter",$="mouse",(t==="pointerout"||t==="pointerover")&&(it=Bi,be="onPointerLeave",re="onPointerEnter",$="pointer"),Xt=me==null?ce:Rn(me),oe=Ye==null?ce:Rn(Ye),ce=new it(be,$+"leave",me,a,ye),ce.target=Xt,ce.relatedTarget=oe,be=null,Lr(ye)===le&&(it=new it(re,$+"enter",Ye,a,ye),it.target=oe,it.relatedTarget=Xt,be=it),Xt=be,me&&Ye)t:{for(it=Fx,re=me,$=Ye,oe=0,be=re;be;be=it(be))oe++;be=0;for(var tt=$;tt;tt=it(tt))be++;for(;0<oe-be;)re=it(re),oe--;for(;0<be-oe;)$=it($),be--;for(;oe--;){if(re===$||$!==null&&re===$.alternate){it=re;break t}re=it(re),$=it($)}it=null}else it=null;me!==null&&X_(Te,ce,me,it,!1),Ye!==null&&Xt!==null&&X_(Te,Xt,Ye,it,!0)}}e:{if(ce=le?Rn(le):window,me=ce.nodeName&&ce.nodeName.toLowerCase(),me==="select"||me==="input"&&ce.type==="file")var Vt=Ko;else if(Dl(ce))if(Fi)Vt=qa;else{Vt=Ws;var We=lh}else me=ce.nodeName,!me||me.toLowerCase()!=="input"||ce.type!=="checkbox"&&ce.type!=="radio"?le&&ka(le.elementType)&&(Vt=Ko):Vt=Vu;if(Vt&&(Vt=Vt(t,le))){Pu(Te,Vt,a,ye);break e}We&&We(t,ce,le),t==="focusout"&&le&&ce.type==="number"&&le.memoizedProps.value!=null&&Gs(ce,"number",ce.value)}switch(We=le?Rn(le):window,t){case"focusin":(Dl(We)||We.contentEditable==="true")&&(P=We,G=le,K=null);break;case"focusout":K=G=P=null;break;case"mousedown":ee=!0;break;case"contextmenu":case"mouseup":case"dragend":ee=!1,z(Te,a,ye);break;case"selectionchange":if(M)break;case"keydown":case"keyup":z(Te,a,ye)}var vt;if(kt)e:{switch(t){case"compositionstart":var Ct="onCompositionStart";break e;case"compositionend":Ct="onCompositionEnd";break e;case"compositionupdate":Ct="onCompositionUpdate";break e}Ct=void 0}else Xs?Es(t,a)&&(Ct="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ct="onCompositionStart");Ct&&(Yr&&a.locale!=="ko"&&(Xs||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&Xs&&(vt=rs()):(Hr=ye,Oa="value"in Hr?Hr.value:Hr.textContent,Xs=!0)),We=Kh(le,Ct),0<We.length&&(Ct=new Gr(Ct,t,null,a,ye),Te.push({event:Ct,listeners:We}),vt?Ct.data=vt:(vt=za(a),vt!==null&&(Ct.data=vt)))),(vt=Qr?sh(t,a):Rd(t,a))&&(Ct=Kh(le,"onBeforeInput"),0<Ct.length&&(We=new Gr("onBeforeInput","beforeinput",null,a,ye),Te.push({event:We,listeners:Ct}),We.data=vt)),Lx(Te,t,le,a,ye)}Y_(Te,i)})}function uc(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Kh(t,i){for(var a=i+"Capture",l=[];t!==null;){var d=t,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=Nr(t,a),d!=null&&l.unshift(uc(t,d,p)),d=Nr(t,i),d!=null&&l.push(uc(t,d,p))),t.tag===3)return l;t=t.return}return[]}function Fx(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function X_(t,i,a,l,d){for(var p=i._reactName,T=[];a!==null&&a!==l;){var N=a,U=N.alternate,le=N.stateNode;if(N=N.tag,U!==null&&U===l)break;N!==5&&N!==26&&N!==27||le===null||(U=le,d?(le=Nr(a,p),le!=null&&T.unshift(uc(a,le,U))):d||(le=Nr(a,p),le!=null&&T.push(uc(a,le,U)))),a=a.return}T.length!==0&&t.push({event:i,listeners:T})}var qx=/\r\n?/g,Hx=/\u0000|\uFFFD/g;function W_(t){return(typeof t=="string"?t:""+t).replace(qx,`
`).replace(Hx,"")}function J_(t,i){return i=W_(i),W_(t)===i}function $t(t,i,a,l,d,p){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||ar(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&ar(t,""+l);break;case"className":yr(t,"class",l);break;case"tabIndex":yr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yr(t,a,l);break;case"style":Da(t,l,p);break;case"data":if(i!=="object"){yr(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=yi(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(i!=="input"&&$t(t,i,"name",d.name,d,null),$t(t,i,"formEncType",d.formEncType,d,null),$t(t,i,"formMethod",d.formMethod,d,null),$t(t,i,"formTarget",d.formTarget,d,null)):($t(t,i,"encType",d.encType,d,null),$t(t,i,"method",d.method,d,null),$t(t,i,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=yi(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=vr);break;case"onScroll":l!=null&&At("scroll",t);break;case"onScrollEnd":l!=null&&At("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=yi(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":At("beforetoggle",t),At("toggle",t),pt(t,"popover",l);break;case"xlinkActuate":fn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":fn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":fn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":fn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":fn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":fn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":fn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":fn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":fn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":pt(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Il.get(a)||a,pt(t,a,l))}}function $m(t,i,a,l,d,p){switch(a){case"style":Da(t,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?ar(t,l):(typeof l=="number"||typeof l=="bigint")&&ar(t,""+l);break;case"onScroll":l!=null&&At("scroll",t);break;case"onScrollEnd":l!=null&&At("scrollend",t);break;case"onClick":l!=null&&(t.onclick=vr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),p=t[Zt]||null,p=p!=null?p[a]:null,typeof p=="function"&&t.removeEventListener(i,p,d),typeof l=="function")){typeof p!="function"&&p!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):pt(t,a,l)}}}function cr(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":At("error",t),At("load",t);var l=!1,d=!1,p;for(p in a)if(a.hasOwnProperty(p)){var T=a[p];if(T!=null)switch(p){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$t(t,i,p,T,a,null)}}d&&$t(t,i,"srcSet",a.srcSet,a,null),l&&$t(t,i,"src",a.src,a,null);return;case"input":At("invalid",t);var N=p=T=d=null,U=null,le=null;for(l in a)if(a.hasOwnProperty(l)){var ye=a[l];if(ye!=null)switch(l){case"name":d=ye;break;case"type":T=ye;break;case"checked":U=ye;break;case"defaultChecked":le=ye;break;case"value":p=ye;break;case"defaultValue":N=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(s(137,i));break;default:$t(t,i,l,ye,a,null)}}Ia(t,p,N,U,le,T,d,!1);return;case"select":At("invalid",t),l=T=p=null;for(d in a)if(a.hasOwnProperty(d)&&(N=a[d],N!=null))switch(d){case"value":p=N;break;case"defaultValue":T=N;break;case"multiple":l=N;default:$t(t,i,d,N,a,null)}i=p,a=T,t.multiple=!!l,i!=null?pi(t,!!l,i,!1):a!=null&&pi(t,!!l,a,!0);return;case"textarea":At("invalid",t),p=d=l=null;for(T in a)if(a.hasOwnProperty(T)&&(N=a[T],N!=null))switch(T){case"value":l=N;break;case"defaultValue":d=N;break;case"children":p=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(s(91));break;default:$t(t,i,T,N,a,null)}gi(t,l,d,p);return;case"option":for(U in a)a.hasOwnProperty(U)&&(l=a[U],l!=null)&&(U==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":$t(t,i,U,l,a,null));return;case"dialog":At("beforetoggle",t),At("toggle",t),At("cancel",t),At("close",t);break;case"iframe":case"object":At("load",t);break;case"video":case"audio":for(l=0;l<lc.length;l++)At(lc[l],t);break;case"image":At("error",t),At("load",t);break;case"details":At("toggle",t);break;case"embed":case"source":case"link":At("error",t),At("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in a)if(a.hasOwnProperty(le)&&(l=a[le],l!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$t(t,i,le,l,a,null)}return;default:if(ka(i)){for(ye in a)a.hasOwnProperty(ye)&&(l=a[ye],l!==void 0&&$m(t,i,ye,l,a,void 0));return}}for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null&&$t(t,i,N,l,a,null))}function Gx(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,T=null,N=null,U=null,le=null,ye=null;for(me in a){var Te=a[me];if(a.hasOwnProperty(me)&&Te!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":U=Te;default:l.hasOwnProperty(me)||$t(t,i,me,null,l,Te)}}for(var ce in l){var me=l[ce];if(Te=a[ce],l.hasOwnProperty(ce)&&(me!=null||Te!=null))switch(ce){case"type":p=me;break;case"name":d=me;break;case"checked":le=me;break;case"defaultChecked":ye=me;break;case"value":T=me;break;case"defaultValue":N=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(s(137,i));break;default:me!==Te&&$t(t,i,ce,me,l,Te)}}mi(t,T,N,U,le,ye,p,d);return;case"select":me=T=N=ce=null;for(p in a)if(U=a[p],a.hasOwnProperty(p)&&U!=null)switch(p){case"value":break;case"multiple":me=U;default:l.hasOwnProperty(p)||$t(t,i,p,null,l,U)}for(d in l)if(p=l[d],U=a[d],l.hasOwnProperty(d)&&(p!=null||U!=null))switch(d){case"value":ce=p;break;case"defaultValue":N=p;break;case"multiple":T=p;default:p!==U&&$t(t,i,d,p,l,U)}i=N,a=T,l=me,ce!=null?pi(t,!!a,ce,!1):!!l!=!!a&&(i!=null?pi(t,!!a,i,!0):pi(t,!!a,a?[]:"",!1));return;case"textarea":me=ce=null;for(N in a)if(d=a[N],a.hasOwnProperty(N)&&d!=null&&!l.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:$t(t,i,N,null,l,d)}for(T in l)if(d=l[T],p=a[T],l.hasOwnProperty(T)&&(d!=null||p!=null))switch(T){case"value":ce=d;break;case"defaultValue":me=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==p&&$t(t,i,T,d,l,p)}Bo(t,ce,me);return;case"option":for(var Ye in a)ce=a[Ye],a.hasOwnProperty(Ye)&&ce!=null&&!l.hasOwnProperty(Ye)&&(Ye==="selected"?t.selected=!1:$t(t,i,Ye,null,l,ce));for(U in l)ce=l[U],me=a[U],l.hasOwnProperty(U)&&ce!==me&&(ce!=null||me!=null)&&(U==="selected"?t.selected=ce&&typeof ce!="function"&&typeof ce!="symbol":$t(t,i,U,ce,l,me));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var it in a)ce=a[it],a.hasOwnProperty(it)&&ce!=null&&!l.hasOwnProperty(it)&&$t(t,i,it,null,l,ce);for(le in l)if(ce=l[le],me=a[le],l.hasOwnProperty(le)&&ce!==me&&(ce!=null||me!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(s(137,i));break;default:$t(t,i,le,ce,l,me)}return;default:if(ka(i)){for(var Xt in a)ce=a[Xt],a.hasOwnProperty(Xt)&&ce!==void 0&&!l.hasOwnProperty(Xt)&&$m(t,i,Xt,void 0,l,ce);for(ye in l)ce=l[ye],me=a[ye],!l.hasOwnProperty(ye)||ce===me||ce===void 0&&me===void 0||$m(t,i,ye,ce,l,me);return}}for(var re in a)ce=a[re],a.hasOwnProperty(re)&&ce!=null&&!l.hasOwnProperty(re)&&$t(t,i,re,null,l,ce);for(Te in l)ce=l[Te],me=a[Te],!l.hasOwnProperty(Te)||ce===me||ce==null&&me==null||$t(t,i,Te,ce,l,me)}function Z_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Kx(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var d=a[l],p=d.transferSize,T=d.initiatorType,N=d.duration;if(p&&N&&Z_(T)){for(T=0,N=d.responseEnd,l+=1;l<a.length;l++){var U=a[l],le=U.startTime;if(le>N)break;var ye=U.transferSize,Te=U.initiatorType;ye&&Z_(Te)&&(U=U.responseEnd,T+=ye*(U<N?1:(N-le)/(U-le)))}if(--l,i+=8*(p+T)/(d.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Xm=null,Wm=null;function Qh(t){return t.nodeType===9?t:t.ownerDocument}function eb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tb(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Jm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Zm=null;function Qx(){var t=window.event;return t&&t.type==="popstate"?t===Zm?!1:(Zm=t,!0):(Zm=null,!1)}var nb=typeof setTimeout=="function"?setTimeout:void 0,Yx=typeof clearTimeout=="function"?clearTimeout:void 0,rb=typeof Promise=="function"?Promise:void 0,$x=typeof queueMicrotask=="function"?queueMicrotask:typeof rb<"u"?function(t){return rb.resolve(null).then(t).catch(Xx)}:nb;function Xx(t){setTimeout(function(){throw t})}function ao(t){return t==="head"}function ib(t,i){var a=i,l=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(d),ru(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")cc(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,cc(a);for(var p=a.firstChild;p;){var T=p.nextSibling,N=p.nodeName;p[Zn]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=T}}else a==="body"&&cc(t.ownerDocument.body);a=d}while(a);ru(i)}function sb(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function ep(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ep(a),Hs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Wx(t,i,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Zn])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=Yi(t.nextSibling),t===null)break}return null}function Jx(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Yi(t.nextSibling),t===null))return null;return t}function ab(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Yi(t.nextSibling),t===null))return null;return t}function tp(t){return t.data==="$?"||t.data==="$~"}function np(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Zx(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Yi(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var rp=null;function ob(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Yi(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function lb(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function ub(t,i,a){switch(i=Qh(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function cc(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Hs(t)}var $i=new Map,cb=new Set;function Yh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var fa=Ce.d;Ce.d={f:eS,r:tS,D:nS,C:rS,L:iS,m:sS,X:oS,S:aS,M:lS};function eS(){var t=fa.f(),i=Uh();return t||i}function tS(t){var i=Mt(t);i!==null&&i.tag===5&&i.type==="form"?Rv(i):fa.r(t)}var eu=typeof document>"u"?null:document;function hb(t,i,a){var l=eu;if(l&&typeof i=="string"&&i){var d=Mn(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),cb.has(d)||(cb.add(d),t={rel:t,crossOrigin:a,href:i},l.querySelector(d)===null&&(i=l.createElement("link"),cr(i,"link",t),hn(i),l.head.appendChild(i)))}}function nS(t){fa.D(t),hb("dns-prefetch",t,null)}function rS(t,i){fa.C(t,i),hb("preconnect",t,i)}function iS(t,i,a){fa.L(t,i,a);var l=eu;if(l&&t&&i){var d='link[rel="preload"][as="'+Mn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+Mn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+Mn(a.imageSizes)+'"]')):d+='[href="'+Mn(t)+'"]';var p=d;switch(i){case"style":p=tu(t);break;case"script":p=nu(t)}$i.has(p)||(t=R({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),$i.set(p,t),l.querySelector(d)!==null||i==="style"&&l.querySelector(hc(p))||i==="script"&&l.querySelector(fc(p))||(i=l.createElement("link"),cr(i,"link",t),hn(i),l.head.appendChild(i)))}}function sS(t,i){fa.m(t,i);var a=eu;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+Mn(l)+'"][href="'+Mn(t)+'"]',p=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=nu(t)}if(!$i.has(p)&&(t=R({rel:"modulepreload",href:t},i),$i.set(p,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(fc(p)))return}l=a.createElement("link"),cr(l,"link",t),hn(l),a.head.appendChild(l)}}}function aS(t,i,a){fa.S(t,i,a);var l=eu;if(l&&t){var d=On(l).hoistableStyles,p=tu(t);i=i||"default";var T=d.get(p);if(!T){var N={loading:0,preload:null};if(T=l.querySelector(hc(p)))N.loading=5;else{t=R({rel:"stylesheet",href:t,"data-precedence":i},a),(a=$i.get(p))&&ip(t,a);var U=T=l.createElement("link");hn(U),cr(U,"link",t),U._p=new Promise(function(le,ye){U.onload=le,U.onerror=ye}),U.addEventListener("load",function(){N.loading|=1}),U.addEventListener("error",function(){N.loading|=2}),N.loading|=4,$h(T,i,l)}T={type:"stylesheet",instance:T,count:1,state:N},d.set(p,T)}}}function oS(t,i){fa.X(t,i);var a=eu;if(a&&t){var l=On(a).hoistableScripts,d=nu(t),p=l.get(d);p||(p=a.querySelector(fc(d)),p||(t=R({src:t,async:!0},i),(i=$i.get(d))&&sp(t,i),p=a.createElement("script"),hn(p),cr(p,"link",t),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(d,p))}}function lS(t,i){fa.M(t,i);var a=eu;if(a&&t){var l=On(a).hoistableScripts,d=nu(t),p=l.get(d);p||(p=a.querySelector(fc(d)),p||(t=R({src:t,async:!0,type:"module"},i),(i=$i.get(d))&&sp(t,i),p=a.createElement("script"),hn(p),cr(p,"link",t),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(d,p))}}function fb(t,i,a,l){var d=(d=rt.current)?Yh(d):null;if(!d)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=tu(a.href),a=On(d).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=tu(a.href);var p=On(d).hoistableStyles,T=p.get(t);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,T),(p=d.querySelector(hc(t)))&&!p._p&&(T.instance=p,T.state.loading=5),$i.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$i.set(t,a),p||uS(d,t,a,T.state))),i&&l===null)throw Error(s(528,""));return T}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=nu(a),a=On(d).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function tu(t){return'href="'+Mn(t)+'"'}function hc(t){return'link[rel="stylesheet"]['+t+"]"}function db(t){return R({},t,{"data-precedence":t.precedence,precedence:null})}function uS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),cr(i,"link",a),hn(i),t.head.appendChild(i))}function nu(t){return'[src="'+Mn(t)+'"]'}function fc(t){return"script[async]"+t}function mb(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Mn(a.href)+'"]');if(l)return i.instance=l,hn(l),l;var d=R({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),hn(l),cr(l,"style",d),$h(l,a.precedence,t),i.instance=l;case"stylesheet":d=tu(a.href);var p=t.querySelector(hc(d));if(p)return i.state.loading|=4,i.instance=p,hn(p),p;l=db(a),(d=$i.get(d))&&ip(l,d),p=(t.ownerDocument||t).createElement("link"),hn(p);var T=p;return T._p=new Promise(function(N,U){T.onload=N,T.onerror=U}),cr(p,"link",l),i.state.loading|=4,$h(p,a.precedence,t),i.instance=p;case"script":return p=nu(a.src),(d=t.querySelector(fc(p)))?(i.instance=d,hn(d),d):(l=a,(d=$i.get(p))&&(l=R({},a),sp(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),hn(d),cr(d,"link",l),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,$h(l,a.precedence,t));return i.instance}function $h(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,p=d,T=0;T<l.length;T++){var N=l[T];if(N.dataset.precedence===i)p=N;else if(p!==d)break}p?p.parentNode.insertBefore(t,p.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function ip(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function sp(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Xh=null;function pb(t,i,a){if(Xh===null){var l=new Map,d=Xh=new Map;d.set(a,l)}else d=Xh,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var p=a[d];if(!(p[Zn]||p[qt]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(i)||"";T=t+T;var N=l.get(T);N?N.push(p):l.set(T,[p])}}return l}function gb(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function cS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function yb(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function hS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=tu(l.href),p=i.querySelector(hc(d));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Wh.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=p,hn(p);return}p=i.ownerDocument||i,l=db(l),(d=$i.get(d))&&ip(l,d),p=p.createElement("link"),hn(p);var T=p;T._p=new Promise(function(N,U){T.onload=N,T.onerror=U}),cr(p,"link",l),a.instance=p}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Wh.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var ap=0;function fS(t,i){return t.stylesheets&&t.count===0&&Zh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Zh(t,t.stylesheets),t.unsuspend){var p=t.unsuspend;t.unsuspend=null,p()}},6e4+i);0<t.imgBytes&&ap===0&&(ap=62500*Kx());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Zh(t,t.stylesheets),t.unsuspend)){var p=t.unsuspend;t.unsuspend=null,p()}},(t.imgBytes>ap?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function Wh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Jh=null;function Zh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Jh=new Map,i.forEach(dS,t),Jh=null,Wh.call(t))}function dS(t,i){if(!(i.state.loading&4)){var a=Jh.get(t);if(a)var l=a.get(null);else{a=new Map,Jh.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var T=d[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}d=i.instance,T=d.getAttribute("data-precedence"),p=a.get(T)||l,p===l&&a.set(null,d),a.set(T,d),this.count++,l=Wh.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),p?p.parentNode.insertBefore(d,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var dc={$$typeof:ve,Provider:null,Consumer:null,_currentValue:we,_currentValue2:we,_threadCount:0};function mS(t,i,a,l,d,p,T,N,U){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=sr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sr(0),this.hiddenUpdates=sr(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function vb(t,i,a,l,d,p,T,N,U,le,ye,Te){return t=new mS(t,i,a,T,U,le,ye,Te,N),i=1,p===!0&&(i|=24),p=wi(3,null,null,i),t.current=p,p.stateNode=t,i=Ud(),i.refCount++,t.pooledCache=i,i.refCount++,p.memoizedState={element:l,isDehydrated:a,cache:i},qd(p),t}function _b(t){return t?(t=$r,t):$r}function bb(t,i,a,l,d,p){d=_b(d),l.context===null?l.context=d:l.pendingContext=d,l=$a(i),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=Xa(t,l,i),a!==null&&(ei(a,t,i),Gu(a,t,i))}function wb(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function op(t,i){wb(t,i),(t=t.alternate)&&wb(t,i)}function Eb(t){if(t.tag===13||t.tag===31){var i=on(t,67108864);i!==null&&ei(i,t,67108864),op(t,67108864)}}function Tb(t){if(t.tag===13||t.tag===31){var i=Ai();i=Fs(i);var a=on(t,i);a!==null&&ei(a,t,i),op(t,i)}}var ef=!0;function pS(t,i,a,l){var d=he.T;he.T=null;var p=Ce.p;try{Ce.p=2,lp(t,i,a,l)}finally{Ce.p=p,he.T=d}}function gS(t,i,a,l){var d=he.T;he.T=null;var p=Ce.p;try{Ce.p=8,lp(t,i,a,l)}finally{Ce.p=p,he.T=d}}function lp(t,i,a,l){if(ef){var d=up(l);if(d===null)Ym(t,i,l,tf,a),Sb(t,l);else if(vS(d,t,i,a,l))l.stopPropagation();else if(Sb(t,l),i&4&&-1<yS.indexOf(t)){for(;d!==null;){var p=Mt(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=jr(p.pendingLanes);if(T!==0){var N=p;for(N.pendingLanes|=2,N.entangledLanes|=2;T;){var U=1<<31-ze(T);N.entanglements[1]|=U,T&=~U}Rs(p),(zt&6)===0&&(Vh=Jn()+500,oc(0))}}break;case 31:case 13:N=on(p,2),N!==null&&ei(N,p,2),Uh(),op(p,2)}if(p=up(l),p===null&&Ym(t,i,l,tf,a),p===d)break;d=p}d!==null&&l.stopPropagation()}else Ym(t,i,l,null,a)}}function up(t){return t=Cr(t),cp(t)}var tf=null;function cp(t){if(tf=null,t=Lr(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=c(i),t!==null)return t;t=null}else if(a===31){if(t=y(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return tf=t,null}function xb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ai()){case oi:return 2;case li:return 8;case Di:case Us:return 32;case Ra:return 268435456;default:return 32}default:return 32}}var hp=!1,oo=null,lo=null,uo=null,mc=new Map,pc=new Map,co=[],yS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sb(t,i){switch(t){case"focusin":case"focusout":oo=null;break;case"dragenter":case"dragleave":lo=null;break;case"mouseover":case"mouseout":uo=null;break;case"pointerover":case"pointerout":mc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":pc.delete(i.pointerId)}}function gc(t,i,a,l,d,p){return t===null||t.nativeEvent!==p?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[d]},i!==null&&(i=Mt(i),i!==null&&Eb(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function vS(t,i,a,l,d){switch(i){case"focusin":return oo=gc(oo,t,i,a,l,d),!0;case"dragenter":return lo=gc(lo,t,i,a,l,d),!0;case"mouseover":return uo=gc(uo,t,i,a,l,d),!0;case"pointerover":var p=d.pointerId;return mc.set(p,gc(mc.get(p)||null,t,i,a,l,d)),!0;case"gotpointercapture":return p=d.pointerId,pc.set(p,gc(pc.get(p)||null,t,i,a,l,d)),!0}return!1}function Ab(t){var i=Lr(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=c(a),i!==null){t.blockedOn=i,gr(t.priority,function(){Tb(a)});return}}else if(i===31){if(i=y(a),i!==null){t.blockedOn=i,gr(t.priority,function(){Tb(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nf(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=up(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Fr=l,a.target.dispatchEvent(l),Fr=null}else return i=Mt(a),i!==null&&Eb(i),t.blockedOn=a,!1;i.shift()}return!0}function Rb(t,i,a){nf(t)&&a.delete(i)}function _S(){hp=!1,oo!==null&&nf(oo)&&(oo=null),lo!==null&&nf(lo)&&(lo=null),uo!==null&&nf(uo)&&(uo=null),mc.forEach(Rb),pc.forEach(Rb)}function rf(t,i){t.blockedOn===i&&(t.blockedOn=null,hp||(hp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,_S)))}var sf=null;function Cb(t){sf!==t&&(sf=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){sf===t&&(sf=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],d=t[i+2];if(typeof l!="function"){if(cp(l||a)===null)continue;break}var p=Mt(a);p!==null&&(t.splice(i,3),i-=3,um(p,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function ru(t){function i(U){return rf(U,t)}oo!==null&&rf(oo,t),lo!==null&&rf(lo,t),uo!==null&&rf(uo,t),mc.forEach(i),pc.forEach(i);for(var a=0;a<co.length;a++){var l=co[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<co.length&&(a=co[0],a.blockedOn===null);)Ab(a),a.blockedOn===null&&co.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],p=a[l+1],T=d[Zt]||null;if(typeof p=="function")T||Cb(a);else if(T){var N=null;if(p&&p.hasAttribute("formAction")){if(d=p,T=p[Zt]||null)N=T.formAction;else if(cp(d)!==null)continue}else N=T.action;typeof N=="function"?a[l+1]=N:(a.splice(l,3),l-=3),Cb(a)}}}function Nb(){function t(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function i(){d!==null&&(d(),d=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),d!==null&&(d(),d=null)}}}function fp(t){this._internalRoot=t}af.prototype.render=fp.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Ai();bb(a,l,t,i,null,null)},af.prototype.unmount=fp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;bb(t.current,2,null,t,null,null),Uh(),i[Kn]=null}};function af(t){this._internalRoot=t}af.prototype.unstable_scheduleHydration=function(t){if(t){var i=qs();t={blockedOn:null,target:t,priority:i};for(var a=0;a<co.length&&i!==0&&i<co[a].priority;a++);co.splice(a,0,t),a===0&&Ab(t)}};var Ib=e.version;if(Ib!=="19.2.3")throw Error(s(527,Ib,"19.2.3"));Ce.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(i),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var bS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:he,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!of.isDisabled&&of.supportsFiber)try{pr=of.inject(bS),Sn=of}catch{}}return _c.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",d=Vv,p=Lv,T=Uv;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError)),i=vb(t,1,!1,null,null,a,l,null,d,p,T,Nb),t[Kn]=i.current,Qm(t),new fp(i)},_c.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,d="",p=Vv,T=Lv,N=Uv,U=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(N=a.onRecoverableError),a.formState!==void 0&&(U=a.formState)),i=vb(t,1,!0,i,a??null,l,d,U,p,T,N,Nb),i.context=_b(null),a=i.current,l=Ai(),l=Fs(l),d=$a(l),d.callback=null,Xa(a,d,l),a=l,i.current.lanes=a,Pr(i,a),Rs(i),t[Kn]=i.current,Qm(t),new af(i)},_c.version="19.2.3",_c}var zb;function DS(){if(zb)return pp.exports;zb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),pp.exports=IS(),pp.exports}var kS=DS();var Bb="popstate";function OS(r={}){function e(o,u){let{pathname:c="/",search:y="",hash:v=""}=El(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Bp("",{pathname:c,search:y,hash:v},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let c=o.document.querySelector("base"),y="";if(c&&c.getAttribute("href")){let v=o.location.href,_=v.indexOf("#");y=_===-1?v:v.slice(0,_)}return y+"#"+(typeof u=="string"?u:Mc(u))}function s(o,u){Wi(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return jS(e,n,s,r)}function yn(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Wi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MS(){return Math.random().toString(36).substring(2,10)}function Fb(r,e){return{usr:r.state,key:r.key,idx:e}}function Bp(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?El(e):e,state:n,key:e&&e.key||s||MS()}}function Mc({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function El(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function jS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,c=o.history,y="POP",v=null,_=x();_==null&&(_=0,c.replaceState({...c.state,idx:_},""));function x(){return(c.state||{idx:null}).idx}function R(){y="POP";let H=x(),pe=H==null?null:H-_;_=H,v&&v({action:y,location:Z.location,delta:pe})}function O(H,pe){y="PUSH";let de=Bp(Z.location,H,pe);n&&n(de,H),_=x()+1;let ve=Fb(de,_),Fe=Z.createHref(de);try{c.pushState(ve,"",Fe)}catch(Ke){if(Ke instanceof DOMException&&Ke.name==="DataCloneError")throw Ke;o.location.assign(Fe)}u&&v&&v({action:y,location:Z.location,delta:1})}function L(H,pe){y="REPLACE";let de=Bp(Z.location,H,pe);n&&n(de,H),_=x();let ve=Fb(de,_),Fe=Z.createHref(de);c.replaceState(ve,"",Fe),u&&v&&v({action:y,location:Z.location,delta:0})}function ie(H){return PS(H)}let Z={get action(){return y},get location(){return r(o,c)},listen(H){if(v)throw new Error("A history only accepts one active listener");return o.addEventListener(Bb,R),v=H,()=>{o.removeEventListener(Bb,R),v=null}},createHref(H){return e(o,H)},createURL:ie,encodeLocation(H){let pe=ie(H);return{pathname:pe.pathname,search:pe.search,hash:pe.hash}},push:O,replace:L,go(H){return c.go(H)}};return Z}function PS(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),yn(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Mc(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function q1(r,e,n="/"){return VS(r,e,n,!1)}function VS(r,e,n,s){let o=typeof e=="string"?El(e):e,u=wa(o.pathname||"/",n);if(u==null)return null;let c=H1(r);LS(c);let y=null;for(let v=0;y==null&&v<c.length;++v){let _=$S(u);y=QS(c[v],_,s)}return y}function H1(r,e=[],n=[],s="",o=!1){let u=(c,y,v=o,_)=>{let x={relativePath:_===void 0?c.path||"":_,caseSensitive:c.caseSensitive===!0,childrenIndex:y,route:c};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(s)&&v)return;yn(x.relativePath.startsWith(s),`Absolute route path "${x.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(s.length)}let R=ba([s,x.relativePath]),O=n.concat(x);c.children&&c.children.length>0&&(yn(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${R}".`),H1(c.children,e,O,R,v)),!(c.path==null&&!c.index)&&e.push({path:R,score:GS(R,c.index),routesMeta:O})};return r.forEach((c,y)=>{if(c.path===""||!c.path?.includes("?"))u(c,y);else for(let v of G1(c.path))u(c,y,!0,v)}),e}function G1(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let c=G1(s.join("/")),y=[];return y.push(...c.map(v=>v===""?u:[u,v].join("/"))),o&&y.push(...c),y.map(v=>r.startsWith("/")&&v===""?"/":v)}function LS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:KS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var US=/^:[\w-]+$/,zS=3,BS=2,FS=1,qS=10,HS=-2,qb=r=>r==="*";function GS(r,e){let n=r.split("/"),s=n.length;return n.some(qb)&&(s+=HS),e&&(s+=BS),n.filter(o=>!qb(o)).reduce((o,u)=>o+(US.test(u)?zS:u===""?FS:qS),s)}function KS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function QS(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",c=[];for(let y=0;y<s.length;++y){let v=s[y],_=y===s.length-1,x=u==="/"?e:e.slice(u.length)||"/",R=Df({path:v.relativePath,caseSensitive:v.caseSensitive,end:_},x),O=v.route;if(!R&&_&&n&&!s[s.length-1].route.index&&(R=Df({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},x)),!R)return null;Object.assign(o,R.params),c.push({params:o,pathname:ba([u,R.pathname]),pathnameBase:ZS(ba([u,R.pathnameBase])),route:O}),R.pathnameBase!=="/"&&(u=ba([u,R.pathnameBase]))}return c}function Df(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=YS(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),y=o.slice(1);return{params:s.reduce((_,{paramName:x,isOptional:R},O)=>{if(x==="*"){let ie=y[O]||"";c=u.slice(0,u.length-ie.length).replace(/(.)\/+$/,"$1")}const L=y[O];return R&&!L?_[x]=void 0:_[x]=(L||"").replace(/%2F/g,"/"),_},{}),pathname:u,pathnameBase:c,pattern:r}}function YS(r,e=!1,n=!0){Wi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,y,v)=>(s.push({paramName:y,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function $S(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function wa(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var K1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XS=r=>K1.test(r);function WS(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?El(r):r,u;if(n)if(XS(n))u=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Wi(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?u=Hb(n.substring(1),"/"):u=Hb(n,e)}else u=e;return{pathname:u,search:eA(s),hash:tA(o)}}function Hb(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function _p(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JS(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Q1(r){let e=JS(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Y1(r,e,n,s=!1){let o;typeof r=="string"?o=El(r):(o={...r},yn(!o.pathname||!o.pathname.includes("?"),_p("?","pathname","search",o)),yn(!o.pathname||!o.pathname.includes("#"),_p("#","pathname","hash",o)),yn(!o.search||!o.search.includes("#"),_p("#","search","hash",o)));let u=r===""||o.pathname==="",c=u?"/":o.pathname,y;if(c==null)y=n;else{let R=e.length-1;if(!s&&c.startsWith("..")){let O=c.split("/");for(;O[0]==="..";)O.shift(),R-=1;o.pathname=O.join("/")}y=R>=0?e[R]:"/"}let v=WS(o,y),_=c&&c!=="/"&&c.endsWith("/"),x=(u||c===".")&&n.endsWith("/");return!v.pathname.endsWith("/")&&(_||x)&&(v.pathname+="/"),v}var ba=r=>r.join("/").replace(/\/\/+/g,"/"),ZS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),eA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,tA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,nA=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function rA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function iA(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var $1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function X1(r,e){let n=r;if(typeof n!="string"||!K1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if($1)try{let u=new URL(window.location.href),c=n.startsWith("//")?new URL(u.protocol+n):new URL(n),y=wa(c.pathname,e);c.origin===u.origin&&y!=null?n=y+c.search+c.hash:o=!0}catch{Wi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var W1=["POST","PUT","PATCH","DELETE"];new Set(W1);var sA=["GET",...W1];new Set(sA);var xu=q.createContext(null);xu.displayName="DataRouter";var td=q.createContext(null);td.displayName="DataRouterState";var aA=q.createContext(!1),J1=q.createContext({isTransitioning:!1});J1.displayName="ViewTransition";var oA=q.createContext(new Map);oA.displayName="Fetchers";var lA=q.createContext(null);lA.displayName="Await";var Ji=q.createContext(null);Ji.displayName="Navigation";var Hc=q.createContext(null);Hc.displayName="Location";var Vs=q.createContext({outlet:null,matches:[],isDataRoute:!1});Vs.displayName="Route";var Eg=q.createContext(null);Eg.displayName="RouteError";var Z1="REACT_ROUTER_ERROR",uA="REDIRECT",cA="ROUTE_ERROR_RESPONSE";function hA(r){if(r.startsWith(`${Z1}:${uA}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function fA(r){if(r.startsWith(`${Z1}:${cA}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new nA(e.status,e.statusText,e.data)}catch{}}function dA(r,{relative:e}={}){yn(Gc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=q.useContext(Ji),{hash:o,pathname:u,search:c}=Kc(r,{relative:e}),y=u;return n!=="/"&&(y=u==="/"?n:ba([n,u])),s.createHref({pathname:y,search:c,hash:o})}function Gc(){return q.useContext(Hc)!=null}function Tl(){return yn(Gc(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(Hc).location}var ew="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tw(r){q.useContext(Ji).static||q.useLayoutEffect(r)}function mA(){let{isDataRoute:r}=q.useContext(Vs);return r?NA():pA()}function pA(){yn(Gc(),"useNavigate() may be used only in the context of a <Router> component.");let r=q.useContext(xu),{basename:e,navigator:n}=q.useContext(Ji),{matches:s}=q.useContext(Vs),{pathname:o}=Tl(),u=JSON.stringify(Q1(s)),c=q.useRef(!1);return tw(()=>{c.current=!0}),q.useCallback((v,_={})=>{if(Wi(c.current,ew),!c.current)return;if(typeof v=="number"){n.go(v);return}let x=Y1(v,JSON.parse(u),o,_.relative==="path");r==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:ba([e,x.pathname])),(_.replace?n.replace:n.push)(x,_.state,_)},[e,n,u,o,r])}var gA=q.createContext(null);function yA(r){let e=q.useContext(Vs).outlet;return q.useMemo(()=>e&&q.createElement(gA.Provider,{value:r},e),[e,r])}function Kc(r,{relative:e}={}){let{matches:n}=q.useContext(Vs),{pathname:s}=Tl(),o=JSON.stringify(Q1(n));return q.useMemo(()=>Y1(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function vA(r,e){return nw(r,e)}function nw(r,e,n,s,o){yn(Gc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=q.useContext(Ji),{matches:c}=q.useContext(Vs),y=c[c.length-1],v=y?y.params:{},_=y?y.pathname:"/",x=y?y.pathnameBase:"/",R=y&&y.route;{let de=R&&R.path||"";iw(_,!R||de.endsWith("*")||de.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${de}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${de}"> to <Route path="${de==="/"?"*":`${de}/*`}">.`)}let O=Tl(),L;if(e){let de=typeof e=="string"?El(e):e;yn(x==="/"||de.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${de.pathname}" was given in the \`location\` prop.`),L=de}else L=O;let ie=L.pathname||"/",Z=ie;if(x!=="/"){let de=x.replace(/^\//,"").split("/");Z="/"+ie.replace(/^\//,"").split("/").slice(de.length).join("/")}let H=q1(r,{pathname:Z});Wi(R||H!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),Wi(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let pe=TA(H&&H.map(de=>Object.assign({},de,{params:Object.assign({},v,de.params),pathname:ba([x,u.encodeLocation?u.encodeLocation(de.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:de.pathname]),pathnameBase:de.pathnameBase==="/"?x:ba([x,u.encodeLocation?u.encodeLocation(de.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:de.pathnameBase])})),c,n,s,o);return e&&pe?q.createElement(Hc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},pe):pe}function _A(){let r=CA(),e=rA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:o},n):null,c)}var bA=q.createElement(_A,null),rw=class extends q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=fA(r.digest);n&&(r=n)}let e=r!==void 0?q.createElement(Vs.Provider,{value:this.props.routeContext},q.createElement(Eg.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?q.createElement(wA,{error:r},e):e}};rw.contextType=aA;var bp=new WeakMap;function wA({children:r,error:e}){let{basename:n}=q.useContext(Ji);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=hA(e.digest);if(s){let o=bp.get(e);if(o)throw o;let u=X1(s.location,n);if($1&&!bp.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw bp.set(e,c),c}return q.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function EA({routeContext:r,match:e,children:n}){let s=q.useContext(xu);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(Vs.Provider,{value:r},n)}function TA(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,c=n?.errors;if(c!=null){let x=u.findIndex(R=>R.route.id&&c?.[R.route.id]!==void 0);yn(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,x+1))}let y=!1,v=-1;if(n)for(let x=0;x<u.length;x++){let R=u[x];if((R.route.HydrateFallback||R.route.hydrateFallbackElement)&&(v=x),R.route.id){let{loaderData:O,errors:L}=n,ie=R.route.loader&&!O.hasOwnProperty(R.route.id)&&(!L||L[R.route.id]===void 0);if(R.route.lazy||ie){y=!0,v>=0?u=u.slice(0,v+1):u=[u[0]];break}}}let _=n&&s?(x,R)=>{s(x,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:iA(n.matches),errorInfo:R})}:void 0;return u.reduceRight((x,R,O)=>{let L,ie=!1,Z=null,H=null;n&&(L=c&&R.route.id?c[R.route.id]:void 0,Z=R.route.errorElement||bA,y&&(v<0&&O===0?(iw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),ie=!0,H=null):v===O&&(ie=!0,H=R.route.hydrateFallbackElement||null)));let pe=e.concat(u.slice(0,O+1)),de=()=>{let ve;return L?ve=Z:ie?ve=H:R.route.Component?ve=q.createElement(R.route.Component,null):R.route.element?ve=R.route.element:ve=x,q.createElement(EA,{match:R,routeContext:{outlet:x,matches:pe,isDataRoute:n!=null},children:ve})};return n&&(R.route.ErrorBoundary||R.route.errorElement||O===0)?q.createElement(rw,{location:n.location,revalidation:n.revalidation,component:Z,error:L,children:de(),routeContext:{outlet:null,matches:pe,isDataRoute:!0},onError:_}):de()},null)}function Tg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xA(r){let e=q.useContext(xu);return yn(e,Tg(r)),e}function SA(r){let e=q.useContext(td);return yn(e,Tg(r)),e}function AA(r){let e=q.useContext(Vs);return yn(e,Tg(r)),e}function xg(r){let e=AA(r),n=e.matches[e.matches.length-1];return yn(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function RA(){return xg("useRouteId")}function CA(){let r=q.useContext(Eg),e=SA("useRouteError"),n=xg("useRouteError");return r!==void 0?r:e.errors?.[n]}function NA(){let{router:r}=xA("useNavigate"),e=xg("useNavigate"),n=q.useRef(!1);return tw(()=>{n.current=!0}),q.useCallback(async(o,u={})=>{Wi(n.current,ew),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Gb={};function iw(r,e,n){!e&&!Gb[r]&&(Gb[r]=!0,Wi(!1,n))}q.memo(IA);function IA({routes:r,future:e,state:n,onError:s}){return nw(r,void 0,n,s,e)}function DA(r){return yA(r.context)}function po(r){yn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:c}){yn(!Gc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let y=r.replace(/^\/*/,"/"),v=q.useMemo(()=>({basename:y,navigator:o,static:u,unstable_useTransitions:c,future:{}}),[y,o,u,c]);typeof n=="string"&&(n=El(n));let{pathname:_="/",search:x="",hash:R="",state:O=null,key:L="default"}=n,ie=q.useMemo(()=>{let Z=wa(_,y);return Z==null?null:{location:{pathname:Z,search:x,hash:R,state:O,key:L},navigationType:s}},[y,_,x,R,O,L,s]);return Wi(ie!=null,`<Router basename="${y}"> is not able to match the URL "${_}${x}${R}" because it does not start with the basename, so the <Router> won't render anything.`),ie==null?null:q.createElement(Ji.Provider,{value:v},q.createElement(Hc.Provider,{children:e,value:ie}))}function OA({children:r,location:e}){return vA(Fp(r),e)}function Fp(r,e=[]){let n=[];return q.Children.forEach(r,(s,o)=>{if(!q.isValidElement(s))return;let u=[...e,o];if(s.type===q.Fragment){n.push.apply(n,Fp(s.props.children,u));return}yn(s.type===po,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yn(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Fp(s.props.children,u)),n.push(c)}),n}var vf="get",_f="application/x-www-form-urlencoded";function nd(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function MA(r){return nd(r)&&r.tagName.toLowerCase()==="button"}function jA(r){return nd(r)&&r.tagName.toLowerCase()==="form"}function PA(r){return nd(r)&&r.tagName.toLowerCase()==="input"}function VA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function LA(r,e){return r.button===0&&(!e||e==="_self")&&!VA(r)}var lf=null;function UA(){if(lf===null)try{new FormData(document.createElement("form"),0),lf=!1}catch{lf=!0}return lf}var zA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wp(r){return r!=null&&!zA.has(r)?(Wi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_f}"`),null):r}function BA(r,e){let n,s,o,u,c;if(jA(r)){let y=r.getAttribute("action");s=y?wa(y,e):null,n=r.getAttribute("method")||vf,o=wp(r.getAttribute("enctype"))||_f,u=new FormData(r)}else if(MA(r)||PA(r)&&(r.type==="submit"||r.type==="image")){let y=r.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=r.getAttribute("formaction")||y.getAttribute("action");if(s=v?wa(v,e):null,n=r.getAttribute("formmethod")||y.getAttribute("method")||vf,o=wp(r.getAttribute("formenctype"))||wp(y.getAttribute("enctype"))||_f,u=new FormData(y,r),!UA()){let{name:_,type:x,value:R}=r;if(x==="image"){let O=_?`${_}.`:"";u.append(`${O}x`,"0"),u.append(`${O}y`,"0")}else _&&u.append(_,R)}}else{if(nd(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=vf,s=null,o=_f,c=r}return u&&o==="text/plain"&&(c=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Sg(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function FA(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&wa(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function qA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function GA(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await qA(u,n);return c.links?c.links():[]}return[]}));return $A(s.flat(1).filter(HA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Kb(r,e,n,s,o,u){let c=(v,_)=>n[_]?v.route.id!==n[_].route.id:!0,y=(v,_)=>n[_].pathname!==v.pathname||n[_].route.path?.endsWith("*")&&n[_].params["*"]!==v.params["*"];return u==="assets"?e.filter((v,_)=>c(v,_)||y(v,_)):u==="data"?e.filter((v,_)=>{let x=s.routes[v.route.id];if(!x||!x.hasLoader)return!1;if(c(v,_)||y(v,_))return!0;if(v.route.shouldRevalidate){let R=v.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function KA(r,e,{includeHydrateFallback:n}={}){return QA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function QA(r){return[...new Set(r)]}function YA(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function $A(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(YA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function sw(){let r=q.useContext(xu);return Sg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function XA(){let r=q.useContext(td);return Sg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Ag=q.createContext(void 0);Ag.displayName="FrameworkContext";function aw(){let r=q.useContext(Ag);return Sg(r,"You must render this element inside a <HydratedRouter> element"),r}function WA(r,e){let n=q.useContext(Ag),[s,o]=q.useState(!1),[u,c]=q.useState(!1),{onFocus:y,onBlur:v,onMouseEnter:_,onMouseLeave:x,onTouchStart:R}=e,O=q.useRef(null);q.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let Z=pe=>{pe.forEach(de=>{c(de.isIntersecting)})},H=new IntersectionObserver(Z,{threshold:.5});return O.current&&H.observe(O.current),()=>{H.disconnect()}}},[r]),q.useEffect(()=>{if(s){let Z=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(Z)}}},[s]);let L=()=>{o(!0)},ie=()=>{o(!1),c(!1)};return n?r!=="intent"?[u,O,{}]:[u,O,{onFocus:bc(y,L),onBlur:bc(v,ie),onMouseEnter:bc(_,L),onMouseLeave:bc(x,ie),onTouchStart:bc(R,L)}]:[!1,O,{}]}function bc(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function JA({page:r,...e}){let{router:n}=sw(),s=q.useMemo(()=>q1(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?q.createElement(eR,{page:r,matches:s,...e}):null}function ZA(r){let{manifest:e,routeModules:n}=aw(),[s,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return GA(r,e,n).then(c=>{u||o(c)}),()=>{u=!0}},[r,e,n]),s}function eR({page:r,matches:e,...n}){let s=Tl(),{future:o,manifest:u,routeModules:c}=aw(),{basename:y}=sw(),{loaderData:v,matches:_}=XA(),x=q.useMemo(()=>Kb(r,e,_,u,s,"data"),[r,e,_,u,s]),R=q.useMemo(()=>Kb(r,e,_,u,s,"assets"),[r,e,_,u,s]),O=q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let Z=new Set,H=!1;if(e.forEach(de=>{let ve=u.routes[de.route.id];!ve||!ve.hasLoader||(!x.some(Fe=>Fe.route.id===de.route.id)&&de.route.id in v&&c[de.route.id]?.shouldRevalidate||ve.hasClientLoader?H=!0:Z.add(de.route.id))}),Z.size===0)return[];let pe=FA(r,y,o.unstable_trailingSlashAwareDataRequests,"data");return H&&Z.size>0&&pe.searchParams.set("_routes",e.filter(de=>Z.has(de.route.id)).map(de=>de.route.id).join(",")),[pe.pathname+pe.search]},[y,o.unstable_trailingSlashAwareDataRequests,v,s,u,x,e,r,c]),L=q.useMemo(()=>KA(R,u),[R,u]),ie=ZA(R);return q.createElement(q.Fragment,null,O.map(Z=>q.createElement("link",{key:Z,rel:"prefetch",as:"fetch",href:Z,...n})),L.map(Z=>q.createElement("link",{key:Z,rel:"modulepreload",href:Z,...n})),ie.map(({key:Z,link:H})=>q.createElement("link",{key:Z,nonce:n.nonce,...H})))}function tR(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var nR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nR&&(window.__reactRouterVersion="7.12.0")}catch{}function rR({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=q.useRef();o.current==null&&(o.current=OS({window:s,v5Compat:!0}));let u=o.current,[c,y]=q.useState({action:u.action,location:u.location}),v=q.useCallback(_=>{n===!1?y(_):q.startTransition(()=>y(_))},[n]);return q.useLayoutEffect(()=>u.listen(v),[u,v]),q.createElement(kA,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:u,unstable_useTransitions:n})}var ow=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lw=q.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:c,state:y,target:v,to:_,preventScrollReset:x,viewTransition:R,unstable_defaultShouldRevalidate:O,...L},ie){let{basename:Z,unstable_useTransitions:H}=q.useContext(Ji),pe=typeof _=="string"&&ow.test(_),de=X1(_,Z);_=de.to;let ve=dA(_,{relative:o}),[Fe,Ke,Be]=WA(s,L),D=aR(_,{replace:c,state:y,target:v,preventScrollReset:x,relative:o,viewTransition:R,unstable_defaultShouldRevalidate:O,unstable_useTransitions:H});function I(B){e&&e(B),B.defaultPrevented||D(B)}let j=q.createElement("a",{...L,...Be,href:de.absoluteURL||ve,onClick:de.isExternal||u?e:I,ref:tR(ie,Ke),target:v,"data-discover":!pe&&n==="render"?"true":void 0});return Fe&&!pe?q.createElement(q.Fragment,null,j,q.createElement(JA,{page:ve})):j});lw.displayName="Link";var uw=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:c,viewTransition:y,children:v,..._},x){let R=Kc(c,{relative:_.relative}),O=Tl(),L=q.useContext(td),{navigator:ie,basename:Z}=q.useContext(Ji),H=L!=null&&hR(R)&&y===!0,pe=ie.encodeLocation?ie.encodeLocation(R).pathname:R.pathname,de=O.pathname,ve=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(de=de.toLowerCase(),ve=ve?ve.toLowerCase():null,pe=pe.toLowerCase()),ve&&Z&&(ve=wa(ve,Z)||ve);const Fe=pe!=="/"&&pe.endsWith("/")?pe.length-1:pe.length;let Ke=de===pe||!o&&de.startsWith(pe)&&de.charAt(Fe)==="/",Be=ve!=null&&(ve===pe||!o&&ve.startsWith(pe)&&ve.charAt(pe.length)==="/"),D={isActive:Ke,isPending:Be,isTransitioning:H},I=Ke?e:void 0,j;typeof s=="function"?j=s(D):j=[s,Ke?"active":null,Be?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let B=typeof u=="function"?u(D):u;return q.createElement(lw,{..._,"aria-current":I,className:j,ref:x,style:B,to:c,viewTransition:y},typeof v=="function"?v(D):v)});uw.displayName="NavLink";var iR=q.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:c=vf,action:y,onSubmit:v,relative:_,preventScrollReset:x,viewTransition:R,unstable_defaultShouldRevalidate:O,...L},ie)=>{let{unstable_useTransitions:Z}=q.useContext(Ji),H=uR(),pe=cR(y,{relative:_}),de=c.toLowerCase()==="get"?"get":"post",ve=typeof y=="string"&&ow.test(y),Fe=Ke=>{if(v&&v(Ke),Ke.defaultPrevented)return;Ke.preventDefault();let Be=Ke.nativeEvent.submitter,D=Be?.getAttribute("formmethod")||c,I=()=>H(Be||Ke.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:o,state:u,relative:_,preventScrollReset:x,viewTransition:R,unstable_defaultShouldRevalidate:O});Z&&n!==!1?q.startTransition(()=>I()):I()};return q.createElement("form",{ref:ie,method:de,action:pe,onSubmit:s?v:Fe,...L,"data-discover":!ve&&r==="render"?"true":void 0})});iR.displayName="Form";function sR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cw(r){let e=q.useContext(xu);return yn(e,sR(r)),e}function aR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:y,unstable_useTransitions:v}={}){let _=mA(),x=Tl(),R=Kc(r,{relative:u});return q.useCallback(O=>{if(LA(O,e)){O.preventDefault();let L=n!==void 0?n:Mc(x)===Mc(R),ie=()=>_(r,{replace:L,state:s,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:y});v?q.startTransition(()=>ie()):ie()}},[x,_,R,n,s,e,r,o,u,c,y,v])}var oR=0,lR=()=>`__${String(++oR)}__`;function uR(){let{router:r}=cw("useSubmit"),{basename:e}=q.useContext(Ji),n=RA(),s=r.fetch,o=r.navigate;return q.useCallback(async(u,c={})=>{let{action:y,method:v,encType:_,formData:x,body:R}=BA(u,e);if(c.navigate===!1){let O=c.fetcherKey||lR();await s(O,n,c.action||y,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:x,body:R,formMethod:c.method||v,formEncType:c.encType||_,flushSync:c.flushSync})}else await o(c.action||y,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:x,body:R,formMethod:c.method||v,formEncType:c.encType||_,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,o,e,n])}function cR(r,{relative:e}={}){let{basename:n}=q.useContext(Ji),s=q.useContext(Vs);yn(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Kc(r||".",{relative:e})},c=Tl();if(r==null){u.search=c.search;let y=new URLSearchParams(u.search),v=y.getAll("index");if(v.some(x=>x==="")){y.delete("index"),v.filter(R=>R).forEach(R=>y.append("index",R));let x=y.toString();u.search=x?`?${x}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ba([n,u.pathname])),Mc(u)}function hR(r,{relative:e}={}){let n=q.useContext(J1);yn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=cw("useViewTransitionState"),o=Kc(r,{relative:e});if(!n.isTransitioning)return!1;let u=wa(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=wa(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Df(o.pathname,c)!=null||Df(o.pathname,u)!=null}const fR=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dR=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Qb=r=>{const e=dR(r);return e.charAt(0).toUpperCase()+e.slice(1)},hw=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),mR=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var pR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const gR=q.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:c,...y},v)=>q.createElement("svg",{ref:v,...pR,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:hw("lucide",o),...!u&&!mR(y)&&{"aria-hidden":"true"},...y},[...c.map(([_,x])=>q.createElement(_,x)),...Array.isArray(u)?u:[u]]));const Ut=(r,e)=>{const n=q.forwardRef(({className:s,...o},u)=>q.createElement(gR,{ref:u,iconNode:e,className:hw(`lucide-${fR(Qb(r))}`,`lucide-${r}`,s),...o}));return n.displayName=Qb(r),n};const yR=[["path",{d:"M16.4 13.7A6.5 6.5 0 1 0 6.28 6.6c-1.1 3.13-.78 3.9-3.18 6.08A3 3 0 0 0 5 18c4 0 8.4-1.8 11.4-4.3",key:"cisjcv"}],["path",{d:"m18.5 6 2.19 4.5a6.48 6.48 0 0 1-2.29 7.2C15.4 20.2 11 22 7 22a3 3 0 0 1-2.68-1.66L2.4 16.5",key:"5byaag"}],["circle",{cx:"12.5",cy:"8.5",r:"2.5",key:"9738u8"}]],vR=Ut("beef",yR);const _R=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],bR=Ut("book-open",_R);const wR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],ER=Ut("calendar-days",wR);const TR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],jc=Ut("check",TR);const xR=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],SR=Ut("chef-hat",xR);const AR=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],RR=Ut("chevron-left",AR);const CR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],NR=Ut("chevron-right",CR);const IR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Yb=Ut("circle-alert",IR);const DR=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fw=Ut("clock",DR);const kR=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],OR=Ut("cloud-off",kR);const MR=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],uf=Ut("cloud",MR);const jR=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],$b=Ut("external-link",jR);const PR=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Xb=Ut("eye-off",PR);const VR=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Wb=Ut("eye",VR);const LR=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],UR=Ut("flame",LR);const zR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],kf=Ut("globe",zR);const BR=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],FR=Ut("layout-dashboard",BR);const qR=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ya=Ut("loader-circle",qR);const HR=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],GR=Ut("log-out",HR);const KR=[["path",{d:"M5 12h14",key:"1ays0h"}]],QR=Ut("minus",KR);const YR=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],dw=Ut("package",YR);const $R=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mu=Ut("plus",$R);const XR=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],WR=Ut("refresh-cw",XR);const JR=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Rg=Ut("search",JR);const ZR=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],eC=Ut("settings",ZR);const tC=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Of=Ut("sparkles",tC);const nC=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],rC=Ut("star",nC);const iC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],rd=Ut("trash-2",iC);const sC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],aC=Ut("triangle-alert",sC);const oC=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],lC=Ut("utensils-crossed",oC);const uC=[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]],cC=Ut("wheat",uC);const hC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fC=Ut("x",hC);function mw(r){var e,n,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(n=mw(r[e]))&&(s&&(s+=" "),s+=n)}else for(n in r)r[n]&&(s&&(s+=" "),s+=n);return s}function pw(){for(var r,e,n=0,s="",o=arguments.length;n<o;n++)(r=arguments[n])&&(e=mw(r))&&(s&&(s+=" "),s+=e);return s}const dC=(r,e)=>{const n=new Array(r.length+e.length);for(let s=0;s<r.length;s++)n[s]=r[s];for(let s=0;s<e.length;s++)n[r.length+s]=e[s];return n},mC=(r,e)=>({classGroupId:r,validator:e}),gw=(r=new Map,e=null,n)=>({nextPart:r,validators:e,classGroupId:n}),Mf="-",Jb=[],pC="arbitrary..",gC=r=>{const e=vC(r),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=r;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return yC(c);const y=c.split(Mf),v=y[0]===""&&y.length>1?1:0;return yw(y,v,e)},getConflictingClassGroupIds:(c,y)=>{if(y){const v=s[c],_=n[c];return v?_?dC(_,v):v:_||Jb}return n[c]||Jb}}},yw=(r,e,n)=>{if(r.length-e===0)return n.classGroupId;const o=r[e],u=n.nextPart.get(o);if(u){const _=yw(r,e+1,u);if(_)return _}const c=n.validators;if(c===null)return;const y=e===0?r.join(Mf):r.slice(e).join(Mf),v=c.length;for(let _=0;_<v;_++){const x=c[_];if(x.validator(y))return x.classGroupId}},yC=r=>r.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=r.slice(1,-1),n=e.indexOf(":"),s=e.slice(0,n);return s?pC+s:void 0})(),vC=r=>{const{theme:e,classGroups:n}=r;return _C(n,e)},_C=(r,e)=>{const n=gw();for(const s in r){const o=r[s];Cg(o,n,s,e)}return n},Cg=(r,e,n,s)=>{const o=r.length;for(let u=0;u<o;u++){const c=r[u];bC(c,e,n,s)}},bC=(r,e,n,s)=>{if(typeof r=="string"){wC(r,e,n);return}if(typeof r=="function"){EC(r,e,n,s);return}TC(r,e,n,s)},wC=(r,e,n)=>{const s=r===""?e:vw(e,r);s.classGroupId=n},EC=(r,e,n,s)=>{if(xC(r)){Cg(r(s),e,n,s);return}e.validators===null&&(e.validators=[]),e.validators.push(mC(n,r))},TC=(r,e,n,s)=>{const o=Object.entries(r),u=o.length;for(let c=0;c<u;c++){const[y,v]=o[c];Cg(v,vw(e,y),n,s)}},vw=(r,e)=>{let n=r;const s=e.split(Mf),o=s.length;for(let u=0;u<o;u++){const c=s[u];let y=n.nextPart.get(c);y||(y=gw(),n.nextPart.set(c,y)),n=y}return n},xC=r=>"isThemeGetter"in r&&r.isThemeGetter===!0,SC=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),s=Object.create(null);const o=(u,c)=>{n[u]=c,e++,e>r&&(e=0,s=n,n=Object.create(null))};return{get(u){let c=n[u];if(c!==void 0)return c;if((c=s[u])!==void 0)return o(u,c),c},set(u,c){u in n?n[u]=c:o(u,c)}}},qp="!",Zb=":",AC=[],e0=(r,e,n,s,o)=>({modifiers:r,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:s,isExternal:o}),RC=r=>{const{prefix:e,experimentalParseClassName:n}=r;let s=o=>{const u=[];let c=0,y=0,v=0,_;const x=o.length;for(let Z=0;Z<x;Z++){const H=o[Z];if(c===0&&y===0){if(H===Zb){u.push(o.slice(v,Z)),v=Z+1;continue}if(H==="/"){_=Z;continue}}H==="["?c++:H==="]"?c--:H==="("?y++:H===")"&&y--}const R=u.length===0?o:o.slice(v);let O=R,L=!1;R.endsWith(qp)?(O=R.slice(0,-1),L=!0):R.startsWith(qp)&&(O=R.slice(1),L=!0);const ie=_&&_>v?_-v:void 0;return e0(u,L,O,ie)};if(e){const o=e+Zb,u=s;s=c=>c.startsWith(o)?u(c.slice(o.length)):e0(AC,!1,c,void 0,!0)}if(n){const o=s;s=u=>n({className:u,parseClassName:o})}return s},CC=r=>{const e=new Map;return r.orderSensitiveModifiers.forEach((n,s)=>{e.set(n,1e6+s)}),n=>{const s=[];let o=[];for(let u=0;u<n.length;u++){const c=n[u],y=c[0]==="[",v=e.has(c);y||v?(o.length>0&&(o.sort(),s.push(...o),o=[]),s.push(c)):o.push(c)}return o.length>0&&(o.sort(),s.push(...o)),s}},NC=r=>({cache:SC(r.cacheSize),parseClassName:RC(r),sortModifiers:CC(r),...gC(r)}),IC=/\s+/,DC=(r,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:o,sortModifiers:u}=e,c=[],y=r.trim().split(IC);let v="";for(let _=y.length-1;_>=0;_-=1){const x=y[_],{isExternal:R,modifiers:O,hasImportantModifier:L,baseClassName:ie,maybePostfixModifierPosition:Z}=n(x);if(R){v=x+(v.length>0?" "+v:v);continue}let H=!!Z,pe=s(H?ie.substring(0,Z):ie);if(!pe){if(!H){v=x+(v.length>0?" "+v:v);continue}if(pe=s(ie),!pe){v=x+(v.length>0?" "+v:v);continue}H=!1}const de=O.length===0?"":O.length===1?O[0]:u(O).join(":"),ve=L?de+qp:de,Fe=ve+pe;if(c.indexOf(Fe)>-1)continue;c.push(Fe);const Ke=o(pe,H);for(let Be=0;Be<Ke.length;++Be){const D=Ke[Be];c.push(ve+D)}v=x+(v.length>0?" "+v:v)}return v},kC=(...r)=>{let e=0,n,s,o="";for(;e<r.length;)(n=r[e++])&&(s=_w(n))&&(o&&(o+=" "),o+=s);return o},_w=r=>{if(typeof r=="string")return r;let e,n="";for(let s=0;s<r.length;s++)r[s]&&(e=_w(r[s]))&&(n&&(n+=" "),n+=e);return n},OC=(r,...e)=>{let n,s,o,u;const c=v=>{const _=e.reduce((x,R)=>R(x),r());return n=NC(_),s=n.cache.get,o=n.cache.set,u=y,y(v)},y=v=>{const _=s(v);if(_)return _;const x=DC(v,n);return o(v,x),x};return u=c,(...v)=>u(kC(...v))},MC=[],Yn=r=>{const e=n=>n[r]||MC;return e.isThemeGetter=!0,e},bw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ww=/^\((?:(\w[\w-]*):)?(.+)\)$/i,jC=/^\d+\/\d+$/,PC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,VC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,LC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,UC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,iu=r=>jC.test(r),wt=r=>!!r&&!Number.isNaN(Number(r)),fo=r=>!!r&&Number.isInteger(Number(r)),Ep=r=>r.endsWith("%")&&wt(r.slice(0,-1)),da=r=>PC.test(r),BC=()=>!0,FC=r=>VC.test(r)&&!LC.test(r),Ew=()=>!1,qC=r=>UC.test(r),HC=r=>zC.test(r),GC=r=>!$e(r)&&!Xe(r),KC=r=>Su(r,Sw,Ew),$e=r=>bw.test(r),al=r=>Su(r,Aw,FC),Tp=r=>Su(r,WC,wt),t0=r=>Su(r,Tw,Ew),QC=r=>Su(r,xw,HC),cf=r=>Su(r,Rw,qC),Xe=r=>ww.test(r),wc=r=>Au(r,Aw),YC=r=>Au(r,JC),n0=r=>Au(r,Tw),$C=r=>Au(r,Sw),XC=r=>Au(r,xw),hf=r=>Au(r,Rw,!0),Su=(r,e,n)=>{const s=bw.exec(r);return s?s[1]?e(s[1]):n(s[2]):!1},Au=(r,e,n=!1)=>{const s=ww.exec(r);return s?s[1]?e(s[1]):n:!1},Tw=r=>r==="position"||r==="percentage",xw=r=>r==="image"||r==="url",Sw=r=>r==="length"||r==="size"||r==="bg-size",Aw=r=>r==="length",WC=r=>r==="number",JC=r=>r==="family-name",Rw=r=>r==="shadow",ZC=()=>{const r=Yn("color"),e=Yn("font"),n=Yn("text"),s=Yn("font-weight"),o=Yn("tracking"),u=Yn("leading"),c=Yn("breakpoint"),y=Yn("container"),v=Yn("spacing"),_=Yn("radius"),x=Yn("shadow"),R=Yn("inset-shadow"),O=Yn("text-shadow"),L=Yn("drop-shadow"),ie=Yn("blur"),Z=Yn("perspective"),H=Yn("aspect"),pe=Yn("ease"),de=Yn("animate"),ve=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Fe=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Ke=()=>[...Fe(),Xe,$e],Be=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],I=()=>[Xe,$e,v],j=()=>[iu,"full","auto",...I()],B=()=>[fo,"none","subgrid",Xe,$e],F=()=>["auto",{span:["full",fo,Xe,$e]},fo,Xe,$e],X=()=>[fo,"auto",Xe,$e],V=()=>["auto","min","max","fr",Xe,$e],De=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ae=()=>["start","end","center","stretch","center-safe","end-safe"],he=()=>["auto",...I()],Ce=()=>[iu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],we=()=>[r,Xe,$e],dt=()=>[...Fe(),n0,t0,{position:[Xe,$e]}],mt=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Y=()=>["auto","cover","contain",$C,KC,{size:[Xe,$e]}],_e=()=>[Ep,wc,al],Re=()=>["","none","full",_,Xe,$e],Pe=()=>["",wt,wc,al],Ze=()=>["solid","dashed","dotted","double"],rt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Je=()=>[wt,Ep,n0,t0],sn=()=>["","none",ie,Xe,$e],Ve=()=>["none",wt,Xe,$e],Sr=()=>["none",wt,Xe,$e],Ar=()=>[wt,Xe,$e],_t=()=>[iu,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[da],breakpoint:[da],color:[BC],container:[da],"drop-shadow":[da],ease:["in","out","in-out"],font:[GC],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[da],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[da],shadow:[da],spacing:["px",wt],text:[da],"text-shadow":[da],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",iu,$e,Xe,H]}],container:["container"],columns:[{columns:[wt,$e,Xe,y]}],"break-after":[{"break-after":ve()}],"break-before":[{"break-before":ve()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Ke()}],overflow:[{overflow:Be()}],"overflow-x":[{"overflow-x":Be()}],"overflow-y":[{"overflow-y":Be()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:j()}],"inset-x":[{"inset-x":j()}],"inset-y":[{"inset-y":j()}],start:[{start:j()}],end:[{end:j()}],top:[{top:j()}],right:[{right:j()}],bottom:[{bottom:j()}],left:[{left:j()}],visibility:["visible","invisible","collapse"],z:[{z:[fo,"auto",Xe,$e]}],basis:[{basis:[iu,"full","auto",y,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[wt,iu,"auto","initial","none",$e]}],grow:[{grow:["",wt,Xe,$e]}],shrink:[{shrink:["",wt,Xe,$e]}],order:[{order:[fo,"first","last","none",Xe,$e]}],"grid-cols":[{"grid-cols":B()}],"col-start-end":[{col:F()}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":B()}],"row-start-end":[{row:F()}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...De(),"normal"]}],"justify-items":[{"justify-items":[...Ae(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ae()]}],"align-content":[{content:["normal",...De()]}],"align-items":[{items:[...Ae(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ae(),{baseline:["","last"]}]}],"place-content":[{"place-content":De()}],"place-items":[{"place-items":[...Ae(),"baseline"]}],"place-self":[{"place-self":["auto",...Ae()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:he()}],mx:[{mx:he()}],my:[{my:he()}],ms:[{ms:he()}],me:[{me:he()}],mt:[{mt:he()}],mr:[{mr:he()}],mb:[{mb:he()}],ml:[{ml:he()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:Ce()}],w:[{w:[y,"screen",...Ce()]}],"min-w":[{"min-w":[y,"screen","none",...Ce()]}],"max-w":[{"max-w":[y,"screen","none","prose",{screen:[c]},...Ce()]}],h:[{h:["screen","lh",...Ce()]}],"min-h":[{"min-h":["screen","lh","none",...Ce()]}],"max-h":[{"max-h":["screen","lh",...Ce()]}],"font-size":[{text:["base",n,wc,al]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Xe,Tp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ep,$e]}],"font-family":[{font:[YC,$e,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Xe,$e]}],"line-clamp":[{"line-clamp":[wt,"none",Xe,Tp]}],leading:[{leading:[u,...I()]}],"list-image":[{"list-image":["none",Xe,$e]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Xe,$e]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:we()}],"text-color":[{text:we()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ze(),"wavy"]}],"text-decoration-thickness":[{decoration:[wt,"from-font","auto",Xe,al]}],"text-decoration-color":[{decoration:we()}],"underline-offset":[{"underline-offset":[wt,"auto",Xe,$e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Xe,$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Xe,$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:dt()}],"bg-repeat":[{bg:mt()}],"bg-size":[{bg:Y()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},fo,Xe,$e],radial:["",Xe,$e],conic:[fo,Xe,$e]},XC,QC]}],"bg-color":[{bg:we()}],"gradient-from-pos":[{from:_e()}],"gradient-via-pos":[{via:_e()}],"gradient-to-pos":[{to:_e()}],"gradient-from":[{from:we()}],"gradient-via":[{via:we()}],"gradient-to":[{to:we()}],rounded:[{rounded:Re()}],"rounded-s":[{"rounded-s":Re()}],"rounded-e":[{"rounded-e":Re()}],"rounded-t":[{"rounded-t":Re()}],"rounded-r":[{"rounded-r":Re()}],"rounded-b":[{"rounded-b":Re()}],"rounded-l":[{"rounded-l":Re()}],"rounded-ss":[{"rounded-ss":Re()}],"rounded-se":[{"rounded-se":Re()}],"rounded-ee":[{"rounded-ee":Re()}],"rounded-es":[{"rounded-es":Re()}],"rounded-tl":[{"rounded-tl":Re()}],"rounded-tr":[{"rounded-tr":Re()}],"rounded-br":[{"rounded-br":Re()}],"rounded-bl":[{"rounded-bl":Re()}],"border-w":[{border:Pe()}],"border-w-x":[{"border-x":Pe()}],"border-w-y":[{"border-y":Pe()}],"border-w-s":[{"border-s":Pe()}],"border-w-e":[{"border-e":Pe()}],"border-w-t":[{"border-t":Pe()}],"border-w-r":[{"border-r":Pe()}],"border-w-b":[{"border-b":Pe()}],"border-w-l":[{"border-l":Pe()}],"divide-x":[{"divide-x":Pe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Pe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ze(),"hidden","none"]}],"divide-style":[{divide:[...Ze(),"hidden","none"]}],"border-color":[{border:we()}],"border-color-x":[{"border-x":we()}],"border-color-y":[{"border-y":we()}],"border-color-s":[{"border-s":we()}],"border-color-e":[{"border-e":we()}],"border-color-t":[{"border-t":we()}],"border-color-r":[{"border-r":we()}],"border-color-b":[{"border-b":we()}],"border-color-l":[{"border-l":we()}],"divide-color":[{divide:we()}],"outline-style":[{outline:[...Ze(),"none","hidden"]}],"outline-offset":[{"outline-offset":[wt,Xe,$e]}],"outline-w":[{outline:["",wt,wc,al]}],"outline-color":[{outline:we()}],shadow:[{shadow:["","none",x,hf,cf]}],"shadow-color":[{shadow:we()}],"inset-shadow":[{"inset-shadow":["none",R,hf,cf]}],"inset-shadow-color":[{"inset-shadow":we()}],"ring-w":[{ring:Pe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:we()}],"ring-offset-w":[{"ring-offset":[wt,al]}],"ring-offset-color":[{"ring-offset":we()}],"inset-ring-w":[{"inset-ring":Pe()}],"inset-ring-color":[{"inset-ring":we()}],"text-shadow":[{"text-shadow":["none",O,hf,cf]}],"text-shadow-color":[{"text-shadow":we()}],opacity:[{opacity:[wt,Xe,$e]}],"mix-blend":[{"mix-blend":[...rt(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":rt()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[wt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Je()}],"mask-image-linear-to-pos":[{"mask-linear-to":Je()}],"mask-image-linear-from-color":[{"mask-linear-from":we()}],"mask-image-linear-to-color":[{"mask-linear-to":we()}],"mask-image-t-from-pos":[{"mask-t-from":Je()}],"mask-image-t-to-pos":[{"mask-t-to":Je()}],"mask-image-t-from-color":[{"mask-t-from":we()}],"mask-image-t-to-color":[{"mask-t-to":we()}],"mask-image-r-from-pos":[{"mask-r-from":Je()}],"mask-image-r-to-pos":[{"mask-r-to":Je()}],"mask-image-r-from-color":[{"mask-r-from":we()}],"mask-image-r-to-color":[{"mask-r-to":we()}],"mask-image-b-from-pos":[{"mask-b-from":Je()}],"mask-image-b-to-pos":[{"mask-b-to":Je()}],"mask-image-b-from-color":[{"mask-b-from":we()}],"mask-image-b-to-color":[{"mask-b-to":we()}],"mask-image-l-from-pos":[{"mask-l-from":Je()}],"mask-image-l-to-pos":[{"mask-l-to":Je()}],"mask-image-l-from-color":[{"mask-l-from":we()}],"mask-image-l-to-color":[{"mask-l-to":we()}],"mask-image-x-from-pos":[{"mask-x-from":Je()}],"mask-image-x-to-pos":[{"mask-x-to":Je()}],"mask-image-x-from-color":[{"mask-x-from":we()}],"mask-image-x-to-color":[{"mask-x-to":we()}],"mask-image-y-from-pos":[{"mask-y-from":Je()}],"mask-image-y-to-pos":[{"mask-y-to":Je()}],"mask-image-y-from-color":[{"mask-y-from":we()}],"mask-image-y-to-color":[{"mask-y-to":we()}],"mask-image-radial":[{"mask-radial":[Xe,$e]}],"mask-image-radial-from-pos":[{"mask-radial-from":Je()}],"mask-image-radial-to-pos":[{"mask-radial-to":Je()}],"mask-image-radial-from-color":[{"mask-radial-from":we()}],"mask-image-radial-to-color":[{"mask-radial-to":we()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Fe()}],"mask-image-conic-pos":[{"mask-conic":[wt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Je()}],"mask-image-conic-to-pos":[{"mask-conic-to":Je()}],"mask-image-conic-from-color":[{"mask-conic-from":we()}],"mask-image-conic-to-color":[{"mask-conic-to":we()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:dt()}],"mask-repeat":[{mask:mt()}],"mask-size":[{mask:Y()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Xe,$e]}],filter:[{filter:["","none",Xe,$e]}],blur:[{blur:sn()}],brightness:[{brightness:[wt,Xe,$e]}],contrast:[{contrast:[wt,Xe,$e]}],"drop-shadow":[{"drop-shadow":["","none",L,hf,cf]}],"drop-shadow-color":[{"drop-shadow":we()}],grayscale:[{grayscale:["",wt,Xe,$e]}],"hue-rotate":[{"hue-rotate":[wt,Xe,$e]}],invert:[{invert:["",wt,Xe,$e]}],saturate:[{saturate:[wt,Xe,$e]}],sepia:[{sepia:["",wt,Xe,$e]}],"backdrop-filter":[{"backdrop-filter":["","none",Xe,$e]}],"backdrop-blur":[{"backdrop-blur":sn()}],"backdrop-brightness":[{"backdrop-brightness":[wt,Xe,$e]}],"backdrop-contrast":[{"backdrop-contrast":[wt,Xe,$e]}],"backdrop-grayscale":[{"backdrop-grayscale":["",wt,Xe,$e]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[wt,Xe,$e]}],"backdrop-invert":[{"backdrop-invert":["",wt,Xe,$e]}],"backdrop-opacity":[{"backdrop-opacity":[wt,Xe,$e]}],"backdrop-saturate":[{"backdrop-saturate":[wt,Xe,$e]}],"backdrop-sepia":[{"backdrop-sepia":["",wt,Xe,$e]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Xe,$e]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[wt,"initial",Xe,$e]}],ease:[{ease:["linear","initial",pe,Xe,$e]}],delay:[{delay:[wt,Xe,$e]}],animate:[{animate:["none",de,Xe,$e]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[Z,Xe,$e]}],"perspective-origin":[{"perspective-origin":Ke()}],rotate:[{rotate:Ve()}],"rotate-x":[{"rotate-x":Ve()}],"rotate-y":[{"rotate-y":Ve()}],"rotate-z":[{"rotate-z":Ve()}],scale:[{scale:Sr()}],"scale-x":[{"scale-x":Sr()}],"scale-y":[{"scale-y":Sr()}],"scale-z":[{"scale-z":Sr()}],"scale-3d":["scale-3d"],skew:[{skew:Ar()}],"skew-x":[{"skew-x":Ar()}],"skew-y":[{"skew-y":Ar()}],transform:[{transform:[Xe,$e,"","none","gpu","cpu"]}],"transform-origin":[{origin:Ke()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:_t()}],"translate-x":[{"translate-x":_t()}],"translate-y":[{"translate-y":_t()}],"translate-z":[{"translate-z":_t()}],"translate-none":["translate-none"],accent:[{accent:we()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:we()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Xe,$e]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Xe,$e]}],fill:[{fill:["none",...we()]}],"stroke-w":[{stroke:[wt,wc,al,Tp]}],stroke:[{stroke:["none",...we()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},e2=OC(ZC);function vn(...r){return e2(pw(r))}function Ng(r=new Date){return r.toISOString().split("T")[0]}const t2=[{to:"/",icon:FR,label:"Today"},{to:"/log",icon:lC,label:"Log"},{to:"/plan",icon:ER,label:"Plan"},{to:"/ideas",icon:Of,label:"Ideas"},{to:"/inventory",icon:dw,label:"Pantry"},{to:"/settings",icon:eC,label:"Settings"}];function n2(){return g.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-background border-t safe-area-pb",children:g.jsx("div",{className:"flex justify-around items-center h-16",children:t2.map(({to:r,icon:e,label:n})=>g.jsxs(uw,{to:r,className:({isActive:s})=>vn("flex flex-col items-center justify-center gap-1 px-2 py-2 min-w-[56px] min-h-[48px] rounded-lg transition-colors",s?"text-primary":"text-muted-foreground hover:text-foreground"),children:[g.jsx(e,{className:"w-5 h-5"}),g.jsx("span",{className:"text-xs font-medium",children:n})]},r))})})}function r2(){return g.jsxs("div",{className:"min-h-screen bg-background",children:[g.jsx("main",{className:"pb-20",children:g.jsx(DA,{})}),g.jsx(n2,{})]})}var bf={exports:{}},i2=bf.exports,r0;function s2(){return r0||(r0=1,(function(r,e){(function(n,s){r.exports=s()})(i2,function(){var n=function(f,m){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,E){b.__proto__=E}||function(b,E){for(var A in E)Object.prototype.hasOwnProperty.call(E,A)&&(b[A]=E[A])})(f,m)},s=function(){return(s=Object.assign||function(f){for(var m,b=1,E=arguments.length;b<E;b++)for(var A in m=arguments[b])Object.prototype.hasOwnProperty.call(m,A)&&(f[A]=m[A]);return f}).apply(this,arguments)};function o(f,m,b){for(var E,A=0,C=m.length;A<C;A++)!E&&A in m||((E=E||Array.prototype.slice.call(m,0,A))[A]=m[A]);return f.concat(E||Array.prototype.slice.call(m))}var u=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:ES,c=Object.keys,y=Array.isArray;function v(f,m){return typeof m!="object"||c(m).forEach(function(b){f[b]=m[b]}),f}typeof Promise>"u"||u.Promise||(u.Promise=Promise);var _=Object.getPrototypeOf,x={}.hasOwnProperty;function R(f,m){return x.call(f,m)}function O(f,m){typeof m=="function"&&(m=m(_(f))),(typeof Reflect>"u"?c:Reflect.ownKeys)(m).forEach(function(b){ie(f,b,m[b])})}var L=Object.defineProperty;function ie(f,m,b,E){L(f,m,v(b&&R(b,"get")&&typeof b.get=="function"?{get:b.get,set:b.set,configurable:!0}:{value:b,configurable:!0,writable:!0},E))}function Z(f){return{from:function(m){return f.prototype=Object.create(m.prototype),ie(f.prototype,"constructor",f),{extend:O.bind(null,f.prototype)}}}}var H=Object.getOwnPropertyDescriptor,pe=[].slice;function de(f,m,b){return pe.call(f,m,b)}function ve(f,m){return m(f)}function Fe(f){if(!f)throw new Error("Assertion Failed")}function Ke(f){u.setImmediate?setImmediate(f):setTimeout(f,0)}function Be(f,m){if(typeof m=="string"&&R(f,m))return f[m];if(!m)return f;if(typeof m!="string"){for(var b=[],E=0,A=m.length;E<A;++E){var C=Be(f,m[E]);b.push(C)}return b}var M=m.indexOf(".");if(M!==-1){var P=f[m.substr(0,M)];return P==null?void 0:Be(P,m.substr(M+1))}}function D(f,m,b){if(f&&m!==void 0&&!("isFrozen"in Object&&Object.isFrozen(f)))if(typeof m!="string"&&"length"in m){Fe(typeof b!="string"&&"length"in b);for(var E=0,A=m.length;E<A;++E)D(f,m[E],b[E])}else{var C,M,P=m.indexOf(".");P!==-1?(C=m.substr(0,P),(M=m.substr(P+1))===""?b===void 0?y(f)&&!isNaN(parseInt(C))?f.splice(C,1):delete f[C]:f[C]=b:D(P=!(P=f[C])||!R(f,C)?f[C]={}:P,M,b)):b===void 0?y(f)&&!isNaN(parseInt(m))?f.splice(m,1):delete f[m]:f[m]=b}}function I(f){var m,b={};for(m in f)R(f,m)&&(b[m]=f[m]);return b}var j=[].concat;function B(f){return j.apply([],f)}var oi="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(B([8,16,32,64].map(function(f){return["Int","Uint","Float"].map(function(m){return m+f+"Array"})}))).filter(function(f){return u[f]}),F=new Set(oi.map(function(f){return u[f]})),X=null;function V(f){return X=new WeakMap,f=(function m(b){if(!b||typeof b!="object")return b;var E=X.get(b);if(E)return E;if(y(b)){E=[],X.set(b,E);for(var A=0,C=b.length;A<C;++A)E.push(m(b[A]))}else if(F.has(b.constructor))E=b;else{var M,P=_(b);for(M in E=P===Object.prototype?{}:Object.create(P),X.set(b,E),b)R(b,M)&&(E[M]=m(b[M]))}return E})(f),X=null,f}var De={}.toString;function Ae(f){return De.call(f).slice(8,-1)}var he=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ce=typeof he=="symbol"?function(f){var m;return f!=null&&(m=f[he])&&m.apply(f)}:function(){return null};function we(f,m){return m=f.indexOf(m),0<=m&&f.splice(m,1),0<=m}var dt={};function mt(f){var m,b,E,A;if(arguments.length===1){if(y(f))return f.slice();if(this===dt&&typeof f=="string")return[f];if(A=Ce(f)){for(b=[];!(E=A.next()).done;)b.push(E.value);return b}if(f==null)return[f];if(typeof(m=f.length)!="number")return[f];for(b=new Array(m);m--;)b[m]=f[m];return b}for(m=arguments.length,b=new Array(m);m--;)b[m]=arguments[m];return b}var Y=typeof Symbol<"u"?function(f){return f[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},ai=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Dr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ai),_e={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Re(f,m){this.name=f,this.message=m}function Pe(f,m){return f+". Errors: "+Object.keys(m).map(function(b){return m[b].toString()}).filter(function(b,E,A){return A.indexOf(b)===E}).join(`
`)}function Ze(f,m,b,E){this.failures=m,this.failedKeys=E,this.successCount=b,this.message=Pe(f,m)}function rt(f,m){this.name="BulkError",this.failures=Object.keys(m).map(function(b){return m[b]}),this.failuresByPos=m,this.message=Pe(f,this.failures)}Z(Re).from(Error).extend({toString:function(){return this.name+": "+this.message}}),Z(Ze).from(Re),Z(rt).from(Re);var Je=Dr.reduce(function(f,m){return f[m]=m+"Error",f},{}),sn=Re,Ve=Dr.reduce(function(f,m){var b=m+"Error";function E(A,C){this.name=b,A?typeof A=="string"?(this.message="".concat(A).concat(C?`
 `+C:""),this.inner=C||null):typeof A=="object"&&(this.message="".concat(A.name," ").concat(A.message),this.inner=A):(this.message=_e[m]||b,this.inner=null)}return Z(E).from(sn),f[m]=E,f},{});Ve.Syntax=SyntaxError,Ve.Type=TypeError,Ve.Range=RangeError;var Sr=ai.reduce(function(f,m){return f[m+"Error"]=Ve[m],f},{}),Ar=Dr.reduce(function(f,m){return["Syntax","Type","Range"].indexOf(m)===-1&&(f[m+"Error"]=Ve[m]),f},{});function _t(){}function Ni(f){return f}function Ii(f,m){return f==null||f===Ni?m:function(b){return m(f(b))}}function si(f,m){return function(){f.apply(this,arguments),m.apply(this,arguments)}}function Ls(f,m){return f===_t?m:function(){var b=f.apply(this,arguments);b!==void 0&&(arguments[0]=b);var E=this.onsuccess,A=this.onerror;this.onsuccess=null,this.onerror=null;var C=m.apply(this,arguments);return E&&(this.onsuccess=this.onsuccess?si(E,this.onsuccess):E),A&&(this.onerror=this.onerror?si(A,this.onerror):A),C!==void 0?C:b}}function Po(f,m){return f===_t?m:function(){f.apply(this,arguments);var b=this.onsuccess,E=this.onerror;this.onsuccess=this.onerror=null,m.apply(this,arguments),b&&(this.onsuccess=this.onsuccess?si(b,this.onsuccess):b),E&&(this.onerror=this.onerror?si(E,this.onerror):E)}}function Vo(f,m){return f===_t?m:function(b){var E=f.apply(this,arguments);v(b,E);var A=this.onsuccess,C=this.onerror;return this.onsuccess=null,this.onerror=null,b=m.apply(this,arguments),A&&(this.onsuccess=this.onsuccess?si(A,this.onsuccess):A),C&&(this.onerror=this.onerror?si(C,this.onerror):C),E===void 0?b===void 0?void 0:b:v(E,b)}}function bn(f,m){return f===_t?m:function(){return m.apply(this,arguments)!==!1&&f.apply(this,arguments)}}function un(f,m){return f===_t?m:function(){var b=f.apply(this,arguments);if(b&&typeof b.then=="function"){for(var E=this,A=arguments.length,C=new Array(A);A--;)C[A]=arguments[A];return b.then(function(){return m.apply(E,C)})}return m.apply(this,arguments)}}Ar.ModifyError=Ze,Ar.DexieError=Re,Ar.BulkError=rt;var Gn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Rl(f){Gn=f}var ms={},Jn=100,oi=typeof Promise>"u"?[]:(function(){var f=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[f,_(f),f];var m=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[m,_(m),f]})(),ai=oi[0],Dr=oi[1],oi=oi[2],Dr=Dr&&Dr.then,li=ai&&ai.constructor,Di=!!oi,Us=function(f,m){ps.push([f,m]),zs&&(queueMicrotask(Cl),zs=!1)},Ra=!0,zs=!0,ki=[],pr=[],Sn=Ni,An={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:_t,pgp:!1,env:{},finalize:_t},ze=An,ps=[],Mr=0,Bs=[];function je(f){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var m=this._PSD=ze;if(typeof f!="function"){if(f!==ms)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&jr(this,this._value))}this._state=null,this._value=null,++m.ref,(function b(E,A){try{A(function(C){if(E._state===null){if(C===E)throw new TypeError("A promise cannot be resolved with itself.");var M=E._lib&&sr();C&&typeof C.then=="function"?b(E,function(P,G){C instanceof je?C._then(P,G):C.then(P,G)}):(E._state=!0,E._value=C,ui(E)),M&&Pr()}},jr.bind(null,E))}catch(C){jr(E,C)}})(this,f)}var Zi={get:function(){var f=ze,m=gr;function b(E,A){var C=this,M=!f.global&&(f!==ze||m!==gr),P=M&&!Kn(),G=new je(function(K,ee){Rr(C,new cn(Hs(E,f,M,P),Hs(A,f,M,P),K,ee,f))});return this._consoleTask&&(G._consoleTask=this._consoleTask),G}return b.prototype=ms,b},set:function(f){ie(this,"then",f&&f.prototype===ms?Zi:{get:function(){return f},set:Zi.set})}};function cn(f,m,b,E,A){this.onFulfilled=typeof f=="function"?f:null,this.onRejected=typeof m=="function"?m:null,this.resolve=b,this.reject=E,this.psd=A}function jr(f,m){var b,E;pr.push(m),f._state===null&&(b=f._lib&&sr(),m=Sn(m),f._state=!1,f._value=m,E=f,ki.some(function(A){return A._value===E._value})||ki.push(E),ui(f),b&&Pr())}function ui(f){var m=f._listeners;f._listeners=[];for(var b=0,E=m.length;b<E;++b)Rr(f,m[b]);var A=f._PSD;--A.ref||A.finalize(),Mr===0&&(++Mr,Us(function(){--Mr==0&&Lo()},[]))}function Rr(f,m){if(f._state!==null){var b=f._state?m.onFulfilled:m.onRejected;if(b===null)return(f._state?m.resolve:m.reject)(f._value);++m.psd.ref,++Mr,Us(Mu,[b,f,m])}else f._listeners.push(m)}function Mu(f,m,b){try{var E,A=m._value;!m._state&&pr.length&&(pr=[]),E=Gn&&m._consoleTask?m._consoleTask.run(function(){return f(A)}):f(A),m._state||pr.indexOf(A)!==-1||(function(C){for(var M=ki.length;M;)if(ki[--M]._value===C._value)return ki.splice(M,1)})(m),b.resolve(E)}catch(C){b.reject(C)}finally{--Mr==0&&Lo(),--b.psd.ref||b.psd.finalize()}}function Cl(){Zn(An,function(){sr()&&Pr()})}function sr(){var f=Ra;return zs=Ra=!1,f}function Pr(){var f,m,b;do for(;0<ps.length;)for(f=ps,ps=[],b=f.length,m=0;m<b;++m){var E=f[m];E[0].apply(null,E[1])}while(0<ps.length);zs=Ra=!0}function Lo(){var f=ki;ki=[],f.forEach(function(E){E._PSD.onunhandled.call(null,E._value,E)});for(var m=Bs.slice(0),b=m.length;b;)m[--b]()}function Oi(f){return new je(ms,!1,f)}function Bt(f,m){var b=ze;return function(){var E=sr(),A=ze;try{return hi(b,!0),f.apply(this,arguments)}catch(C){m&&m(C)}finally{hi(A,!1),E&&Pr()}}}O(je.prototype,{then:Zi,_then:function(f,m){Rr(this,new cn(null,null,f,m,ze))},catch:function(f){if(arguments.length===1)return this.then(null,f);var m=f,b=arguments[1];return typeof m=="function"?this.then(null,function(E){return(E instanceof m?b:Oi)(E)}):this.then(null,function(E){return(E&&E.name===m?b:Oi)(E)})},finally:function(f){return this.then(function(m){return je.resolve(f()).then(function(){return m})},function(m){return je.resolve(f()).then(function(){return Oi(m)})})},timeout:function(f,m){var b=this;return f<1/0?new je(function(E,A){var C=setTimeout(function(){return A(new Ve.Timeout(m))},f);b.then(E,A).finally(clearTimeout.bind(null,C))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&ie(je.prototype,Symbol.toStringTag,"Dexie.Promise"),An.env=Uo(),O(je,{all:function(){var f=mt.apply(null,arguments).map(es);return new je(function(m,b){f.length===0&&m([]);var E=f.length;f.forEach(function(A,C){return je.resolve(A).then(function(M){f[C]=M,--E||m(f)},b)})})},resolve:function(f){return f instanceof je?f:f&&typeof f.then=="function"?new je(function(m,b){f.then(m,b)}):new je(ms,!0,f)},reject:Oi,race:function(){var f=mt.apply(null,arguments).map(es);return new je(function(m,b){f.map(function(E){return je.resolve(E).then(m,b)})})},PSD:{get:function(){return ze},set:function(f){return ze=f}},totalEchoes:{get:function(){return gr}},newPSD:qt,usePSD:Zn,scheduler:{get:function(){return Us},set:function(f){Us=f}},rejectionMapper:{get:function(){return Sn},set:function(f){Sn=f}},follow:function(f,m){return new je(function(b,E){return qt(function(A,C){var M=ze;M.unhandleds=[],M.onunhandled=C,M.finalize=si(function(){var P,G=this;P=function(){G.unhandleds.length===0?A():C(G.unhandleds[0])},Bs.push(function K(){P(),Bs.splice(Bs.indexOf(K),1)}),++Mr,Us(function(){--Mr==0&&Lo()},[])},M.finalize),f()},m,b,E)})}}),li&&(li.allSettled&&ie(je,"allSettled",function(){var f=mt.apply(null,arguments).map(es);return new je(function(m){f.length===0&&m([]);var b=f.length,E=new Array(b);f.forEach(function(A,C){return je.resolve(A).then(function(M){return E[C]={status:"fulfilled",value:M}},function(M){return E[C]={status:"rejected",reason:M}}).then(function(){return--b||m(E)})})})}),li.any&&typeof AggregateError<"u"&&ie(je,"any",function(){var f=mt.apply(null,arguments).map(es);return new je(function(m,b){f.length===0&&b(new AggregateError([]));var E=f.length,A=new Array(E);f.forEach(function(C,M){return je.resolve(C).then(function(P){return m(P)},function(P){A[M]=P,--E||b(new AggregateError(A))})})})}),li.withResolvers&&(je.withResolvers=li.withResolvers));var an={awaits:0,echoes:0,id:0},Fs=0,Vr=[],qs=0,gr=0,ci=0;function qt(f,m,b,E){var A=ze,C=Object.create(A);return C.parent=A,C.ref=0,C.global=!1,C.id=++ci,An.env,C.env=Di?{Promise:je,PromiseProp:{value:je,configurable:!0,writable:!0},all:je.all,race:je.race,allSettled:je.allSettled,any:je.any,resolve:je.resolve,reject:je.reject}:{},m&&v(C,m),++A.ref,C.finalize=function(){--this.parent.ref||this.parent.finalize()},E=Zn(C,f,b,E),C.ref===0&&C.finalize(),E}function Zt(){return an.id||(an.id=++Fs),++an.awaits,an.echoes+=Jn,an.id}function Kn(){return!!an.awaits&&(--an.awaits==0&&(an.id=0),an.echoes=an.awaits*Jn,!0)}function es(f){return an.echoes&&f&&f.constructor===li?(Zt(),f.then(function(m){return Kn(),m},function(m){return Kn(),Mt(m)})):f}function ju(){var f=Vr[Vr.length-1];Vr.pop(),hi(f,!1)}function hi(f,m){var b,E=ze;(m?!an.echoes||qs++&&f===ze:!qs||--qs&&f===ze)||queueMicrotask(m?(function(A){++gr,an.echoes&&--an.echoes!=0||(an.echoes=an.awaits=an.id=0),Vr.push(ze),hi(A,!0)}).bind(null,f):ju),f!==ze&&(ze=f,E===An&&(An.env=Uo()),Di&&(b=An.env.Promise,m=f.env,(E.global||f.global)&&(Object.defineProperty(u,"Promise",m.PromiseProp),b.all=m.all,b.race=m.race,b.resolve=m.resolve,b.reject=m.reject,m.allSettled&&(b.allSettled=m.allSettled),m.any&&(b.any=m.any))))}function Uo(){var f=u.Promise;return Di?{Promise:f,PromiseProp:Object.getOwnPropertyDescriptor(u,"Promise"),all:f.all,race:f.race,allSettled:f.allSettled,any:f.any,resolve:f.resolve,reject:f.reject}:{}}function Zn(f,m,b,E,A){var C=ze;try{return hi(f,!0),m(b,E,A)}finally{hi(C,!1)}}function Hs(f,m,b,E){return typeof f!="function"?f:function(){var A=ze;b&&Zt(),hi(m,!0);try{return f.apply(this,arguments)}finally{hi(A,!1),E&&queueMicrotask(Kn)}}}function Lr(f){Promise===li&&an.echoes===0?qs===0?f():enqueueNativeMicroTask(f):setTimeout(f,0)}(""+Dr).indexOf("[native code]")===-1&&(Zt=Kn=_t);var Mt=je.reject,Rn="",On="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",hn="String expected.",Mi=[],gs="__dbnames",Ur="readonly",zr="readwrite";function fi(f,m){return f?m?function(){return f.apply(this,arguments)&&m.apply(this,arguments)}:f:m}var Ca={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ys(f){return typeof f!="string"||/\./.test(f)?function(m){return m}:function(m){return m[f]===void 0&&f in m&&delete(m=V(m))[f],m}}function zo(){throw Ve.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function pt(f,m){try{var b=yr(f),E=yr(m);if(b!==E)return b==="Array"?1:E==="Array"?-1:b==="binary"?1:E==="binary"?-1:b==="string"?1:E==="string"?-1:b==="Date"?1:E!=="Date"?NaN:-1;switch(b){case"number":case"Date":case"string":return m<f?1:f<m?-1:0;case"binary":return(function(A,C){for(var M=A.length,P=C.length,G=M<P?M:P,K=0;K<G;++K)if(A[K]!==C[K])return A[K]<C[K]?-1:1;return M===P?0:M<P?-1:1})(fn(f),fn(m));case"Array":return(function(A,C){for(var M=A.length,P=C.length,G=M<P?M:P,K=0;K<G;++K){var ee=pt(A[K],C[K]);if(ee!==0)return ee}return M===P?0:M<P?-1:1})(f,m)}}catch{}return NaN}function yr(f){var m=typeof f;return m!="object"?m:ArrayBuffer.isView(f)?"binary":(f=Ae(f),f==="ArrayBuffer"?"binary":f)}function fn(f){return f instanceof Uint8Array?f:ArrayBuffer.isView(f)?new Uint8Array(f.buffer,f.byteOffset,f.byteLength):new Uint8Array(f)}function dn(f,m,b){var E=f.schema.yProps;return E?(m&&0<b.numFailures&&(m=m.filter(function(A,C){return!b.failures[C]})),Promise.all(E.map(function(A){return A=A.updatesTable,m?f.db.table(A).where("k").anyOf(m).delete():f.db.table(A).clear()})).then(function(){return b})):b}var Br=(Na.prototype.execute=function(f){var m=this["@@propmod"];if(m.add!==void 0){var b=m.add;if(y(b))return o(o([],y(f)?f:[],!0),b).sort();if(typeof b=="number")return(Number(f)||0)+b;if(typeof b=="bigint")try{return BigInt(f)+b}catch{return BigInt(0)+b}throw new TypeError("Invalid term ".concat(b))}if(m.remove!==void 0){var E=m.remove;if(y(E))return y(f)?f.filter(function(A){return!E.includes(A)}).sort():[];if(typeof E=="number")return Number(f)-E;if(typeof E=="bigint")try{return BigInt(f)-E}catch{return BigInt(0)-E}throw new TypeError("Invalid subtrahend ".concat(E))}return b=(b=m.replacePrefix)===null||b===void 0?void 0:b[0],b&&typeof f=="string"&&f.startsWith(b)?m.replacePrefix[1]+f.substring(b.length):f},Na);function Na(f){this["@@propmod"]=f}function Pt(f,m){for(var b=c(m),E=b.length,A=!1,C=0;C<E;++C){var M=b[C],P=m[M],G=Be(f,M);P instanceof Br?(D(f,M,P.execute(G)),A=!0):G!==P&&(D(f,M,P),A=!0)}return A}var vs=(xt.prototype._trans=function(f,m,b){var E=this._tx||ze.trans,A=this.name,C=Gn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(f==="readonly"?"read":"write"," ").concat(this.name));function M(K,ee,z){if(!z.schema[A])throw new Ve.NotFound("Table "+A+" not part of transaction");return m(z.idbtrans,z)}var P=sr();try{var G=E&&E.db._novip===this.db._novip?E===ze.trans?E._promise(f,M,b):qt(function(){return E._promise(f,M,b)},{trans:E,transless:ze.transless||ze}):(function K(ee,z,ne,Q){if(ee.idbdb&&(ee._state.openComplete||ze.letThrough||ee._vip)){var W=ee._createTransaction(z,ne,ee._dbSchema);try{W.create(),ee._state.PR1398_maxLoop=3}catch(J){return J.name===Je.InvalidState&&ee.isOpen()&&0<--ee._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),ee.close({disableAutoOpen:!1}),ee.open().then(function(){return K(ee,z,ne,Q)})):Mt(J)}return W._promise(z,function(J,te){return qt(function(){return ze.trans=W,Q(J,te,W)})}).then(function(J){if(z==="readwrite")try{W.idbtrans.commit()}catch{}return z==="readonly"?J:W._completion.then(function(){return J})})}if(ee._state.openComplete)return Mt(new Ve.DatabaseClosed(ee._state.dbOpenError));if(!ee._state.isBeingOpened){if(!ee._state.autoOpen)return Mt(new Ve.DatabaseClosed);ee.open().catch(_t)}return ee._state.dbReadyPromise.then(function(){return K(ee,z,ne,Q)})})(this.db,f,[this.name],M);return C&&(G._consoleTask=C,G=G.catch(function(K){return console.trace(K),Mt(K)})),G}finally{P&&Pr()}},xt.prototype.get=function(f,m){var b=this;return f&&f.constructor===Object?this.where(f).first(m):f==null?Mt(new Ve.Type("Invalid argument to Table.get()")):this._trans("readonly",function(E){return b.core.get({trans:E,key:f}).then(function(A){return b.hook.reading.fire(A)})}).then(m)},xt.prototype.where=function(f){if(typeof f=="string")return new this.db.WhereClause(this,f);if(y(f))return new this.db.WhereClause(this,"[".concat(f.join("+"),"]"));var m=c(f);if(m.length===1)return this.where(m[0]).equals(f[m[0]]);var b=this.schema.indexes.concat(this.schema.primKey).filter(function(P){if(P.compound&&m.every(function(K){return 0<=P.keyPath.indexOf(K)})){for(var G=0;G<m.length;++G)if(m.indexOf(P.keyPath[G])===-1)return!1;return!0}return!1}).sort(function(P,G){return P.keyPath.length-G.keyPath.length})[0];if(b&&this.db._maxKey!==Rn){var C=b.keyPath.slice(0,m.length);return this.where(C).equals(C.map(function(G){return f[G]}))}!b&&Gn&&console.warn("The query ".concat(JSON.stringify(f)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(m.join("+"),"]"));var E=this.schema.idxByName;function A(P,G){return pt(P,G)===0}var M=m.reduce(function(z,G){var K=z[0],ee=z[1],z=E[G],ne=f[G];return[K||z,K||!z?fi(ee,z&&z.multi?function(Q){return Q=Be(Q,G),y(Q)&&Q.some(function(W){return A(ne,W)})}:function(Q){return A(ne,Be(Q,G))}):ee]},[null,null]),C=M[0],M=M[1];return C?this.where(C.name).equals(f[C.keyPath]).filter(M):b?this.filter(M):this.where(m).equals("")},xt.prototype.filter=function(f){return this.toCollection().and(f)},xt.prototype.count=function(f){return this.toCollection().count(f)},xt.prototype.offset=function(f){return this.toCollection().offset(f)},xt.prototype.limit=function(f){return this.toCollection().limit(f)},xt.prototype.each=function(f){return this.toCollection().each(f)},xt.prototype.toArray=function(f){return this.toCollection().toArray(f)},xt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},xt.prototype.orderBy=function(f){return new this.db.Collection(new this.db.WhereClause(this,y(f)?"[".concat(f.join("+"),"]"):f))},xt.prototype.reverse=function(){return this.toCollection().reverse()},xt.prototype.mapToClass=function(f){var m,b=this.db,E=this.name;function A(){return m!==null&&m.apply(this,arguments)||this}(this.schema.mappedClass=f).prototype instanceof zo&&((function(G,K){if(typeof K!="function"&&K!==null)throw new TypeError("Class extends value "+String(K)+" is not a constructor or null");function ee(){this.constructor=G}n(G,K),G.prototype=K===null?Object.create(K):(ee.prototype=K.prototype,new ee)})(A,m=f),Object.defineProperty(A.prototype,"db",{get:function(){return b},enumerable:!1,configurable:!0}),A.prototype.table=function(){return E},f=A);for(var C=new Set,M=f.prototype;M;M=_(M))Object.getOwnPropertyNames(M).forEach(function(G){return C.add(G)});function P(G){if(!G)return G;var K,ee=Object.create(f.prototype);for(K in G)if(!C.has(K))try{ee[K]=G[K]}catch{}return ee}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=P,this.hook("reading",P),f},xt.prototype.defineClass=function(){return this.mapToClass(function(f){v(this,f)})},xt.prototype.add=function(f,m){var b=this,E=this.schema.primKey,A=E.auto,C=E.keyPath,M=f;return C&&A&&(M=ys(C)(f)),this._trans("readwrite",function(P){return b.core.mutate({trans:P,type:"add",keys:m!=null?[m]:null,values:[M]})}).then(function(P){return P.numFailures?je.reject(P.failures[0]):P.lastResult}).then(function(P){if(C)try{D(f,C,P)}catch{}return P})},xt.prototype.upsert=function(f,m){var b=this,E=this.schema.primKey.keyPath;return this._trans("readwrite",function(A){return b.core.get({trans:A,key:f}).then(function(C){var M=C??{};return Pt(M,m),E&&D(M,E,f),b.core.mutate({trans:A,type:"put",values:[M],keys:[f],upsert:!0,updates:{keys:[f],changeSpecs:[m]}}).then(function(P){return P.numFailures?je.reject(P.failures[0]):!!C})})})},xt.prototype.update=function(f,m){return typeof f!="object"||y(f)?this.where(":id").equals(f).modify(m):(f=Be(f,this.schema.primKey.keyPath),f===void 0?Mt(new Ve.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(f).modify(m))},xt.prototype.put=function(f,m){var b=this,E=this.schema.primKey,A=E.auto,C=E.keyPath,M=f;return C&&A&&(M=ys(C)(f)),this._trans("readwrite",function(P){return b.core.mutate({trans:P,type:"put",values:[M],keys:m!=null?[m]:null})}).then(function(P){return P.numFailures?je.reject(P.failures[0]):P.lastResult}).then(function(P){if(C)try{D(f,C,P)}catch{}return P})},xt.prototype.delete=function(f){var m=this;return this._trans("readwrite",function(b){return m.core.mutate({trans:b,type:"delete",keys:[f]}).then(function(E){return dn(m,[f],E)}).then(function(E){return E.numFailures?je.reject(E.failures[0]):void 0})})},xt.prototype.clear=function(){var f=this;return this._trans("readwrite",function(m){return f.core.mutate({trans:m,type:"deleteRange",range:Ca}).then(function(b){return dn(f,null,b)})}).then(function(m){return m.numFailures?je.reject(m.failures[0]):void 0})},xt.prototype.bulkGet=function(f){var m=this;return this._trans("readonly",function(b){return m.core.getMany({keys:f,trans:b}).then(function(E){return E.map(function(A){return m.hook.reading.fire(A)})})})},xt.prototype.bulkAdd=function(f,m,b){var E=this,A=Array.isArray(m)?m:void 0,C=(b=b||(A?void 0:m))?b.allKeys:void 0;return this._trans("readwrite",function(M){var K=E.schema.primKey,P=K.auto,K=K.keyPath;if(K&&A)throw new Ve.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(A&&A.length!==f.length)throw new Ve.InvalidArgument("Arguments objects and keys must have the same length");var G=f.length,K=K&&P?f.map(ys(K)):f;return E.core.mutate({trans:M,type:"add",keys:A,values:K,wantResults:C}).then(function(W){var z=W.numFailures,ne=W.results,Q=W.lastResult,W=W.failures;if(z===0)return C?ne:Q;throw new rt("".concat(E.name,".bulkAdd(): ").concat(z," of ").concat(G," operations failed"),W)})})},xt.prototype.bulkPut=function(f,m,b){var E=this,A=Array.isArray(m)?m:void 0,C=(b=b||(A?void 0:m))?b.allKeys:void 0;return this._trans("readwrite",function(M){var K=E.schema.primKey,P=K.auto,K=K.keyPath;if(K&&A)throw new Ve.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(A&&A.length!==f.length)throw new Ve.InvalidArgument("Arguments objects and keys must have the same length");var G=f.length,K=K&&P?f.map(ys(K)):f;return E.core.mutate({trans:M,type:"put",keys:A,values:K,wantResults:C}).then(function(W){var z=W.numFailures,ne=W.results,Q=W.lastResult,W=W.failures;if(z===0)return C?ne:Q;throw new rt("".concat(E.name,".bulkPut(): ").concat(z," of ").concat(G," operations failed"),W)})})},xt.prototype.bulkUpdate=function(f){var m=this,b=this.core,E=f.map(function(M){return M.key}),A=f.map(function(M){return M.changes}),C=[];return this._trans("readwrite",function(M){return b.getMany({trans:M,keys:E,cache:"clone"}).then(function(P){var G=[],K=[];f.forEach(function(z,ne){var Q=z.key,W=z.changes,J=P[ne];if(J){for(var te=0,ae=Object.keys(W);te<ae.length;te++){var ue=ae[te],ge=W[ue];if(ue===m.schema.primKey.keyPath){if(pt(ge,Q)!==0)throw new Ve.Constraint("Cannot update primary key in bulkUpdate()")}else D(J,ue,ge)}C.push(ne),G.push(Q),K.push(J)}});var ee=G.length;return b.mutate({trans:M,type:"put",keys:G,values:K,updates:{keys:E,changeSpecs:A}}).then(function(z){var ne=z.numFailures,Q=z.failures;if(ne===0)return ee;for(var W=0,J=Object.keys(Q);W<J.length;W++){var te,ae=J[W],ue=C[Number(ae)];ue!=null&&(te=Q[ae],delete Q[ae],Q[ue]=te)}throw new rt("".concat(m.name,".bulkUpdate(): ").concat(ne," of ").concat(ee," operations failed"),Q)})})})},xt.prototype.bulkDelete=function(f){var m=this,b=f.length;return this._trans("readwrite",function(E){return m.core.mutate({trans:E,type:"delete",keys:f}).then(function(A){return dn(m,f,A)})}).then(function(M){var A=M.numFailures,C=M.lastResult,M=M.failures;if(A===0)return C;throw new rt("".concat(m.name,".bulkDelete(): ").concat(A," of ").concat(b," operations failed"),M)})},xt);function xt(){}function di(f){function m(M,P){if(P){for(var G=arguments.length,K=new Array(G-1);--G;)K[G-1]=arguments[G];return b[M].subscribe.apply(null,K),f}if(typeof M=="string")return b[M]}var b={};m.addEventType=C;for(var E=1,A=arguments.length;E<A;++E)C(arguments[E]);return m;function C(M,P,G){if(typeof M!="object"){var K;P=P||bn;var ee={subscribers:[],fire:G=G||_t,subscribe:function(z){ee.subscribers.indexOf(z)===-1&&(ee.subscribers.push(z),ee.fire=P(ee.fire,z))},unsubscribe:function(z){ee.subscribers=ee.subscribers.filter(function(ne){return ne!==z}),ee.fire=ee.subscribers.reduce(P,G)}};return b[M]=m[M]=ee}c(K=M).forEach(function(z){var ne=K[z];if(y(ne))C(z,K[z][0],K[z][1]);else{if(ne!=="asap")throw new Ve.InvalidArgument("Invalid event config");var Q=C(z,Ni,function(){for(var W=arguments.length,J=new Array(W);W--;)J[W]=arguments[W];Q.subscribers.forEach(function(te){Ke(function(){te.apply(null,J)})})})}})}}function Mn(f,m){return Z(m).from({prototype:f}),m}function mi(f,m){return!(f.filter||f.algorithm||f.or)&&(m?f.justLimit:!f.replayFilter)}function Ia(f,m){f.filter=fi(f.filter,m)}function Gs(f,m,b){var E=f.replayFilter;f.replayFilter=E?function(){return fi(E(),m())}:m,f.justLimit=b&&!E}function pi(f,m){if(f.isPrimKey)return m.primaryKey;var b=m.getIndexByKeyPath(f.index);if(!b)throw new Ve.Schema("KeyPath "+f.index+" on object store "+m.name+" is not indexed");return b}function Bo(f,m,b){var E=pi(f,m.schema);return m.openCursor({trans:b,values:!f.keysOnly,reverse:f.dir==="prev",unique:!!f.unique,query:{index:E,range:f.range}})}function gi(f,m,b,E){var A=f.replayFilter?fi(f.filter,f.replayFilter()):f.filter;if(f.or){var C={},M=function(P,G,K){var ee,z;A&&!A(G,K,function(ne){return G.stop(ne)},function(ne){return G.fail(ne)})||((z=""+(ee=G.primaryKey))=="[object ArrayBuffer]"&&(z=""+new Uint8Array(ee)),R(C,z)||(C[z]=!0,m(P,G,K)))};return Promise.all([f.or._iterate(M,b),ar(Bo(f,E,b),f.algorithm,M,!f.keysOnly&&f.valueMapper)])}return ar(Bo(f,E,b),fi(f.algorithm,A),m,!f.keysOnly&&f.valueMapper)}function ar(f,m,b,E){var A=Bt(E?function(C,M,P){return b(E(C),M,P)}:b);return f.then(function(C){if(C)return C.start(function(){var M=function(){return C.continue()};m&&!m(C,function(P){return M=P},function(P){C.stop(P),M=_t},function(P){C.fail(P),M=_t})||A(C.value,C,function(P){return M=P}),M()})})}var Nl=(Tt.prototype._read=function(f,m){var b=this._ctx;return b.error?b.table._trans(null,Mt.bind(null,b.error)):b.table._trans("readonly",f).then(m)},Tt.prototype._write=function(f){var m=this._ctx;return m.error?m.table._trans(null,Mt.bind(null,m.error)):m.table._trans("readwrite",f,"locked")},Tt.prototype._addAlgorithm=function(f){var m=this._ctx;m.algorithm=fi(m.algorithm,f)},Tt.prototype._iterate=function(f,m){return gi(this._ctx,f,m,this._ctx.table.core)},Tt.prototype.clone=function(f){var m=Object.create(this.constructor.prototype),b=Object.create(this._ctx);return f&&v(b,f),m._ctx=b,m},Tt.prototype.raw=function(){return this._ctx.valueMapper=null,this},Tt.prototype.each=function(f){var m=this._ctx;return this._read(function(b){return gi(m,f,b,m.table.core)})},Tt.prototype.count=function(f){var m=this;return this._read(function(b){var E=m._ctx,A=E.table.core;if(mi(E,!0))return A.count({trans:b,query:{index:pi(E,A.schema),range:E.range}}).then(function(M){return Math.min(M,E.limit)});var C=0;return gi(E,function(){return++C,!1},b,A).then(function(){return C})}).then(f)},Tt.prototype.sortBy=function(f,m){var b=f.split(".").reverse(),E=b[0],A=b.length-1;function C(G,K){return K?C(G[b[K]],K-1):G[E]}var M=this._ctx.dir==="next"?1:-1;function P(G,K){return pt(C(G,A),C(K,A))*M}return this.toArray(function(G){return G.sort(P)}).then(m)},Tt.prototype.toArray=function(f){var m=this;return this._read(function(b){var E=m._ctx;if(E.dir==="next"&&mi(E,!0)&&0<E.limit){var A=E.valueMapper,C=pi(E,E.table.core.schema);return E.table.core.query({trans:b,limit:E.limit,values:!0,query:{index:C,range:E.range}}).then(function(P){return P=P.result,A?P.map(A):P})}var M=[];return gi(E,function(P){return M.push(P)},b,E.table.core).then(function(){return M})},f)},Tt.prototype.offset=function(f){var m=this._ctx;return f<=0||(m.offset+=f,mi(m)?Gs(m,function(){var b=f;return function(E,A){return b===0||(b===1?--b:A(function(){E.advance(b),b=0}),!1)}}):Gs(m,function(){var b=f;return function(){return--b<0}})),this},Tt.prototype.limit=function(f){return this._ctx.limit=Math.min(this._ctx.limit,f),Gs(this._ctx,function(){var m=f;return function(b,E,A){return--m<=0&&E(A),0<=m}},!0),this},Tt.prototype.until=function(f,m){return Ia(this._ctx,function(b,E,A){return!f(b.value)||(E(A),m)}),this},Tt.prototype.first=function(f){return this.limit(1).toArray(function(m){return m[0]}).then(f)},Tt.prototype.last=function(f){return this.reverse().first(f)},Tt.prototype.filter=function(f){var m;return Ia(this._ctx,function(b){return f(b.value)}),(m=this._ctx).isMatch=fi(m.isMatch,f),this},Tt.prototype.and=function(f){return this.filter(f)},Tt.prototype.or=function(f){return new this.db.WhereClause(this._ctx.table,f,this)},Tt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Tt.prototype.desc=function(){return this.reverse()},Tt.prototype.eachKey=function(f){var m=this._ctx;return m.keysOnly=!m.isMatch,this.each(function(b,E){f(E.key,E)})},Tt.prototype.eachUniqueKey=function(f){return this._ctx.unique="unique",this.eachKey(f)},Tt.prototype.eachPrimaryKey=function(f){var m=this._ctx;return m.keysOnly=!m.isMatch,this.each(function(b,E){f(E.primaryKey,E)})},Tt.prototype.keys=function(f){var m=this._ctx;m.keysOnly=!m.isMatch;var b=[];return this.each(function(E,A){b.push(A.key)}).then(function(){return b}).then(f)},Tt.prototype.primaryKeys=function(f){var m=this._ctx;if(m.dir==="next"&&mi(m,!0)&&0<m.limit)return this._read(function(E){var A=pi(m,m.table.core.schema);return m.table.core.query({trans:E,values:!1,limit:m.limit,query:{index:A,range:m.range}})}).then(function(E){return E.result}).then(f);m.keysOnly=!m.isMatch;var b=[];return this.each(function(E,A){b.push(A.primaryKey)}).then(function(){return b}).then(f)},Tt.prototype.uniqueKeys=function(f){return this._ctx.unique="unique",this.keys(f)},Tt.prototype.firstKey=function(f){return this.limit(1).keys(function(m){return m[0]}).then(f)},Tt.prototype.lastKey=function(f){return this.reverse().firstKey(f)},Tt.prototype.distinct=function(){var f=this._ctx,f=f.index&&f.table.schema.idxByName[f.index];if(!f||!f.multi)return this;var m={};return Ia(this._ctx,function(A){var E=A.primaryKey.toString(),A=R(m,E);return m[E]=!0,!A}),this},Tt.prototype.modify=function(f){var m=this,b=this._ctx;return this._write(function(E){var A=typeof f=="function"?f:function(J){return Pt(J,f)},C=b.table.core,K=C.schema.primaryKey,M=K.outbound,P=K.extractKey,G=200,K=m.db._options.modifyChunkSize;K&&(G=typeof K=="object"?K[C.name]||K["*"]||200:K);function ee(J,ue){var ae=ue.failures,ue=ue.numFailures;ne+=J-ue;for(var ge=0,Ee=c(ae);ge<Ee.length;ge++){var ke=Ee[ge];z.push(ae[ke])}}var z=[],ne=0,Q=[],W=f===Da;return m.clone().primaryKeys().then(function(J){function te(ue){var ge=Math.min(G,J.length-ue),Ee=J.slice(ue,ue+ge);return(W?Promise.resolve([]):C.getMany({trans:E,keys:Ee,cache:"immutable"})).then(function(ke){var Ue=[],Ne=[],Me=M?[]:null,Le=W?Ee:[];if(!W)for(var Ie=0;Ie<ge;++Ie){var qe=ke[Ie],et={value:V(qe),primKey:J[ue+Ie]};A.call(et,et.value,et)!==!1&&(et.value==null?Le.push(J[ue+Ie]):M||pt(P(qe),P(et.value))===0?(Ne.push(et.value),M&&Me.push(J[ue+Ie])):(Le.push(J[ue+Ie]),Ue.push(et.value)))}return Promise.resolve(0<Ue.length&&C.mutate({trans:E,type:"add",values:Ue}).then(function(ot){for(var gt in ot.failures)Le.splice(parseInt(gt),1);ee(Ue.length,ot)})).then(function(){return(0<Ne.length||ae&&typeof f=="object")&&C.mutate({trans:E,type:"put",keys:Me,values:Ne,criteria:ae,changeSpec:typeof f!="function"&&f,isAdditionalChunk:0<ue}).then(function(ot){return ee(Ne.length,ot)})}).then(function(){return(0<Le.length||ae&&W)&&C.mutate({trans:E,type:"delete",keys:Le,criteria:ae,isAdditionalChunk:0<ue}).then(function(ot){return dn(b.table,Le,ot)}).then(function(ot){return ee(Le.length,ot)})}).then(function(){return J.length>ue+ge&&te(ue+G)})})}var ae=mi(b)&&b.limit===1/0&&(typeof f!="function"||W)&&{index:b.index,range:b.range};return te(0).then(function(){if(0<z.length)throw new Ze("Error modifying one or more objects",z,ne,Q);return J.length})})})},Tt.prototype.delete=function(){var f=this._ctx,m=f.range;return!mi(f)||f.table.schema.yProps||!f.isPrimKey&&m.type!==3?this.modify(Da):this._write(function(b){var E=f.table.core.schema.primaryKey,A=m;return f.table.core.count({trans:b,query:{index:E,range:A}}).then(function(C){return f.table.core.mutate({trans:b,type:"deleteRange",range:A}).then(function(G){var P=G.failures,G=G.numFailures;if(G)throw new Ze("Could not delete some values",Object.keys(P).map(function(K){return P[K]}),C-G);return C-G})})})},Tt);function Tt(){}var Da=function(f,m){return m.value=null};function ka(f,m){return f<m?-1:f===m?0:1}function Il(f,m){return m<f?-1:f===m?0:1}function wn(f,m,b){return f=f instanceof ts?new f.Collection(f):f,f._ctx.error=new(b||TypeError)(m),f}function yi(f){return new f.Collection(f,function(){return Cr("")}).limit(0)}function vr(f,m,b,E){var A,C,M,P,G,K,ee,z=b.length;if(!b.every(function(W){return typeof W=="string"}))return wn(f,hn);function ne(W){A=W==="next"?function(te){return te.toUpperCase()}:function(te){return te.toLowerCase()},C=W==="next"?function(te){return te.toLowerCase()}:function(te){return te.toUpperCase()},M=W==="next"?ka:Il;var J=b.map(function(te){return{lower:C(te),upper:A(te)}}).sort(function(te,ae){return M(te.lower,ae.lower)});P=J.map(function(te){return te.upper}),G=J.map(function(te){return te.lower}),ee=(K=W)==="next"?"":E}ne("next"),f=new f.Collection(f,function(){return Fr(P[0],G[z-1]+E)}),f._ondirectionchange=function(W){ne(W)};var Q=0;return f._addAlgorithm(function(W,J,te){var ae=W.key;if(typeof ae!="string")return!1;var ue=C(ae);if(m(ue,G,Q))return!0;for(var ge=null,Ee=Q;Ee<z;++Ee){var ke=(function(Ue,Ne,Me,Le,Ie,qe){for(var et=Math.min(Ue.length,Le.length),ot=-1,gt=0;gt<et;++gt){var nr=Ne[gt];if(nr!==Le[gt])return Ie(Ue[gt],Me[gt])<0?Ue.substr(0,gt)+Me[gt]+Me.substr(gt+1):Ie(Ue[gt],Le[gt])<0?Ue.substr(0,gt)+Le[gt]+Me.substr(gt+1):0<=ot?Ue.substr(0,ot)+Ne[ot]+Me.substr(ot+1):null;Ie(Ue[gt],nr)<0&&(ot=gt)}return et<Le.length&&qe==="next"?Ue+Me.substr(Ue.length):et<Ue.length&&qe==="prev"?Ue.substr(0,Me.length):ot<0?null:Ue.substr(0,ot)+Le[ot]+Me.substr(ot+1)})(ae,ue,P[Ee],G[Ee],M,K);ke===null&&ge===null?Q=Ee+1:(ge===null||0<M(ge,ke))&&(ge=ke)}return J(ge!==null?function(){W.continue(ge+ee)}:te),!1}),f}function Fr(f,m,b,E){return{type:2,lower:f,upper:m,lowerOpen:b,upperOpen:E}}function Cr(f){return{type:1,lower:f,upper:f}}var ts=(Object.defineProperty(Ht.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Ht.prototype.between=function(f,m,b,E){b=b!==!1,E=E===!0;try{return 0<this._cmp(f,m)||this._cmp(f,m)===0&&(b||E)&&(!b||!E)?yi(this):new this.Collection(this,function(){return Fr(f,m,!b,!E)})}catch{return wn(this,On)}},Ht.prototype.equals=function(f){return f==null?wn(this,On):new this.Collection(this,function(){return Cr(f)})},Ht.prototype.above=function(f){return f==null?wn(this,On):new this.Collection(this,function(){return Fr(f,void 0,!0)})},Ht.prototype.aboveOrEqual=function(f){return f==null?wn(this,On):new this.Collection(this,function(){return Fr(f,void 0,!1)})},Ht.prototype.below=function(f){return f==null?wn(this,On):new this.Collection(this,function(){return Fr(void 0,f,!1,!0)})},Ht.prototype.belowOrEqual=function(f){return f==null?wn(this,On):new this.Collection(this,function(){return Fr(void 0,f)})},Ht.prototype.startsWith=function(f){return typeof f!="string"?wn(this,hn):this.between(f,f+Rn,!0,!0)},Ht.prototype.startsWithIgnoreCase=function(f){return f===""?this.startsWith(f):vr(this,function(m,b){return m.indexOf(b[0])===0},[f],Rn)},Ht.prototype.equalsIgnoreCase=function(f){return vr(this,function(m,b){return m===b[0]},[f],"")},Ht.prototype.anyOfIgnoreCase=function(){var f=mt.apply(dt,arguments);return f.length===0?yi(this):vr(this,function(m,b){return b.indexOf(m)!==-1},f,"")},Ht.prototype.startsWithAnyOfIgnoreCase=function(){var f=mt.apply(dt,arguments);return f.length===0?yi(this):vr(this,function(m,b){return b.some(function(E){return m.indexOf(E)===0})},f,Rn)},Ht.prototype.anyOf=function(){var f=this,m=mt.apply(dt,arguments),b=this._cmp;try{m.sort(b)}catch{return wn(this,On)}if(m.length===0)return yi(this);var E=new this.Collection(this,function(){return Fr(m[0],m[m.length-1])});E._ondirectionchange=function(C){b=C==="next"?f._ascending:f._descending,m.sort(b)};var A=0;return E._addAlgorithm(function(C,M,P){for(var G=C.key;0<b(G,m[A]);)if(++A===m.length)return M(P),!1;return b(G,m[A])===0||(M(function(){C.continue(m[A])}),!1)}),E},Ht.prototype.notEqual=function(f){return this.inAnyRange([[-1/0,f],[f,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Ht.prototype.noneOf=function(){var f=mt.apply(dt,arguments);if(f.length===0)return new this.Collection(this);try{f.sort(this._ascending)}catch{return wn(this,On)}var m=f.reduce(function(b,E){return b?b.concat([[b[b.length-1][1],E]]):[[-1/0,E]]},null);return m.push([f[f.length-1],this.db._maxKey]),this.inAnyRange(m,{includeLowers:!1,includeUppers:!1})},Ht.prototype.inAnyRange=function(ae,m){var b=this,E=this._cmp,A=this._ascending,C=this._descending,M=this._min,P=this._max;if(ae.length===0)return yi(this);if(!ae.every(function(ue){return ue[0]!==void 0&&ue[1]!==void 0&&A(ue[0],ue[1])<=0}))return wn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ve.InvalidArgument);var G=!m||m.includeLowers!==!1,K=m&&m.includeUppers===!0,ee,z=A;function ne(ue,ge){return z(ue[0],ge[0])}try{(ee=ae.reduce(function(ue,ge){for(var Ee=0,ke=ue.length;Ee<ke;++Ee){var Ue=ue[Ee];if(E(ge[0],Ue[1])<0&&0<E(ge[1],Ue[0])){Ue[0]=M(Ue[0],ge[0]),Ue[1]=P(Ue[1],ge[1]);break}}return Ee===ke&&ue.push(ge),ue},[])).sort(ne)}catch{return wn(this,On)}var Q=0,W=K?function(ue){return 0<A(ue,ee[Q][1])}:function(ue){return 0<=A(ue,ee[Q][1])},J=G?function(ue){return 0<C(ue,ee[Q][0])}:function(ue){return 0<=C(ue,ee[Q][0])},te=W,ae=new this.Collection(this,function(){return Fr(ee[0][0],ee[ee.length-1][1],!G,!K)});return ae._ondirectionchange=function(ue){z=ue==="next"?(te=W,A):(te=J,C),ee.sort(ne)},ae._addAlgorithm(function(ue,ge,Ee){for(var ke,Ue=ue.key;te(Ue);)if(++Q===ee.length)return ge(Ee),!1;return!W(ke=Ue)&&!J(ke)||(b._cmp(Ue,ee[Q][1])===0||b._cmp(Ue,ee[Q][0])===0||ge(function(){z===A?ue.continue(ee[Q][0]):ue.continue(ee[Q][1])}),!1)}),ae},Ht.prototype.startsWithAnyOf=function(){var f=mt.apply(dt,arguments);return f.every(function(m){return typeof m=="string"})?f.length===0?yi(this):this.inAnyRange(f.map(function(m){return[m,m+Rn]})):wn(this,"startsWithAnyOf() only works with strings")},Ht);function Ht(){}function er(f){return Bt(function(m){return ji(m),f(m.target.error),!1})}function ji(f){f.stopPropagation&&f.stopPropagation(),f.preventDefault&&f.preventDefault()}var qr="storagemutated",Nr="x-storagemutated-1",Cn=di(null,qr),Ks=(bt.prototype._lock=function(){return Fe(!ze.global),++this._reculock,this._reculock!==1||ze.global||(ze.lockOwnerFor=this),this},bt.prototype._unlock=function(){if(Fe(!ze.global),--this._reculock==0)for(ze.global||(ze.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var f=this._blockedFuncs.shift();try{Zn(f[1],f[0])}catch{}}return this},bt.prototype._locked=function(){return this._reculock&&ze.lockOwnerFor!==this},bt.prototype.create=function(f){var m=this;if(!this.mode)return this;var b=this.db.idbdb,E=this.db._state.dbOpenError;if(Fe(!this.idbtrans),!f&&!b)switch(E&&E.name){case"DatabaseClosedError":throw new Ve.DatabaseClosed(E);case"MissingAPIError":throw new Ve.MissingAPI(E.message,E);default:throw new Ve.OpenFailed(E)}if(!this.active)throw new Ve.TransactionInactive;return Fe(this._completion._state===null),(f=this.idbtrans=f||(this.db.core||b).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Bt(function(A){ji(A),m._reject(f.error)}),f.onabort=Bt(function(A){ji(A),m.active&&m._reject(new Ve.Abort(f.error)),m.active=!1,m.on("abort").fire(A)}),f.oncomplete=Bt(function(){m.active=!1,m._resolve(),"mutatedParts"in f&&Cn.storagemutated.fire(f.mutatedParts)}),this},bt.prototype._promise=function(f,m,b){var E=this;if(f==="readwrite"&&this.mode!=="readwrite")return Mt(new Ve.ReadOnly("Transaction is readonly"));if(!this.active)return Mt(new Ve.TransactionInactive);if(this._locked())return new je(function(C,M){E._blockedFuncs.push([function(){E._promise(f,m,b).then(C,M)},ze])});if(b)return qt(function(){var C=new je(function(M,P){E._lock();var G=m(M,P,E);G&&G.then&&G.then(M,P)});return C.finally(function(){return E._unlock()}),C._lib=!0,C});var A=new je(function(C,M){var P=m(C,M,E);P&&P.then&&P.then(C,M)});return A._lib=!0,A},bt.prototype._root=function(){return this.parent?this.parent._root():this},bt.prototype.waitFor=function(f){var m,b=this._root(),E=je.resolve(f);b._waitingFor?b._waitingFor=b._waitingFor.then(function(){return E}):(b._waitingFor=E,b._waitingQueue=[],m=b.idbtrans.objectStore(b.storeNames[0]),(function C(){for(++b._spinCount;b._waitingQueue.length;)b._waitingQueue.shift()();b._waitingFor&&(m.get(-1/0).onsuccess=C)})());var A=b._waitingFor;return new je(function(C,M){E.then(function(P){return b._waitingQueue.push(Bt(C.bind(null,P)))},function(P){return b._waitingQueue.push(Bt(M.bind(null,P)))}).finally(function(){b._waitingFor===A&&(b._waitingFor=null)})})},bt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ve.Abort))},bt.prototype.table=function(f){var m=this._memoizedTables||(this._memoizedTables={});if(R(m,f))return m[f];var b=this.schema[f];if(!b)throw new Ve.NotFound("Table "+f+" not part of transaction");return b=new this.db.Table(f,b,this),b.core=this.db.core.table(f),m[f]=b},bt);function bt(){}function Hr(f,m,b,E,A,C,M,P){return{name:f,keyPath:m,unique:b,multi:E,auto:A,compound:C,src:(b&&!M?"&":"")+(E?"*":"")+(A?"++":"")+Oa(m),type:P}}function Oa(f){return typeof f=="string"?f:f?"["+[].join.call(f,"+")+"]":""}function ns(f,m,b){return{name:f,primKey:m,indexes:b,mappedClass:null,idxByName:(E=function(A){return[A.name,A]},b.reduce(function(A,C,M){return M=E(C,M),M&&(A[M[0]]=M[1]),A},{}))};var E}var rs=function(f){try{return f.only([[]]),rs=function(){return[[]]},[[]]}catch{return rs=function(){return Rn},Rn}};function is(f){return f==null?function(){}:typeof f=="string"?(m=f).split(".").length===1?function(b){return b[m]}:function(b){return Be(b,m)}:function(b){return Be(b,f)};var m}function Pi(f){return[].slice.call(f)}var vi=0;function mn(f){return f==null?":id":typeof f=="string"?f:"[".concat(f.join("+"),"]")}function ss(f,m,G){function E(te){if(te.type===3)return null;if(te.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Q=te.lower,W=te.upper,J=te.lowerOpen,te=te.upperOpen;return Q===void 0?W===void 0?null:m.upperBound(W,!!te):W===void 0?m.lowerBound(Q,!!J):m.bound(Q,W,!!J,!!te)}function A(ne){var Q,W=ne.name;return{name:W,schema:ne,mutate:function(J){var te=J.trans,ae=J.type,ue=J.keys,ge=J.values,Ee=J.range;return new Promise(function(ke,Ue){ke=Bt(ke);var Ne=te.objectStore(W),Me=Ne.keyPath==null,Le=ae==="put"||ae==="add";if(!Le&&ae!=="delete"&&ae!=="deleteRange")throw new Error("Invalid operation type: "+ae);var Ie,qe=(ue||ge||{length:1}).length;if(ue&&ge&&ue.length!==ge.length)throw new Error("Given keys array must have same length as given values array.");if(qe===0)return ke({numFailures:0,failures:{},results:[],lastResult:void 0});function et(Pn){++nr,ji(Pn)}var ot=[],gt=[],nr=0;if(ae==="deleteRange"){if(Ee.type===4)return ke({numFailures:nr,failures:gt,results:[],lastResult:void 0});Ee.type===3?ot.push(Ie=Ne.clear()):ot.push(Ie=Ne.delete(E(Ee)))}else{var Me=Le?Me?[ge,ue]:[ge,null]:[ue,null],at=Me[0],jn=Me[1];if(Le)for(var on=0;on<qe;++on)ot.push(Ie=jn&&jn[on]!==void 0?Ne[ae](at[on],jn[on]):Ne[ae](at[on])),Ie.onerror=et;else for(on=0;on<qe;++on)ot.push(Ie=Ne[ae](at[on])),Ie.onerror=et}function Qo(Pn){Pn=Pn.target.result,ot.forEach(function($r,Lu){return $r.error!=null&&(gt[Lu]=$r.error)}),ke({numFailures:nr,failures:gt,results:ae==="delete"?ue:ot.map(function($r){return $r.result}),lastResult:Pn})}Ie.onerror=function(Pn){et(Pn),Qo(Pn)},Ie.onsuccess=Qo})},getMany:function(J){var te=J.trans,ae=J.keys;return new Promise(function(ue,ge){ue=Bt(ue);for(var Ee,ke=te.objectStore(W),Ue=ae.length,Ne=new Array(Ue),Me=0,Le=0,Ie=function(ot){ot=ot.target,Ne[ot._pos]=ot.result,++Le===Me&&ue(Ne)},qe=er(ge),et=0;et<Ue;++et)ae[et]!=null&&((Ee=ke.get(ae[et]))._pos=et,Ee.onsuccess=Ie,Ee.onerror=qe,++Me);Me===0&&ue(Ne)})},get:function(J){var te=J.trans,ae=J.key;return new Promise(function(ue,ge){ue=Bt(ue);var Ee=te.objectStore(W).get(ae);Ee.onsuccess=function(ke){return ue(ke.target.result)},Ee.onerror=er(ge)})},query:(Q=K,function(J){return new Promise(function(te,ae){te=Bt(te);var ue,ge,Ee,Me=J.trans,ke=J.values,Ue=J.limit,Ie=J.query,Ne=Ue===1/0?void 0:Ue,Le=Ie.index,Ie=Ie.range,Me=Me.objectStore(W),Le=Le.isPrimaryKey?Me:Me.index(Le.name),Ie=E(Ie);if(Ue===0)return te({result:[]});Q?((Ne=ke?Le.getAll(Ie,Ne):Le.getAllKeys(Ie,Ne)).onsuccess=function(qe){return te({result:qe.target.result})},Ne.onerror=er(ae)):(ue=0,ge=!ke&&"openKeyCursor"in Le?Le.openKeyCursor(Ie):Le.openCursor(Ie),Ee=[],ge.onsuccess=function(qe){var et=ge.result;return et?(Ee.push(ke?et.value:et.primaryKey),++ue===Ue?te({result:Ee}):void et.continue()):te({result:Ee})},ge.onerror=er(ae))})}),openCursor:function(J){var te=J.trans,ae=J.values,ue=J.query,ge=J.reverse,Ee=J.unique;return new Promise(function(ke,Ue){ke=Bt(ke);var Le=ue.index,Ne=ue.range,Me=te.objectStore(W),Me=Le.isPrimaryKey?Me:Me.index(Le.name),Le=ge?Ee?"prevunique":"prev":Ee?"nextunique":"next",Ie=!ae&&"openKeyCursor"in Me?Me.openKeyCursor(E(Ne),Le):Me.openCursor(E(Ne),Le);Ie.onerror=er(Ue),Ie.onsuccess=Bt(function(qe){var et,ot,gt,nr,at=Ie.result;at?(at.___id=++vi,at.done=!1,et=at.continue.bind(at),ot=(ot=at.continuePrimaryKey)&&ot.bind(at),gt=at.advance.bind(at),nr=function(){throw new Error("Cursor not stopped")},at.trans=te,at.stop=at.continue=at.continuePrimaryKey=at.advance=function(){throw new Error("Cursor not started")},at.fail=Bt(Ue),at.next=function(){var jn=this,on=1;return this.start(function(){return on--?jn.continue():jn.stop()}).then(function(){return jn})},at.start=function(jn){function on(){if(Ie.result)try{jn()}catch(Pn){at.fail(Pn)}else at.done=!0,at.start=function(){throw new Error("Cursor behind last entry")},at.stop()}var Qo=new Promise(function(Pn,$r){Pn=Bt(Pn),Ie.onerror=er($r),at.fail=$r,at.stop=function(Lu){at.stop=at.continue=at.continuePrimaryKey=at.advance=nr,Pn(Lu)}});return Ie.onsuccess=Bt(function(Pn){Ie.onsuccess=on,on()}),at.continue=et,at.continuePrimaryKey=ot,at.advance=gt,on(),Qo},ke(at)):ke(null)},Ue)})},count:function(J){var te=J.query,ae=J.trans,ue=te.index,ge=te.range;return new Promise(function(Ee,ke){var Ue=ae.objectStore(W),Ne=ue.isPrimaryKey?Ue:Ue.index(ue.name),Ue=E(ge),Ne=Ue?Ne.count(Ue):Ne.count();Ne.onsuccess=Bt(function(Me){return Ee(Me.target.result)}),Ne.onerror=er(ke)})}}}var C,M,P,ee=(M=G,P=Pi((C=f).objectStoreNames),{schema:{name:C.name,tables:P.map(function(ne){return M.objectStore(ne)}).map(function(ne){var Q=ne.keyPath,te=ne.autoIncrement,W=y(Q),J={},te={name:ne.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Q==null,compound:W,keyPath:Q,autoIncrement:te,unique:!0,extractKey:is(Q)},indexes:Pi(ne.indexNames).map(function(ae){return ne.index(ae)}).map(function(Ee){var ue=Ee.name,ge=Ee.unique,ke=Ee.multiEntry,Ee=Ee.keyPath,ke={name:ue,compound:y(Ee),keyPath:Ee,unique:ge,multiEntry:ke,extractKey:is(Ee)};return J[mn(Ee)]=ke}),getIndexByKeyPath:function(ae){return J[mn(ae)]}};return J[":id"]=te.primaryKey,Q!=null&&(J[mn(Q)]=te.primaryKey),te})},hasGetAll:0<P.length&&"getAll"in M.objectStore(P[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),G=ee.schema,K=ee.hasGetAll,ee=G.tables.map(A),z={};return ee.forEach(function(ne){return z[ne.name]=ne}),{stack:"dbcore",transaction:f.transaction.bind(f),table:function(ne){if(!z[ne])throw new Error("Table '".concat(ne,"' not found"));return z[ne]},MIN_KEY:-1/0,MAX_KEY:rs(m),schema:G}}function Vi(f,m,b,E){var A=b.IDBKeyRange;return b.indexedDB,{dbcore:(E=ss(m,A,E),f.dbcore.reduce(function(C,M){return M=M.create,s(s({},C),M(C))},E))}}function _i(f,E){var b=E.db,E=Vi(f._middlewares,b,f._deps,E);f.core=E.dbcore,f.tables.forEach(function(A){var C=A.name;f.core.schema.tables.some(function(M){return M.name===C})&&(A.core=f.core.table(C),f[C]instanceof f.Table&&(f[C].core=A.core))})}function _s(f,m,b,E){b.forEach(function(A){var C=E[A];m.forEach(function(M){var P=(function G(K,ee){return H(K,ee)||(K=_(K))&&G(K,ee)})(M,A);(!P||"value"in P&&P.value===void 0)&&(M===f.Transaction.prototype||M instanceof f.Transaction?ie(M,A,{get:function(){return this.table(A)},set:function(G){L(this,A,{value:G,writable:!0,configurable:!0,enumerable:!0})}}):M[A]=new f.Table(A,C))})})}function Li(f,m){m.forEach(function(b){for(var E in b)b[E]instanceof f.Table&&delete b[E]})}function Ma(f,m){return f._cfg.version-m._cfg.version}function Ui(f,m,b,E){var A=f._dbSchema;b.objectStoreNames.contains("$meta")&&!A.$meta&&(A.$meta=ns("$meta",qo("")[0],[]),f._storeNames.push("$meta"));var C=f._createTransaction("readwrite",f._storeNames,A);C.create(b),C._completion.catch(E);var M=C._reject.bind(C),P=ze.transless||ze;qt(function(){return ze.trans=C,ze.transless=P,m!==0?(_i(f,b),K=m,((G=C).storeNames.includes("$meta")?G.table("$meta").get("version").then(function(ee){return ee??K}):je.resolve(K)).then(function(ee){return ne=ee,Q=C,W=b,J=[],ee=(z=f)._versions,te=z._dbSchema=zi(0,z.idbdb,W),(ee=ee.filter(function(ae){return ae._cfg.version>=ne})).length!==0?(ee.forEach(function(ae){J.push(function(){var ue=te,ge=ae._cfg.dbschema;bs(z,ue,W),bs(z,ge,W),te=z._dbSchema=ge;var Ee=Qs(ue,ge);Ee.add.forEach(function(Le){as(W,Le[0],Le[1].primKey,Le[1].indexes)}),Ee.change.forEach(function(Le){if(Le.recreate)throw new Ve.Upgrade("Not yet support for changing primary key");var Ie=W.objectStore(Le.name);Le.add.forEach(function(qe){return Ys(Ie,qe)}),Le.change.forEach(function(qe){Ie.deleteIndex(qe.name),Ys(Ie,qe)}),Le.del.forEach(function(qe){return Ie.deleteIndex(qe)})});var ke=ae._cfg.contentUpgrade;if(ke&&ae._cfg.version>ne){_i(z,W),Q._memoizedTables={};var Ue=I(ge);Ee.del.forEach(function(Le){Ue[Le]=ue[Le]}),Li(z,[z.Transaction.prototype]),_s(z,[z.Transaction.prototype],c(Ue),Ue),Q.schema=Ue;var Ne,Me=Y(ke);return Me&&Zt(),Ee=je.follow(function(){var Le;(Ne=ke(Q))&&Me&&(Le=Kn.bind(null,null),Ne.then(Le,Le))}),Ne&&typeof Ne.then=="function"?je.resolve(Ne):Ee.then(function(){return Ne})}}),J.push(function(ue){var ge,Ee,ke=ae._cfg.dbschema;ge=ke,Ee=ue,[].slice.call(Ee.db.objectStoreNames).forEach(function(Ue){return ge[Ue]==null&&Ee.db.deleteObjectStore(Ue)}),Li(z,[z.Transaction.prototype]),_s(z,[z.Transaction.prototype],z._storeNames,z._dbSchema),Q.schema=z._dbSchema}),J.push(function(ue){z.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(z.idbdb.version/10)===ae._cfg.version?(z.idbdb.deleteObjectStore("$meta"),delete z._dbSchema.$meta,z._storeNames=z._storeNames.filter(function(ge){return ge!=="$meta"})):ue.objectStore("$meta").put(ae._cfg.version,"version"))})}),(function ae(){return J.length?je.resolve(J.shift()(Q.idbtrans)).then(ae):je.resolve()})().then(function(){Fo(te,W)})):je.resolve();var z,ne,Q,W,J,te}).catch(M)):(c(A).forEach(function(ee){as(b,ee,A[ee].primKey,A[ee].indexes)}),_i(f,b),void je.follow(function(){return f.on.populate.fire(C)}).catch(M));var G,K})}function ja(f,m){Fo(f._dbSchema,m),m.db.version%10!=0||m.objectStoreNames.contains("$meta")||m.db.createObjectStore("$meta").add(Math.ceil(m.db.version/10-1),"version");var b=zi(0,f.idbdb,m);bs(f,f._dbSchema,m);for(var E=0,A=Qs(b,f._dbSchema).change;E<A.length;E++){var C=(function(M){if(M.change.length||M.recreate)return console.warn("Unable to patch indexes of table ".concat(M.name," because it has changes on the type of index or primary key.")),{value:void 0};var P=m.objectStore(M.name);M.add.forEach(function(G){Gn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(M.name,".").concat(G.src)),Ys(P,G)})})(A[E]);if(typeof C=="object")return C.value}}function Qs(f,m){var b,E={del:[],add:[],change:[]};for(b in f)m[b]||E.del.push(b);for(b in m){var A=f[b],C=m[b];if(A){var M={name:b,def:C,recreate:!1,del:[],add:[],change:[]};if(""+(A.primKey.keyPath||"")!=""+(C.primKey.keyPath||"")||A.primKey.auto!==C.primKey.auto)M.recreate=!0,E.change.push(M);else{var P=A.idxByName,G=C.idxByName,K=void 0;for(K in P)G[K]||M.del.push(K);for(K in G){var ee=P[K],z=G[K];ee?ee.src!==z.src&&M.change.push(z):M.add.push(z)}(0<M.del.length||0<M.add.length||0<M.change.length)&&E.change.push(M)}}else E.add.push([b,C])}return E}function as(f,m,b,E){var A=f.db.createObjectStore(m,b.keyPath?{keyPath:b.keyPath,autoIncrement:b.auto}:{autoIncrement:b.auto});return E.forEach(function(C){return Ys(A,C)}),A}function Fo(f,m){c(f).forEach(function(b){m.db.objectStoreNames.contains(b)||(Gn&&console.debug("Dexie: Creating missing table",b),as(m,b,f[b].primKey,f[b].indexes))})}function Ys(f,m){f.createIndex(m.name,m.keyPath,{unique:m.unique,multiEntry:m.multi})}function zi(f,m,b){var E={};return de(m.objectStoreNames,0).forEach(function(A){for(var C=b.objectStore(A),M=Hr(Oa(K=C.keyPath),K||"",!0,!1,!!C.autoIncrement,K&&typeof K!="string",!0),P=[],G=0;G<C.indexNames.length;++G){var ee=C.index(C.indexNames[G]),K=ee.keyPath,ee=Hr(ee.name,K,!!ee.unique,!!ee.multiEntry,!1,K&&typeof K!="string",!1);P.push(ee)}E[A]=ns(A,M,P)}),E}function bs(f,m,b){for(var E=b.db.objectStoreNames,A=0;A<E.length;++A){var C=E[A],M=b.objectStore(C);f._hasGetAll="getAll"in M;for(var P=0;P<M.indexNames.length;++P){var G=M.indexNames[P],K=M.index(G).keyPath,ee=typeof K=="string"?K:"["+de(K).join("+")+"]";!m[C]||(K=m[C].idxByName[ee])&&(K.name=G,delete m[C].idxByName[ee],m[C].idxByName[G]=K)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&u.WorkerGlobalScope&&u instanceof u.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(f._hasGetAll=!1)}function qo(f){return f.split(",").map(function(m,b){var C=m.split(":"),E=(A=C[1])===null||A===void 0?void 0:A.trim(),A=(m=C[0].trim()).replace(/([&*]|\+\+)/g,""),C=/^\[/.test(A)?A.match(/^\[(.*)\]$/)[1].split("+"):A;return Hr(A,C||null,/\&/.test(m),/\*/.test(m),/\+\+/.test(m),y(C),b===0,E)})}var Pa=(os.prototype._createTableSchema=ns,os.prototype._parseIndexSyntax=qo,os.prototype._parseStoresSpec=function(f,m){var b=this;c(f).forEach(function(E){if(f[E]!==null){var A=b._parseIndexSyntax(f[E]),C=A.shift();if(!C)throw new Ve.Schema("Invalid schema for table "+E+": "+f[E]);if(C.unique=!0,C.multi)throw new Ve.Schema("Primary key cannot be multiEntry*");A.forEach(function(M){if(M.auto)throw new Ve.Schema("Only primary key can be marked as autoIncrement (++)");if(!M.keyPath)throw new Ve.Schema("Index must have a name and cannot be an empty string")}),A=b._createTableSchema(E,C,A),m[E]=A}})},os.prototype.stores=function(b){var m=this.db;this._cfg.storesSource=this._cfg.storesSource?v(this._cfg.storesSource,b):b;var b=m._versions,E={},A={};return b.forEach(function(C){v(E,C._cfg.storesSource),A=C._cfg.dbschema={},C._parseStoresSpec(E,A)}),m._dbSchema=A,Li(m,[m._allTables,m,m.Transaction.prototype]),_s(m,[m._allTables,m,m.Transaction.prototype,this._cfg.tables],c(A),A),m._storeNames=c(A),this},os.prototype.upgrade=function(f){return this._cfg.contentUpgrade=un(this._cfg.contentUpgrade||_t,f),this},os);function os(){}function Va(f,m){var b=f._dbNamesDB;return b||(b=f._dbNamesDB=new Fi(gs,{addons:[],indexedDB:f,IDBKeyRange:m})).version(1).stores({dbnames:"name"}),b.table("dbnames")}function Gr(f){return f&&typeof f.databases=="function"}function La(f){return qt(function(){return ze.letThrough=!0,f()})}function Ua(f){return!("from"in f)}var Nn=function(f,m){if(!this){var b=new Nn;return f&&"d"in f&&v(b,f),b}v(this,arguments.length?{d:1,from:f,to:1<arguments.length?m:f}:{d:0})};function ws(f,m,b){var E=pt(m,b);if(!isNaN(E)){if(0<E)throw RangeError();if(Ua(f))return v(f,{from:m,to:b,d:1});var A=f.l,E=f.r;if(pt(b,f.from)<0)return A?ws(A,m,b):f.l={from:m,to:b,d:1,l:null,r:null},Ho(f);if(0<pt(m,f.to))return E?ws(E,m,b):f.r={from:m,to:b,d:1,l:null,r:null},Ho(f);pt(m,f.from)<0&&(f.from=m,f.l=null,f.d=E?E.d+1:1),0<pt(b,f.to)&&(f.to=b,f.r=null,f.d=f.l?f.l.d+1:1),b=!f.r,A&&!f.l&&Kr(f,A),E&&b&&Kr(f,E)}}function Kr(f,m){Ua(m)||(function b(E,G){var C=G.from,M=G.to,P=G.l,G=G.r;ws(E,C,M),P&&b(E,P),G&&b(E,G)})(f,m)}function tr(f,m){var b=$s(m),E=b.next();if(E.done)return!1;for(var A=E.value,C=$s(f),M=C.next(A.from),P=M.value;!E.done&&!M.done;){if(pt(P.from,A.to)<=0&&0<=pt(P.to,A.from))return!0;pt(A.from,P.from)<0?A=(E=b.next(P.from)).value:P=(M=C.next(A.from)).value}return!1}function $s(f){var m=Ua(f)?null:{s:0,n:f};return{next:function(b){for(var E=0<arguments.length;m;)switch(m.s){case 0:if(m.s=1,E)for(;m.n.l&&pt(b,m.n.from)<0;)m={up:m,n:m.n.l,s:1};else for(;m.n.l;)m={up:m,n:m.n.l,s:1};case 1:if(m.s=2,!E||pt(b,m.n.to)<=0)return{value:m.n,done:!1};case 2:if(m.n.r){m.s=3,m={up:m,n:m.n.r,s:0};continue}case 3:m=m.up}return{done:!0}}}}function Ho(f){var m,b,E=(((m=f.r)===null||m===void 0?void 0:m.d)||0)-(((b=f.l)===null||b===void 0?void 0:b.d)||0),A=1<E?"r":E<-1?"l":"";A&&(m=A=="r"?"l":"r",b=s({},f),E=f[A],f.from=E.from,f.to=E.to,f[A]=E[A],b[A]=E[m],(f[m]=b).d=Bi(b)),f.d=Bi(f)}function Bi(b){var m=b.r,b=b.l;return(m?b?Math.max(m.d,b.d):m.d:b?b.d:0)+1}function h(f,m){return c(m).forEach(function(b){f[b]?Kr(f[b],m[b]):f[b]=(function E(A){var C,M,P={};for(C in A)R(A,C)&&(M=A[C],P[C]=!M||typeof M!="object"||F.has(M.constructor)?M:E(M));return P})(m[b])}),f}function w(f,m){return f.all||m.all||Object.keys(f).some(function(b){return m[b]&&tr(m[b],f[b])})}O(Nn.prototype,((Dr={add:function(f){return Kr(this,f),this},addKey:function(f){return ws(this,f,f),this},addKeys:function(f){var m=this;return f.forEach(function(b){return ws(m,b,b)}),this},hasKey:function(f){var m=$s(this).next(f).value;return m&&pt(m.from,f)<=0&&0<=pt(m.to,f)}})[he]=function(){return $s(this)},Dr));var S={},k={},se=!1;function fe(f){h(k,f),se||(se=!0,setTimeout(function(){se=!1,Oe(k,!(k={}))},0))}function Oe(f,m){m===void 0&&(m=!1);var b=new Set;if(f.all)for(var E=0,A=Object.values(S);E<A.length;E++)ut(M=A[E],f,b,m);else for(var C in f){var M,P=/^idb\:\/\/(.*)\/(.*)\//.exec(C);P&&(C=P[1],P=P[2],(M=S["idb://".concat(C,"/").concat(P)])&&ut(M,f,b,m))}b.forEach(function(G){return G()})}function ut(f,m,b,E){for(var A=[],C=0,M=Object.entries(f.queries.query);C<M.length;C++){for(var P=M[C],G=P[0],K=[],ee=0,z=P[1];ee<z.length;ee++){var ne=z[ee];w(m,ne.obsSet)?ne.subscribers.forEach(function(te){return b.add(te)}):E&&K.push(ne)}E&&A.push([G,K])}if(E)for(var Q=0,W=A;Q<W.length;Q++){var J=W[Q],G=J[0],K=J[1];f.queries.query[G]=K}}function pn(f){var m=f._state,b=f._deps.indexedDB;if(m.isBeingOpened||f.idbdb)return m.dbReadyPromise.then(function(){return m.dbOpenError?Mt(m.dbOpenError):f});m.isBeingOpened=!0,m.dbOpenError=null,m.openComplete=!1;var E=m.openCanceller,A=Math.round(10*f.verno),C=!1;function M(){if(m.openCanceller!==E)throw new Ve.DatabaseClosed("db.open() was cancelled")}function P(){return new je(function(ne,Q){if(M(),!b)throw new Ve.MissingAPI;var W=f.name,J=m.autoSchema||!A?b.open(W):b.open(W,A);if(!J)throw new Ve.MissingAPI;J.onerror=er(Q),J.onblocked=Bt(f._fireOnBlocked),J.onupgradeneeded=Bt(function(te){var ae;ee=J.transaction,m.autoSchema&&!f._options.allowEmptyDB?(J.onerror=ji,ee.abort(),J.result.close(),(ae=b.deleteDatabase(W)).onsuccess=ae.onerror=Bt(function(){Q(new Ve.NoSuchDatabase("Database ".concat(W," doesnt exist")))})):(ee.onerror=er(Q),te=te.oldVersion>Math.pow(2,62)?0:te.oldVersion,z=te<1,f.idbdb=J.result,C&&ja(f,ee),Ui(f,te/10,ee,Q))},Q),J.onsuccess=Bt(function(){ee=null;var te,ae,ue,ge,Ee,ke=f.idbdb=J.result,Ue=de(ke.objectStoreNames);if(0<Ue.length)try{var Ne=ke.transaction((ge=Ue).length===1?ge[0]:ge,"readonly");if(m.autoSchema)ae=ke,ue=Ne,(te=f).verno=ae.version/10,ue=te._dbSchema=zi(0,ae,ue),te._storeNames=de(ae.objectStoreNames,0),_s(te,[te._allTables],c(ue),ue);else if(bs(f,f._dbSchema,Ne),((Ee=Qs(zi(0,(Ee=f).idbdb,Ne),Ee._dbSchema)).add.length||Ee.change.some(function(Me){return Me.add.length||Me.change.length}))&&!C)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ke.close(),A=ke.version+1,C=!0,ne(P());_i(f,Ne)}catch{}Mi.push(f),ke.onversionchange=Bt(function(Me){m.vcFired=!0,f.on("versionchange").fire(Me)}),ke.onclose=Bt(function(){f.close({disableAutoOpen:!1})}),z&&(Ee=f._deps,Ne=W,ke=Ee.indexedDB,Ee=Ee.IDBKeyRange,Gr(ke)||Ne===gs||Va(ke,Ee).put({name:Ne}).catch(_t)),ne()},Q)}).catch(function(ne){switch(ne?.name){case"UnknownError":if(0<m.PR1398_maxLoop)return m.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),P();break;case"VersionError":if(0<A)return A=0,P()}return je.reject(ne)})}var G,K=m.dbReadyResolve,ee=null,z=!1;return je.race([E,(typeof navigator>"u"?je.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(ne){function Q(){return indexedDB.databases().finally(ne)}G=setInterval(Q,100),Q()}).finally(function(){return clearInterval(G)}):Promise.resolve()).then(P)]).then(function(){return M(),m.onReadyBeingFired=[],je.resolve(La(function(){return f.on.ready.fire(f.vip)})).then(function ne(){if(0<m.onReadyBeingFired.length){var Q=m.onReadyBeingFired.reduce(un,_t);return m.onReadyBeingFired=[],je.resolve(La(function(){return Q(f.vip)})).then(ne)}})}).finally(function(){m.openCanceller===E&&(m.onReadyBeingFired=null,m.isBeingOpened=!1)}).catch(function(ne){m.dbOpenError=ne;try{ee&&ee.abort()}catch{}return E===m.openCanceller&&f._close(),Mt(ne)}).finally(function(){m.openComplete=!0,K()}).then(function(){var ne;return z&&(ne={},f.tables.forEach(function(Q){Q.schema.indexes.forEach(function(W){W.name&&(ne["idb://".concat(f.name,"/").concat(Q.name,"/").concat(W.name)]=new Nn(-1/0,[[[]]]))}),ne["idb://".concat(f.name,"/").concat(Q.name,"/")]=ne["idb://".concat(f.name,"/").concat(Q.name,"/:dels")]=new Nn(-1/0,[[[]]])}),Cn(qr).fire(ne),Oe(ne,!0)),f})}function kt(f){function m(C){return f.next(C)}var b=A(m),E=A(function(C){return f.throw(C)});function A(C){return function(G){var P=C(G),G=P.value;return P.done?G:G&&typeof G.then=="function"?G.then(b,E):y(G)?Promise.all(G).then(b,E):b(G)}}return A(m)()}function Gt(f,m,b){for(var E=y(f)?f.slice():[f],A=0;A<b;++A)E.push(m);return E}var Qr={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(f){return s(s({},f),{table:function(m){var b=f.table(m),E=b.schema,A={},C=[];function M(z,ne,Q){var W=mn(z),J=A[W]=A[W]||[],te=z==null?0:typeof z=="string"?1:z.length,ae=0<ne,ae=s(s({},Q),{name:ae?"".concat(W,"(virtual-from:").concat(Q.name,")"):Q.name,lowLevelIndex:Q,isVirtual:ae,keyTail:ne,keyLength:te,extractKey:is(z),unique:!ae&&Q.unique});return J.push(ae),ae.isPrimaryKey||C.push(ae),1<te&&M(te===2?z[0]:z.slice(0,te-1),ne+1,Q),J.sort(function(ue,ge){return ue.keyTail-ge.keyTail}),ae}m=M(E.primaryKey.keyPath,0,E.primaryKey),A[":id"]=[m];for(var P=0,G=E.indexes;P<G.length;P++){var K=G[P];M(K.keyPath,0,K)}function ee(z){var ne,Q=z.query.index;return Q.isVirtual?s(s({},z),{query:{index:Q.lowLevelIndex,range:(ne=z.query.range,Q=Q.keyTail,{type:ne.type===1?2:ne.type,lower:Gt(ne.lower,ne.lowerOpen?f.MAX_KEY:f.MIN_KEY,Q),lowerOpen:!0,upper:Gt(ne.upper,ne.upperOpen?f.MIN_KEY:f.MAX_KEY,Q),upperOpen:!0})}}):z}return s(s({},b),{schema:s(s({},E),{primaryKey:m,indexes:C,getIndexByKeyPath:function(z){return(z=A[mn(z)])&&z[0]}}),count:function(z){return b.count(ee(z))},query:function(z){return b.query(ee(z))},openCursor:function(z){var ne=z.query.index,Q=ne.keyTail,W=ne.isVirtual,J=ne.keyLength;return W?b.openCursor(ee(z)).then(function(ae){return ae&&te(ae)}):b.openCursor(z);function te(ae){return Object.create(ae,{continue:{value:function(ue){ue!=null?ae.continue(Gt(ue,z.reverse?f.MAX_KEY:f.MIN_KEY,Q)):z.unique?ae.continue(ae.key.slice(0,J).concat(z.reverse?f.MIN_KEY:f.MAX_KEY,Q)):ae.continue()}},continuePrimaryKey:{value:function(ue,ge){ae.continuePrimaryKey(Gt(ue,f.MAX_KEY,Q),ge)}},primaryKey:{get:function(){return ae.primaryKey}},key:{get:function(){var ue=ae.key;return J===1?ue[0]:ue.slice(0,J)}},value:{get:function(){return ae.value}}})}}})}})}};function Yr(f,m,b,E){return b=b||{},E=E||"",c(f).forEach(function(A){var C,M,P;R(m,A)?(C=f[A],M=m[A],typeof C=="object"&&typeof M=="object"&&C&&M?(P=Ae(C))!==Ae(M)?b[E+A]=m[A]:P==="Object"?Yr(C,M,b,E+A+"."):C!==M&&(b[E+A]=m[A]):C!==M&&(b[E+A]=m[A])):b[E+A]=void 0}),c(m).forEach(function(A){R(f,A)||(b[E+A]=m[A])}),b}function Ir(f,m){return m.type==="delete"?m.keys:m.keys||m.values.map(f.extractKey)}var bi={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(f){return s(s({},f),{table:function(m){var b=f.table(m),E=b.schema.primaryKey;return s(s({},b),{mutate:function(A){var C=ze.trans,M=C.table(m).hook,P=M.deleting,G=M.creating,K=M.updating;switch(A.type){case"add":if(G.fire===_t)break;return C._promise("readwrite",function(){return ee(A)},!0);case"put":if(G.fire===_t&&K.fire===_t)break;return C._promise("readwrite",function(){return ee(A)},!0);case"delete":if(P.fire===_t)break;return C._promise("readwrite",function(){return ee(A)},!0);case"deleteRange":if(P.fire===_t)break;return C._promise("readwrite",function(){return(function z(ne,Q,W){return b.query({trans:ne,values:!1,query:{index:E,range:Q},limit:W}).then(function(J){var te=J.result;return ee({type:"delete",keys:te,trans:ne}).then(function(ae){return 0<ae.numFailures?Promise.reject(ae.failures[0]):te.length<W?{failures:[],numFailures:0,lastResult:void 0}:z(ne,s(s({},Q),{lower:te[te.length-1],lowerOpen:!0}),W)})})})(A.trans,A.range,1e4)},!0)}return b.mutate(A);function ee(z){var ne,Q,W,J=ze.trans,te=z.keys||Ir(E,z);if(!te)throw new Error("Keys missing");return(z=z.type==="add"||z.type==="put"?s(s({},z),{keys:te}):s({},z)).type!=="delete"&&(z.values=o([],z.values)),z.keys&&(z.keys=o([],z.keys)),ne=b,W=te,((Q=z).type==="add"?Promise.resolve([]):ne.getMany({trans:Q.trans,keys:W,cache:"immutable"})).then(function(ae){var ue=te.map(function(ge,Ee){var ke,Ue,Ne,Me=ae[Ee],Le={onerror:null,onsuccess:null};return z.type==="delete"?P.fire.call(Le,ge,Me,J):z.type==="add"||Me===void 0?(ke=G.fire.call(Le,ge,z.values[Ee],J),ge==null&&ke!=null&&(z.keys[Ee]=ge=ke,E.outbound||D(z.values[Ee],E.keyPath,ge))):(ke=Yr(Me,z.values[Ee]),(Ue=K.fire.call(Le,ke,ge,Me,J))&&(Ne=z.values[Ee],Object.keys(Ue).forEach(function(Ie){R(Ne,Ie)?Ne[Ie]=Ue[Ie]:D(Ne,Ie,Ue[Ie])}))),Le});return b.mutate(z).then(function(ge){for(var Ee=ge.failures,ke=ge.results,Ue=ge.numFailures,ge=ge.lastResult,Ne=0;Ne<te.length;++Ne){var Me=(ke||te)[Ne],Le=ue[Ne];Me==null?Le.onerror&&Le.onerror(Ee[Ne]):Le.onsuccess&&Le.onsuccess(z.type==="put"&&ae[Ne]?z.values[Ne]:Me)}return{failures:Ee,results:ke,numFailures:Ue,lastResult:ge}}).catch(function(ge){return ue.forEach(function(Ee){return Ee.onerror&&Ee.onerror(ge)}),Promise.reject(ge)})})}}})}})}};function Es(f,m,b){try{if(!m||m.keys.length<f.length)return null;for(var E=[],A=0,C=0;A<m.keys.length&&C<f.length;++A)pt(m.keys[A],f[C])===0&&(E.push(b?V(m.values[A]):m.values[A]),++C);return E.length===f.length?E:null}catch{return null}}var za={stack:"dbcore",level:-1,create:function(f){return{table:function(m){var b=f.table(m);return s(s({},b),{getMany:function(E){if(!E.cache)return b.getMany(E);var A=Es(E.keys,E.trans._cache,E.cache==="clone");return A?je.resolve(A):b.getMany(E).then(function(C){return E.trans._cache={keys:E.keys,values:E.cache==="clone"?V(C):C},C})},mutate:function(E){return E.type!=="add"&&(E.trans._cache=null),b.mutate(E)}})}}}};function Xs(f,m){return f.trans.mode==="readonly"&&!!f.subscr&&!f.trans.explicit&&f.trans.db._options.cache!=="disabled"&&!m.schema.primaryKey.outbound}function sh(f,m){switch(f){case"query":return m.values&&!m.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Rd={stack:"dbcore",level:0,name:"Observability",create:function(f){var m=f.schema.name,b=new Nn(f.MIN_KEY,f.MAX_KEY);return s(s({},f),{transaction:function(E,A,C){if(ze.subscr&&A!=="readonly")throw new Ve.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ze.querier));return f.transaction(E,A,C)},table:function(E){var A=f.table(E),C=A.schema,M=C.primaryKey,z=C.indexes,P=M.extractKey,G=M.outbound,K=M.autoIncrement&&z.filter(function(Q){return Q.compound&&Q.keyPath.includes(M.keyPath)}),ee=s(s({},A),{mutate:function(Q){function W(Ie){return Ie="idb://".concat(m,"/").concat(E,"/").concat(Ie),ge[Ie]||(ge[Ie]=new Nn)}var J,te,ae,ue=Q.trans,ge=Q.mutatedParts||(Q.mutatedParts={}),Ee=W(""),ke=W(":dels"),Ue=Q.type,Le=Q.type==="deleteRange"?[Q.range]:Q.type==="delete"?[Q.keys]:Q.values.length<50?[Ir(M,Q).filter(function(Ie){return Ie}),Q.values]:[],Ne=Le[0],Me=Le[1],Le=Q.trans._cache;return y(Ne)?(Ee.addKeys(Ne),(Le=Ue==="delete"||Ne.length===Me.length?Es(Ne,Le):null)||ke.addKeys(Ne),(Le||Me)&&(J=W,te=Le,ae=Me,C.indexes.forEach(function(Ie){var qe=J(Ie.name||"");function et(gt){return gt!=null?Ie.extractKey(gt):null}function ot(gt){return Ie.multiEntry&&y(gt)?gt.forEach(function(nr){return qe.addKey(nr)}):qe.addKey(gt)}(te||ae).forEach(function(gt,jn){var at=te&&et(te[jn]),jn=ae&&et(ae[jn]);pt(at,jn)!==0&&(at!=null&&ot(at),jn!=null&&ot(jn))})}))):Ne?(Me={from:(Me=Ne.lower)!==null&&Me!==void 0?Me:f.MIN_KEY,to:(Me=Ne.upper)!==null&&Me!==void 0?Me:f.MAX_KEY},ke.add(Me),Ee.add(Me)):(Ee.add(b),ke.add(b),C.indexes.forEach(function(Ie){return W(Ie.name).add(b)})),A.mutate(Q).then(function(Ie){return!Ne||Q.type!=="add"&&Q.type!=="put"||(Ee.addKeys(Ie.results),K&&K.forEach(function(qe){for(var et=Q.values.map(function(at){return qe.extractKey(at)}),ot=qe.keyPath.findIndex(function(at){return at===M.keyPath}),gt=0,nr=Ie.results.length;gt<nr;++gt)et[gt][ot]=Ie.results[gt];W(qe.name).addKeys(et)})),ue.mutatedParts=h(ue.mutatedParts||{},ge),Ie})}}),z=function(W){var J=W.query,W=J.index,J=J.range;return[W,new Nn((W=J.lower)!==null&&W!==void 0?W:f.MIN_KEY,(J=J.upper)!==null&&J!==void 0?J:f.MAX_KEY)]},ne={get:function(Q){return[M,new Nn(Q.key)]},getMany:function(Q){return[M,new Nn().addKeys(Q.keys)]},count:z,query:z,openCursor:z};return c(ne).forEach(function(Q){ee[Q]=function(W){var J=ze.subscr,te=!!J,ae=Xs(ze,A)&&sh(Q,W)?W.obsSet={}:J;if(te){var ue=function(Me){return Me="idb://".concat(m,"/").concat(E,"/").concat(Me),ae[Me]||(ae[Me]=new Nn)},ge=ue(""),Ee=ue(":dels"),J=ne[Q](W),te=J[0],J=J[1];if((Q==="query"&&te.isPrimaryKey&&!W.values?Ee:ue(te.name||"")).add(J),!te.isPrimaryKey){if(Q!=="count"){var ke=Q==="query"&&G&&W.values&&A.query(s(s({},W),{values:!1}));return A[Q].apply(this,arguments).then(function(Me){if(Q==="query"){if(G&&W.values)return ke.then(function(et){return et=et.result,ge.addKeys(et),Me});var Le=W.values?Me.result.map(P):Me.result;(W.values?ge:Ee).addKeys(Le)}else if(Q==="openCursor"){var Ie=Me,qe=W.values;return Ie&&Object.create(Ie,{key:{get:function(){return Ee.addKey(Ie.primaryKey),Ie.key}},primaryKey:{get:function(){var et=Ie.primaryKey;return Ee.addKey(et),et}},value:{get:function(){return qe&&ge.addKey(Ie.primaryKey),Ie.value}}})}return Me})}Ee.add(b)}}return A[Q].apply(this,arguments)}}),ee}})}};function ah(f,m,b){if(b.numFailures===0)return m;if(m.type==="deleteRange")return null;var E=m.keys?m.keys.length:"values"in m&&m.values?m.values.length:1;return b.numFailures===E?null:(m=s({},m),y(m.keys)&&(m.keys=m.keys.filter(function(A,C){return!(C in b.failures)})),"values"in m&&y(m.values)&&(m.values=m.values.filter(function(A,C){return!(C in b.failures)})),m)}function Dl(f,m){return b=f,((E=m).lower===void 0||(E.lowerOpen?0<pt(b,E.lower):0<=pt(b,E.lower)))&&(f=f,(m=m).upper===void 0||(m.upperOpen?pt(f,m.upper)<0:pt(f,m.upper)<=0));var b,E}function Pu(f,m,ne,E,A,C){if(!ne||ne.length===0)return f;var M=m.query.index,P=M.multiEntry,G=m.query.range,K=E.schema.primaryKey.extractKey,ee=M.extractKey,z=(M.lowLevelIndex||M).extractKey,ne=ne.reduce(function(Q,W){var J=Q,te=[];if(W.type==="add"||W.type==="put")for(var ae=new Nn,ue=W.values.length-1;0<=ue;--ue){var ge,Ee=W.values[ue],ke=K(Ee);ae.hasKey(ke)||(ge=ee(Ee),(P&&y(ge)?ge.some(function(Ie){return Dl(Ie,G)}):Dl(ge,G))&&(ae.addKey(ke),te.push(Ee)))}switch(W.type){case"add":var Ue=new Nn().addKeys(m.values?Q.map(function(qe){return K(qe)}):Q),J=Q.concat(m.values?te.filter(function(qe){return qe=K(qe),!Ue.hasKey(qe)&&(Ue.addKey(qe),!0)}):te.map(function(qe){return K(qe)}).filter(function(qe){return!Ue.hasKey(qe)&&(Ue.addKey(qe),!0)}));break;case"put":var Ne=new Nn().addKeys(W.values.map(function(qe){return K(qe)}));J=Q.filter(function(qe){return!Ne.hasKey(m.values?K(qe):qe)}).concat(m.values?te:te.map(function(qe){return K(qe)}));break;case"delete":var Me=new Nn().addKeys(W.keys);J=Q.filter(function(qe){return!Me.hasKey(m.values?K(qe):qe)});break;case"deleteRange":var Le=W.range;J=Q.filter(function(qe){return!Dl(K(qe),Le)})}return J},f);return ne===f?f:(ne.sort(function(Q,W){return pt(z(Q),z(W))||pt(K(Q),K(W))}),m.limit&&m.limit<1/0&&(ne.length>m.limit?ne.length=m.limit:f.length===m.limit&&ne.length<m.limit&&(A.dirty=!0)),C?Object.freeze(ne):ne)}function Ba(f,m){return pt(f.lower,m.lower)===0&&pt(f.upper,m.upper)===0&&!!f.lowerOpen==!!m.lowerOpen&&!!f.upperOpen==!!m.upperOpen}function Go(f,m){return(function(b,E,A,C){if(b===void 0)return E!==void 0?-1:0;if(E===void 0)return 1;if((E=pt(b,E))===0){if(A&&C)return 0;if(A)return 1;if(C)return-1}return E})(f.lower,m.lower,f.lowerOpen,m.lowerOpen)<=0&&0<=(function(b,E,A,C){if(b===void 0)return E!==void 0?1:0;if(E===void 0)return-1;if((E=pt(b,E))===0){if(A&&C)return 0;if(A)return-1;if(C)return 1}return E})(f.upper,m.upper,f.upperOpen,m.upperOpen)}function Cd(f,m,b,E){f.subscribers.add(b),E.addEventListener("abort",function(){var A,C;f.subscribers.delete(b),f.subscribers.size===0&&(A=f,C=m,setTimeout(function(){A.subscribers.size===0&&we(C,A)},3e3))})}var kl={stack:"dbcore",level:0,name:"Cache",create:function(f){var m=f.schema.name;return s(s({},f),{transaction:function(b,E,A){var C,M,P=f.transaction(b,E,A);return E==="readwrite"&&(M=(C=new AbortController).signal,A=function(G){return function(){if(C.abort(),E==="readwrite"){for(var K=new Set,ee=0,z=b;ee<z.length;ee++){var ne=z[ee],Q=S["idb://".concat(m,"/").concat(ne)];if(Q){var W=f.table(ne),J=Q.optimisticOps.filter(function(qe){return qe.trans===P});if(P._explicit&&G&&P.mutatedParts)for(var te=0,ae=Object.values(Q.queries.query);te<ae.length;te++)for(var ue=0,ge=(Ue=ae[te]).slice();ue<ge.length;ue++)w((Ne=ge[ue]).obsSet,P.mutatedParts)&&(we(Ue,Ne),Ne.subscribers.forEach(function(qe){return K.add(qe)}));else if(0<J.length){Q.optimisticOps=Q.optimisticOps.filter(function(qe){return qe.trans!==P});for(var Ee=0,ke=Object.values(Q.queries.query);Ee<ke.length;Ee++)for(var Ue,Ne,Me,Le=0,Ie=(Ue=ke[Ee]).slice();Le<Ie.length;Le++)(Ne=Ie[Le]).res!=null&&P.mutatedParts&&(G&&!Ne.dirty?(Me=Object.isFrozen(Ne.res),Me=Pu(Ne.res,Ne.req,J,W,Ne,Me),Ne.dirty?(we(Ue,Ne),Ne.subscribers.forEach(function(qe){return K.add(qe)})):Me!==Ne.res&&(Ne.res=Me,Ne.promise=je.resolve({result:Me}))):(Ne.dirty&&we(Ue,Ne),Ne.subscribers.forEach(function(qe){return K.add(qe)})))}}}K.forEach(function(qe){return qe()})}}},P.addEventListener("abort",A(!1),{signal:M}),P.addEventListener("error",A(!1),{signal:M}),P.addEventListener("complete",A(!0),{signal:M})),P},table:function(b){var E=f.table(b),A=E.schema.primaryKey;return s(s({},E),{mutate:function(C){var M=ze.trans;if(A.outbound||M.db._options.cache==="disabled"||M.explicit||M.idbtrans.mode!=="readwrite")return E.mutate(C);var P=S["idb://".concat(m,"/").concat(b)];return P?(M=E.mutate(C),C.type!=="add"&&C.type!=="put"||!(50<=C.values.length||Ir(A,C).some(function(G){return G==null}))?(P.optimisticOps.push(C),C.mutatedParts&&fe(C.mutatedParts),M.then(function(G){0<G.numFailures&&(we(P.optimisticOps,C),(G=ah(0,C,G))&&P.optimisticOps.push(G),C.mutatedParts&&fe(C.mutatedParts))}),M.catch(function(){we(P.optimisticOps,C),C.mutatedParts&&fe(C.mutatedParts)})):M.then(function(G){var K=ah(0,s(s({},C),{values:C.values.map(function(ee,z){var ne;return G.failures[z]?ee:(ee=(ne=A.keyPath)!==null&&ne!==void 0&&ne.includes(".")?V(ee):s({},ee),D(ee,A.keyPath,G.results[z]),ee)})}),G);P.optimisticOps.push(K),queueMicrotask(function(){return C.mutatedParts&&fe(C.mutatedParts)})}),M):E.mutate(C)},query:function(C){if(!Xs(ze,E)||!sh("query",C))return E.query(C);var M=((K=ze.trans)===null||K===void 0?void 0:K.db._options.cache)==="immutable",z=ze,P=z.requery,G=z.signal,K=(function(W,J,te,ae){var ue=S["idb://".concat(W,"/").concat(J)];if(!ue)return[];if(!(J=ue.queries[te]))return[null,!1,ue,null];var ge=J[(ae.query?ae.query.index.name:null)||""];if(!ge)return[null,!1,ue,null];switch(te){case"query":var Ee=ge.find(function(ke){return ke.req.limit===ae.limit&&ke.req.values===ae.values&&Ba(ke.req.query.range,ae.query.range)});return Ee?[Ee,!0,ue,ge]:[ge.find(function(ke){return("limit"in ke.req?ke.req.limit:1/0)>=ae.limit&&(!ae.values||ke.req.values)&&Go(ke.req.query.range,ae.query.range)}),!1,ue,ge];case"count":return Ee=ge.find(function(ke){return Ba(ke.req.query.range,ae.query.range)}),[Ee,!!Ee,ue,ge]}})(m,b,"query",C),ee=K[0],z=K[1],ne=K[2],Q=K[3];return ee&&z?ee.obsSet=C.obsSet:(z=E.query(C).then(function(W){var J=W.result;if(ee&&(ee.res=J),M){for(var te=0,ae=J.length;te<ae;++te)Object.freeze(J[te]);Object.freeze(J)}else W.result=V(J);return W}).catch(function(W){return Q&&ee&&we(Q,ee),Promise.reject(W)}),ee={obsSet:C.obsSet,promise:z,subscribers:new Set,type:"query",req:C,dirty:!1},Q?Q.push(ee):(Q=[ee],(ne=ne||(S["idb://".concat(m,"/").concat(b)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[C.query.index.name||""]=Q)),Cd(ee,Q,P,G),ee.promise.then(function(W){return{result:Pu(W.result,C,ne?.optimisticOps,E,ee,M)}})}})}})}};function Ko(f,m){return new Proxy(f,{get:function(b,E,A){return E==="db"?m:Reflect.get(b,E,A)}})}var Fi=(en.prototype.version=function(f){if(isNaN(f)||f<.1)throw new Ve.Type("Given version is not a positive number");if(f=Math.round(10*f)/10,this.idbdb||this._state.isBeingOpened)throw new Ve.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,f);var m=this._versions,b=m.filter(function(E){return E._cfg.version===f})[0];return b||(b=new this.Version(f),m.push(b),m.sort(Ma),b.stores({}),this._state.autoSchema=!1,b)},en.prototype._whenReady=function(f){var m=this;return this.idbdb&&(this._state.openComplete||ze.letThrough||this._vip)?f():new je(function(b,E){if(m._state.openComplete)return E(new Ve.DatabaseClosed(m._state.dbOpenError));if(!m._state.isBeingOpened){if(!m._state.autoOpen)return void E(new Ve.DatabaseClosed);m.open().catch(_t)}m._state.dbReadyPromise.then(b,E)}).then(f)},en.prototype.use=function(f){var m=f.stack,b=f.create,E=f.level,A=f.name;return A&&this.unuse({stack:m,name:A}),f=this._middlewares[m]||(this._middlewares[m]=[]),f.push({stack:m,create:b,level:E??10,name:A}),f.sort(function(C,M){return C.level-M.level}),this},en.prototype.unuse=function(f){var m=f.stack,b=f.name,E=f.create;return m&&this._middlewares[m]&&(this._middlewares[m]=this._middlewares[m].filter(function(A){return E?A.create!==E:!!b&&A.name!==b})),this},en.prototype.open=function(){var f=this;return Zn(An,function(){return pn(f)})},en.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var f=this._state,m=Mi.indexOf(this);if(0<=m&&Mi.splice(m,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}f.isBeingOpened||(f.dbReadyPromise=new je(function(b){f.dbReadyResolve=b}),f.openCanceller=new je(function(b,E){f.cancelOpen=E}))},en.prototype.close=function(b){var m=(b===void 0?{disableAutoOpen:!0}:b).disableAutoOpen,b=this._state;m?(b.isBeingOpened&&b.cancelOpen(new Ve.DatabaseClosed),this._close(),b.autoOpen=!1,b.dbOpenError=new Ve.DatabaseClosed):(this._close(),b.autoOpen=this._options.autoOpen||b.isBeingOpened,b.openComplete=!1,b.dbOpenError=null)},en.prototype.delete=function(f){var m=this;f===void 0&&(f={disableAutoOpen:!0});var b=0<arguments.length&&typeof arguments[0]!="object",E=this._state;return new je(function(A,C){function M(){m.close(f);var P=m._deps.indexedDB.deleteDatabase(m.name);P.onsuccess=Bt(function(){var G,K,ee;G=m._deps,K=m.name,ee=G.indexedDB,G=G.IDBKeyRange,Gr(ee)||K===gs||Va(ee,G).delete(K).catch(_t),A()}),P.onerror=er(C),P.onblocked=m._fireOnBlocked}if(b)throw new Ve.InvalidArgument("Invalid closeOptions argument to db.delete()");E.isBeingOpened?E.dbReadyPromise.then(M):M()})},en.prototype.backendDB=function(){return this.idbdb},en.prototype.isOpen=function(){return this.idbdb!==null},en.prototype.hasBeenClosed=function(){var f=this._state.dbOpenError;return f&&f.name==="DatabaseClosed"},en.prototype.hasFailed=function(){return this._state.dbOpenError!==null},en.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(en.prototype,"tables",{get:function(){var f=this;return c(this._allTables).map(function(m){return f._allTables[m]})},enumerable:!1,configurable:!0}),en.prototype.transaction=function(){var f=(function(m,b,E){var A=arguments.length;if(A<2)throw new Ve.InvalidArgument("Too few arguments");for(var C=new Array(A-1);--A;)C[A-1]=arguments[A];return E=C.pop(),[m,B(C),E]}).apply(this,arguments);return this._transaction.apply(this,f)},en.prototype._transaction=function(f,m,b){var E=this,A=ze.trans;A&&A.db===this&&f.indexOf("!")===-1||(A=null);var C,M,P=f.indexOf("?")!==-1;f=f.replace("!","").replace("?","");try{if(M=m.map(function(K){if(K=K instanceof E.Table?K.name:K,typeof K!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return K}),f=="r"||f===Ur)C=Ur;else{if(f!="rw"&&f!=zr)throw new Ve.InvalidArgument("Invalid transaction mode: "+f);C=zr}if(A){if(A.mode===Ur&&C===zr){if(!P)throw new Ve.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");A=null}A&&M.forEach(function(K){if(A&&A.storeNames.indexOf(K)===-1){if(!P)throw new Ve.SubTransaction("Table "+K+" not included in parent transaction.");A=null}}),P&&A&&!A.active&&(A=null)}}catch(K){return A?A._promise(null,function(ee,z){z(K)}):Mt(K)}var G=(function K(ee,z,ne,Q,W){return je.resolve().then(function(){var J=ze.transless||ze,te=ee._createTransaction(z,ne,ee._dbSchema,Q);if(te.explicit=!0,J={trans:te,transless:J},Q)te.idbtrans=Q.idbtrans;else try{te.create(),te.idbtrans._explicit=!0,ee._state.PR1398_maxLoop=3}catch(ge){return ge.name===Je.InvalidState&&ee.isOpen()&&0<--ee._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),ee.close({disableAutoOpen:!1}),ee.open().then(function(){return K(ee,z,ne,null,W)})):Mt(ge)}var ae,ue=Y(W);return ue&&Zt(),J=je.follow(function(){var ge;(ae=W.call(te,te))&&(ue?(ge=Kn.bind(null,null),ae.then(ge,ge)):typeof ae.next=="function"&&typeof ae.throw=="function"&&(ae=kt(ae)))},J),(ae&&typeof ae.then=="function"?je.resolve(ae).then(function(ge){return te.active?ge:Mt(new Ve.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):J.then(function(){return ae})).then(function(ge){return Q&&te._resolve(),te._completion.then(function(){return ge})}).catch(function(ge){return te._reject(ge),Mt(ge)})})}).bind(null,this,C,M,A,b);return A?A._promise(C,G,"lock"):ze.trans?Zn(ze.transless,function(){return E._whenReady(G)}):this._whenReady(G)},en.prototype.table=function(f){if(!R(this._allTables,f))throw new Ve.InvalidTable("Table ".concat(f," does not exist"));return this._allTables[f]},en);function en(f,m){var b=this;this._middlewares={},this.verno=0;var E=en.dependencies;this._options=m=s({addons:en.addons,autoOpen:!0,indexedDB:E.indexedDB,IDBKeyRange:E.IDBKeyRange,cache:"cloned"},m),this._deps={indexedDB:m.indexedDB,IDBKeyRange:m.IDBKeyRange},E=m.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var A,C,M,P,G,K={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:_t,dbReadyPromise:null,cancelOpen:_t,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:m.autoOpen};K.dbReadyPromise=new je(function(z){K.dbReadyResolve=z}),K.openCanceller=new je(function(z,ne){K.cancelOpen=ne}),this._state=K,this.name=f,this.on=di(this,"populate","blocked","versionchange","close",{ready:[un,_t]}),this.once=function(z,ne){var Q=function(){for(var W=[],J=0;J<arguments.length;J++)W[J]=arguments[J];b.on(z).unsubscribe(Q),ne.apply(b,W)};return b.on(z,Q)},this.on.ready.subscribe=ve(this.on.ready.subscribe,function(z){return function(ne,Q){en.vip(function(){var W,J=b._state;J.openComplete?(J.dbOpenError||je.resolve().then(ne),Q&&z(ne)):J.onReadyBeingFired?(J.onReadyBeingFired.push(ne),Q&&z(ne)):(z(ne),W=b,Q||z(function te(){W.on.ready.unsubscribe(ne),W.on.ready.unsubscribe(te)}))})}}),this.Collection=(A=this,Mn(Nl.prototype,function(ae,te){this.db=A;var Q=Ca,W=null;if(te)try{Q=te()}catch(ue){W=ue}var J=ae._ctx,te=J.table,ae=te.hook.reading.fire;this._ctx={table:te,index:J.index,isPrimKey:!J.index||te.schema.primKey.keyPath&&J.index===te.schema.primKey.name,range:Q,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:W,or:J.or,valueMapper:ae!==Ni?ae:null}})),this.Table=(C=this,Mn(vs.prototype,function(z,ne,Q){this.db=C,this._tx=Q,this.name=z,this.schema=ne,this.hook=C._allTables[z]?C._allTables[z].hook:di(null,{creating:[Ls,_t],reading:[Ii,Ni],updating:[Vo,_t],deleting:[Po,_t]})})),this.Transaction=(M=this,Mn(Ks.prototype,function(z,ne,Q,W,J){var te=this;z!=="readonly"&&ne.forEach(function(ae){ae=(ae=Q[ae])===null||ae===void 0?void 0:ae.yProps,ae&&(ne=ne.concat(ae.map(function(ue){return ue.updatesTable})))}),this.db=M,this.mode=z,this.storeNames=ne,this.schema=Q,this.chromeTransactionDurability=W,this.idbtrans=null,this.on=di(this,"complete","error","abort"),this.parent=J||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new je(function(ae,ue){te._resolve=ae,te._reject=ue}),this._completion.then(function(){te.active=!1,te.on.complete.fire()},function(ae){var ue=te.active;return te.active=!1,te.on.error.fire(ae),te.parent?te.parent._reject(ae):ue&&te.idbtrans&&te.idbtrans.abort(),Mt(ae)})})),this.Version=(P=this,Mn(Pa.prototype,function(z){this.db=P,this._cfg={version:z,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(G=this,Mn(ts.prototype,function(z,ne,Q){if(this.db=G,this._ctx={table:z,index:ne===":id"?null:ne,or:Q},this._cmp=this._ascending=pt,this._descending=function(W,J){return pt(J,W)},this._max=function(W,J){return 0<pt(W,J)?W:J},this._min=function(W,J){return pt(W,J)<0?W:J},this._IDBKeyRange=G._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ve.MissingAPI})),this.on("versionchange",function(z){0<z.newVersion?console.warn("Another connection wants to upgrade database '".concat(b.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(b.name,"'. Closing db now to resume the delete request.")),b.close({disableAutoOpen:!1})}),this.on("blocked",function(z){!z.newVersion||z.newVersion<z.oldVersion?console.warn("Dexie.delete('".concat(b.name,"') was blocked")):console.warn("Upgrade '".concat(b.name,"' blocked by other connection holding version ").concat(z.oldVersion/10))}),this._maxKey=rs(m.IDBKeyRange),this._createTransaction=function(z,ne,Q,W){return new b.Transaction(z,ne,Q,b._options.chromeTransactionDurability,W)},this._fireOnBlocked=function(z){b.on("blocked").fire(z),Mi.filter(function(ne){return ne.name===b.name&&ne!==b&&!ne._state.vcFired}).map(function(ne){return ne.on("versionchange").fire(z)})},this.use(za),this.use(kl),this.use(Rd),this.use(Qr),this.use(bi);var ee=new Proxy(this,{get:function(z,ne,Q){if(ne==="_vip")return!0;if(ne==="table")return function(J){return Ko(b.table(J),ee)};var W=Reflect.get(z,ne,Q);return W instanceof vs?Ko(W,ee):ne==="tables"?W.map(function(J){return Ko(J,ee)}):ne==="_createTransaction"?function(){return Ko(W.apply(this,arguments),ee)}:W}});this.vip=ee,E.forEach(function(z){return z(b)})}var Fa,Dr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",oh=(Ol.prototype.subscribe=function(f,m,b){return this._subscribe(f&&typeof f!="function"?f:{next:f,error:m,complete:b})},Ol.prototype[Dr]=function(){return this},Ol);function Ol(f){this._subscribe=f}try{Fa={indexedDB:u.indexedDB||u.mozIndexedDB||u.webkitIndexedDB||u.msIndexedDB,IDBKeyRange:u.IDBKeyRange||u.webkitIDBKeyRange}}catch{Fa={indexedDB:null,IDBKeyRange:null}}function lh(f){var m,b=!1,E=new oh(function(A){var C=Y(f),M,P=!1,G={},K={},ee={get closed(){return P},unsubscribe:function(){P||(P=!0,M&&M.abort(),z&&Cn.storagemutated.unsubscribe(Q))}};A.start&&A.start(ee);var z=!1,ne=function(){return Lr(W)},Q=function(J){h(G,J),w(K,G)&&ne()},W=function(){var J,te,ae;!P&&Fa.indexedDB&&(G={},J={},M&&M.abort(),M=new AbortController,ae=(function(ue){var ge=sr();try{C&&Zt();var Ee=qt(f,ue);return Ee=C?Ee.finally(Kn):Ee}finally{ge&&Pr()}})(te={subscr:J,signal:M.signal,requery:ne,querier:f,trans:null}),Promise.resolve(ae).then(function(ue){b=!0,m=ue,P||te.signal.aborted||(G={},(function(ge){for(var Ee in ge)if(R(ge,Ee))return;return 1})(K=J)||z||(Cn(qr,Q),z=!0),Lr(function(){return!P&&A.next&&A.next(ue)}))},function(ue){b=!1,["DatabaseClosedError","AbortError"].includes(ue?.name)||P||Lr(function(){P||A.error&&A.error(ue)})}))};return setTimeout(ne,0),ee});return E.hasValue=function(){return b},E.getValue=function(){return m},E}var Ws=Fi;function Vu(f){var m=Ts;try{Ts=!0,Cn.storagemutated.fire(f),Oe(f,!0)}finally{Ts=m}}O(Ws,s(s({},Ar),{delete:function(f){return new Ws(f,{addons:[]}).delete()},exists:function(f){return new Ws(f,{addons:[]}).open().then(function(m){return m.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(f){try{return m=Ws.dependencies,b=m.indexedDB,m=m.IDBKeyRange,(Gr(b)?Promise.resolve(b.databases()).then(function(E){return E.map(function(A){return A.name}).filter(function(A){return A!==gs})}):Va(b,m).toCollection().primaryKeys()).then(f)}catch{return Mt(new Ve.MissingAPI)}var m,b},defineClass:function(){return function(f){v(this,f)}},ignoreTransaction:function(f){return ze.trans?Zn(ze.transless,f):f()},vip:La,async:function(f){return function(){try{var m=kt(f.apply(this,arguments));return m&&typeof m.then=="function"?m:je.resolve(m)}catch(b){return Mt(b)}}},spawn:function(f,m,b){try{var E=kt(f.apply(b,m||[]));return E&&typeof E.then=="function"?E:je.resolve(E)}catch(A){return Mt(A)}},currentTransaction:{get:function(){return ze.trans||null}},waitFor:function(f,m){return m=je.resolve(typeof f=="function"?Ws.ignoreTransaction(f):f).timeout(m||6e4),ze.trans?ze.trans.waitFor(m):m},Promise:je,debug:{get:function(){return Gn},set:function(f){Rl(f)}},derive:Z,extend:v,props:O,override:ve,Events:di,on:Cn,liveQuery:lh,extendObservabilitySet:h,getByKeyPath:Be,setByKeyPath:D,delByKeyPath:function(f,m){typeof m=="string"?D(f,m,void 0):"length"in m&&[].map.call(m,function(b){D(f,b,void 0)})},shallowClone:I,deepClone:V,getObjectDiff:Yr,cmp:pt,asap:Ke,minKey:-1/0,addons:[],connections:Mi,errnames:Je,dependencies:Fa,cache:S,semVer:"4.2.1",version:"4.2.1".split(".").map(function(f){return parseInt(f)}).reduce(function(f,m,b){return f+m/Math.pow(10,2*b)})})),Ws.maxKey=rs(Ws.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Cn(qr,function(f){Ts||(f=new CustomEvent(Nr,{detail:f}),Ts=!0,dispatchEvent(f),Ts=!1)}),addEventListener(Nr,function(f){f=f.detail,Ts||Vu(f)}));var qa,Ts=!1,_r=function(){};return typeof BroadcastChannel<"u"&&((_r=function(){(qa=new BroadcastChannel(Nr)).onmessage=function(f){return f.data&&Vu(f.data)}})(),typeof qa.unref=="function"&&qa.unref(),Cn(qr,function(f){Ts||qa.postMessage(f)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(f){if(!Fi.disableBfCache&&f.persisted){Gn&&console.debug("Dexie: handling persisted pagehide"),qa?.close();for(var m=0,b=Mi;m<b.length;m++)b[m].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(f){!Fi.disableBfCache&&f.persisted&&(Gn&&console.debug("Dexie: handling persisted pageshow"),_r(),Vu({all:new Nn(-1/0,[[]])}))})),je.rejectionMapper=function(f,m){return!f||f instanceof Re||f instanceof TypeError||f instanceof SyntaxError||!f.name||!Sr[f.name]?f:(m=new Sr[f.name](m||f.message,f),"stack"in f&&ie(m,"stack",{get:function(){return this.inner.stack}}),m)},Rl(Gn),s(Fi,Object.freeze({__proto__:null,Dexie:Fi,liveQuery:lh,Entity:zo,cmp:pt,PropModification:Br,replacePrefix:function(f,m){return new Br({replacePrefix:[f,m]})},add:function(f){return new Br({add:f})},remove:function(f){return new Br({remove:f})},default:Fi,RangeSet:Nn,mergeRanges:Kr,rangesOverlap:tr}),{default:Fi}),Fi})})(bf)),bf.exports}var a2=s2();const Hp=F1(a2),i0=Symbol.for("Dexie"),pu=globalThis[i0]||(globalThis[i0]=Hp);if(Hp.semVer!==pu.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Hp.semVer} and ${pu.semVer}`);const{liveQuery:vj,mergeRanges:_j,rangesOverlap:bj,RangeSet:wj,cmp:Ej,Entity:Tj,PropModification:xj,replacePrefix:Sj,add:Aj,remove:Rj,DexieYProvider:Cj}=pu;function o2(r,e,n){var s,o;typeof r=="function"?(s=e||[],o=n):(s=[],o=e);var u=vc.useRef({hasResult:!1,result:o,error:null}),c=vc.useReducer(function(_){return _+1},0);c[0];var y=c[1],v=vc.useMemo(function(){var _=typeof r=="function"?r():r;if(!_||typeof _.subscribe!="function")throw r===_?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!u.current.hasResult&&typeof window<"u"&&(typeof _.hasValue!="function"||_.hasValue()))if(typeof _.getValue=="function")u.current.result=_.getValue(),u.current.hasResult=!0;else{var x=_.subscribe(function(R){u.current.result=R,u.current.hasResult=!0});typeof x=="function"?x():x.unsubscribe()}return _},s);if(vc.useDebugValue(u.current.result),vc.useEffect(function(){var _=v.subscribe(function(x){var R=u.current;(R.error!==null||R.result!==x)&&(R.error=null,R.result=x,R.hasResult=!0,y())},function(x){var R=u.current;R.error!==x&&(R.error=x,y())});return typeof _=="function"?_:_.unsubscribe.bind(_)},s),u.current.error)throw u.current.error;return u.current.result}function dr(r,e,n){return o2(function(){return pu.liveQuery(r)},e||[],n)}typeof FinalizationRegistry<"u"&&new FinalizationRegistry(function(r){var e=pu.DexieYProvider;e&&e.release(r)});class l2 extends pu{foods;recipes;inventory;mealPlans;dailyLogs;settings;usdaSearchCache;constructor(){super("NutriTrackDB"),this.version(1).stores({foods:"id, name, source, usdaFdcId, barcode, category, isFavorite, createdAt",recipes:"id, name, category, isFavorite, createdAt",inventory:"id, foodId, status, location, expirationDate, updatedAt",mealPlans:"id, date",dailyLogs:"id, date",settings:"id",usdaSearchCache:"id, query, expiresAt"})}}const He=new l2;async function Cw(){const r=await He.settings.get("user-settings");if(r)return r;const e={id:"user-settings",weightUnit:"lb",volumeUnit:"oz",goals:{caloriesMin:1350,caloriesMax:1450,proteinMin:50,proteinMax:65,fiber:20,water:2e3},theme:"system",createdAt:new Date,updatedAt:new Date};return await He.settings.add(e),e}async function id(r){const e=await He.dailyLogs.where("date").equals(r).first();if(e)return e;const n={id:`log-${r}`,date:r,entries:[],totalCalories:0,totalProtein:0,totalCarbs:0,totalFat:0,totalFiber:0,waterIntake:0,createdAt:new Date,updatedAt:new Date};return await He.dailyLogs.add(n),n}function u2(r,e){return"caloriesPerServing"in r?{calories:Math.round(r.caloriesPerServing*e),protein:Math.round(r.proteinPerServing*e*10)/10,carbs:Math.round(r.carbsPerServing*e*10)/10,fat:Math.round(r.fatPerServing*e*10)/10,fiber:Math.round(r.fiberPerServing*e*10)/10}:{calories:Math.round(r.calories*e),protein:Math.round(r.protein*e*10)/10,carbs:Math.round(r.carbs*e*10)/10,fat:Math.round(r.fat*e*10)/10,fiber:Math.round(r.fiber*e*10)/10}}function Nw(r){return r.reduce((e,n)=>({totalCalories:e.totalCalories+n.calories,totalProtein:Math.round((e.totalProtein+n.protein)*10)/10,totalCarbs:Math.round((e.totalCarbs+n.carbs)*10)/10,totalFat:Math.round((e.totalFat+n.fat)*10)/10,totalFiber:Math.round((e.totalFiber+n.fiber)*10)/10}),{totalCalories:0,totalProtein:0,totalCarbs:0,totalFat:0,totalFiber:0})}async function Iw(r){const e=await id(r.date),n=u2(r.item,r.servings),s={id:crypto.randomUUID(),timestamp:new Date,mealType:r.mealType,itemType:r.itemType,itemId:r.item.id,itemName:r.item.name,servings:r.servings,servingSize:"servingSize"in r.item?r.item.servingSize:1,servingUnit:"servingUnit"in r.item?r.item.servingUnit:"serving",...n,inventoryDeducted:!1},o=[...e.entries,s],u=Nw(o);return await He.dailyLogs.update(e.id,{entries:o,...u,updatedAt:new Date}),s}async function Dw(r,e){const n=await id(r),s=n.entries.filter(u=>u.id!==e),o=Nw(s);await He.dailyLogs.update(n.id,{entries:s,...o,updatedAt:new Date})}const gn=q.forwardRef(({className:r,...e},n)=>g.jsx("div",{ref:n,className:vn("rounded-lg border bg-card text-card-foreground shadow-sm",r),...e}));gn.displayName="Card";const ni=q.forwardRef(({className:r,...e},n)=>g.jsx("div",{ref:n,className:vn("flex flex-col space-y-1.5 p-6",r),...e}));ni.displayName="CardHeader";const ri=q.forwardRef(({className:r,...e},n)=>g.jsx("h3",{ref:n,className:vn("text-2xl font-semibold leading-none tracking-tight",r),...e}));ri.displayName="CardTitle";const c2=q.forwardRef(({className:r,...e},n)=>g.jsx("p",{ref:n,className:vn("text-sm text-muted-foreground",r),...e}));c2.displayName="CardDescription";const xn=q.forwardRef(({className:r,...e},n)=>g.jsx("div",{ref:n,className:vn("p-6 pt-0",r),...e}));xn.displayName="CardContent";const h2=q.forwardRef(({className:r,...e},n)=>g.jsx("div",{ref:n,className:vn("flex items-center p-6 pt-0",r),...e}));h2.displayName="CardFooter";const s0=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,a0=pw,f2=(r,e)=>n=>{var s;if(e?.variants==null)return a0(r,n?.class,n?.className);const{variants:o,defaultVariants:u}=e,c=Object.keys(o).map(_=>{const x=n?.[_],R=u?.[_];if(x===null)return null;const O=s0(x)||s0(R);return o[_][O]}),y=n&&Object.entries(n).reduce((_,x)=>{let[R,O]=x;return O===void 0||(_[R]=O),_},{}),v=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((_,x)=>{let{class:R,className:O,...L}=x;return Object.entries(L).every(ie=>{let[Z,H]=ie;return Array.isArray(H)?H.includes({...u,...y}[Z]):{...u,...y}[Z]===H})?[..._,R,O]:_},[]);return a0(r,c,v,n?.class,n?.className)},d2=f2("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",xl:"h-14 rounded-md px-8 text-base",icon:"h-10 w-10","icon-lg":"h-14 w-14"}},defaultVariants:{variant:"default",size:"default"}}),Et=q.forwardRef(({className:r,variant:e,size:n,...s},o)=>g.jsx("button",{className:vn(d2({variant:e,size:n,className:r})),ref:o,...s}));Et.displayName="Button";function o0({label:r,current:e,target:n,unit:s="g",color:o,size:u="md"}){const c=Math.min(e/n*100,100),y=2*Math.PI*40,v={sm:"w-20 h-20",md:"w-28 h-28",lg:"w-36 h-36"},_={sm:"text-sm",md:"text-lg",lg:"text-2xl"},x={sm:"text-xs",md:"text-xs",lg:"text-sm"};return g.jsxs("div",{className:"flex flex-col items-center gap-2",children:[g.jsxs("div",{className:vn("relative",v[u]),children:[g.jsxs("svg",{className:"w-full h-full -rotate-90",viewBox:"0 0 100 100",children:[g.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"currentColor",strokeWidth:"8",className:"text-muted"}),g.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:o,strokeWidth:"8",strokeLinecap:"round",strokeDasharray:y,strokeDashoffset:y-c/100*y,className:"transition-all duration-500 ease-out"})]}),g.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[g.jsx("span",{className:vn("font-bold",_[u]),children:Math.round(e)}),g.jsxs("span",{className:vn("text-muted-foreground",x[u]),children:["/ ",n,s]})]})]}),g.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:r})]})}function xp({label:r,current:e,target:n,unit:s="g",color:o,showPercentage:u=!1}){const c=Math.min(e/n*100,100);return g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"text-sm font-medium",children:r}),g.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(e)," / ",n,s,u&&g.jsxs("span",{className:"ml-2",children:["(",Math.round(c),"%)"]})]})]}),g.jsx("div",{className:"h-3 bg-muted rounded-full overflow-hidden",children:g.jsx("div",{className:vn("h-full rounded-full transition-all duration-500 ease-out"),style:{width:`${c}%`,backgroundColor:o}})})]})}async function Ig(r){const e=r.toLowerCase();return He.foods.filter(n=>n.name.toLowerCase().includes(e)).toArray()}const m2="https://api.nal.usda.gov/fdc/v1",Ec={ENERGY:1008,PROTEIN:1003,FAT:1004,CARBS:1005,FIBER:1079};function Tc(r,e){return r.find(s=>s.nutrientId===e)?.value??0}function p2(r){const e=r.foodNutrients;return{fdcId:r.fdcId,name:r.description,brand:r.brandOwner||r.brandName,dataType:r.dataType,calories:Math.round(Tc(e,Ec.ENERGY)),protein:Math.round(Tc(e,Ec.PROTEIN)*10)/10,carbs:Math.round(Tc(e,Ec.CARBS)*10)/10,fat:Math.round(Tc(e,Ec.FAT)*10)/10,fiber:Math.round(Tc(e,Ec.FIBER)*10)/10,servingSize:r.servingSize||100,servingUnit:r.servingSizeUnit?.toLowerCase()||"g"}}async function Dg(r,e,n=25){if(!e)throw new Error("USDA API key is required");const s=`usda-search-${r.toLowerCase()}`,o=await He.usdaSearchCache.where("query").equals(r.toLowerCase()).first();if(o&&o.expiresAt>Date.now())return o.results.map(x=>({fdcId:x.usdaFdcId,name:x.name,brand:x.brand,dataType:"cached",calories:x.calories,protein:x.protein,carbs:x.carbs,fat:x.fat,fiber:x.fiber,servingSize:x.servingSize,servingUnit:x.servingUnit}));const u=new URL(`${m2}/foods/search`);u.searchParams.set("api_key",e),u.searchParams.set("query",r),u.searchParams.set("pageSize",String(n)),u.searchParams.set("dataType","Foundation,SR Legacy,Survey (FNDDS),Branded");const c=await fetch(u.toString());if(!c.ok)throw c.status===403?new Error("Invalid USDA API key"):new Error(`USDA API error: ${c.status}`);const v=(await c.json()).foods.map(p2),_=v.map(x=>({id:`usda-${x.fdcId}`,name:x.name,brand:x.brand,source:"usda",usdaFdcId:x.fdcId,servingSize:x.servingSize,servingUnit:x.servingUnit,servingSizeGrams:x.servingUnit==="g"?x.servingSize:0,calories:x.calories,protein:x.protein,carbs:x.carbs,fat:x.fat,fiber:x.fiber,tags:[],isFavorite:!1,createdAt:new Date,updatedAt:new Date}));return await He.usdaSearchCache.put({id:s,query:r.toLowerCase(),results:_,expiresAt:Date.now()+10080*60*1e3}),v}function g2(r){return{id:crypto.randomUUID(),name:r.name,brand:r.brand,source:"usda",usdaFdcId:r.fdcId,servingSize:r.servingSize,servingUnit:y2(r.servingUnit),servingSizeGrams:r.servingUnit==="g"?r.servingSize:0,calories:r.calories,protein:r.protein,carbs:r.carbs,fat:r.fat,fiber:r.fiber,tags:[],isFavorite:!1,createdAt:new Date,updatedAt:new Date}}function y2(r){const e=r.toLowerCase().trim();return{g:"g",gram:"g",grams:"g",mg:"mg",kg:"kg",ml:"ml",l:"l",oz:"oz",ounce:"oz",ounces:"oz",lb:"lb",pound:"lb",pounds:"lb",cup:"cup",cups:"cup",tbsp:"tbsp",tablespoon:"tbsp",tsp:"tsp",teaspoon:"tsp",piece:"piece",pieces:"piece",slice:"slice",slices:"slice",serving:"serving",servings:"serving"}[e]||"serving"}async function kg(r){const e=await He.foods.where("usdaFdcId").equals(r.fdcId).first();if(e)return await He.foods.update(e.id,{updatedAt:new Date}),e;const n=g2(r);return await He.foods.add(n),n}function Og({open:r,onOpenChange:e,children:n}){return q.useEffect(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[r]),r?g.jsxs("div",{className:"fixed inset-0 z-50",children:[g.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:()=>e(!1)}),g.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:g.jsx("div",{className:"flex min-h-full items-end sm:items-center justify-center p-0 sm:p-4",children:n})})]}):null}function Mg({children:r,className:e,onClose:n}){return g.jsxs("div",{className:vn("relative bg-background rounded-t-2xl sm:rounded-2xl w-full sm:max-w-lg max-h-[90vh] overflow-y-auto shadow-xl",e),onClick:s=>s.stopPropagation(),children:[n&&g.jsx("button",{onClick:n,className:"absolute right-4 top-4 p-2 rounded-full hover:bg-muted transition-colors",children:g.jsx(fC,{className:"h-5 w-5"})}),r]})}function dl({children:r,className:e}){return g.jsx("div",{className:vn("px-6 pt-6 pb-4",e),children:r})}function ml({children:r,className:e}){return g.jsx("h2",{className:vn("text-xl font-semibold",e),children:r})}function pl({children:r,className:e}){return g.jsx("div",{className:vn("px-6 pb-6",e),children:r})}const $n=q.forwardRef(({className:r,type:e,...n},s)=>g.jsx("input",{type:e,className:vn("flex h-12 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:s,...n}));$n.displayName="Input";const Ro=q.forwardRef(({className:r,options:e,...n},s)=>g.jsx("select",{className:vn("flex h-12 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:s,...n,children:e.map(o=>g.jsx("option",{value:o.value,children:o.label},o.value))}));Ro.displayName="Select";const v2=[{value:"breakfast",label:"Breakfast"},{value:"lunch",label:"Lunch"},{value:"dinner",label:"Dinner"},{value:"snack",label:"Snack"}];function kw({open:r,onOpenChange:e,defaultMealType:n="snack",onFoodAdded:s}){const[o,u]=q.useState("search"),[c,y]=q.useState(""),[v,_]=q.useState([]),[x,R]=q.useState([]),[O,L]=q.useState(!1),[ie,Z]=q.useState(null),[H,pe]=q.useState(null),[de,ve]=q.useState("1"),[Fe,Ke]=q.useState(n),Be=dr(()=>He.settings.get("user-settings")),D=dr(()=>He.foods.filter(De=>De.isFavorite).toArray()),I=dr(()=>He.foods.orderBy("createdAt").reverse().limit(5).toArray()),j=!!Be?.usdaApiKey;q.useEffect(()=>{r||(u("search"),y(""),_([]),R([]),Z(null),pe(null),ve("1"))},[r]),q.useEffect(()=>{Ke(n)},[n]),q.useEffect(()=>{c.length>=2?(Ig(c).then(_),j&&Be?.usdaApiKey&&(L(!0),Z(null),Dg(c,Be.usdaApiKey).then(De=>{const Ae=new Set(v.map(Ce=>Ce.name.toLowerCase())),he=De.filter(Ce=>!Ae.has(Ce.name.toLowerCase()));R(he.slice(0,15))}).catch(De=>{Z(De.message),R([])}).finally(()=>L(!1)))):(_([]),R([]))},[c,j,Be?.usdaApiKey]);const B=De=>{pe(De),u("log")},F=async De=>{const Ae=await kg(De);pe(Ae),u("log")},X=async()=>{if(!H)return;const De=parseFloat(de)||1;await Iw({date:Ng(),mealType:Fe,item:H,itemType:"food",servings:De}),e(!1),s?.()},V=v.length+x.length;return g.jsx(Og,{open:r,onOpenChange:e,children:g.jsxs(Mg,{onClose:()=>e(!1),children:[o==="search"&&g.jsxs(g.Fragment,{children:[g.jsx(dl,{children:g.jsx(ml,{children:"Add Food"})}),g.jsxs(pl,{className:"space-y-4",children:[g.jsxs("div",{className:"relative",children:[g.jsx(Rg,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),g.jsx($n,{placeholder:j?"Search local & USDA foods...":"Search foods...",value:c,onChange:De=>y(De.target.value),className:"pl-10",autoFocus:!0})]}),c.length>=2?g.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:[v.length>0&&g.jsxs("div",{children:[g.jsx("h3",{className:"text-xs font-medium text-muted-foreground mb-2 uppercase tracking-wide",children:"Your Foods"}),g.jsx("div",{className:"space-y-2",children:v.map(De=>g.jsx(Sp,{food:De,onClick:()=>B(De)},De.id))})]}),j&&g.jsxs("div",{children:[g.jsxs("h3",{className:"text-xs font-medium text-muted-foreground mb-2 uppercase tracking-wide flex items-center gap-1",children:[g.jsx(kf,{className:"w-3 h-3"}),"USDA Database",O&&g.jsx(ya,{className:"w-3 h-3 animate-spin ml-1"})]}),ie&&g.jsx("p",{className:"text-sm text-destructive py-2",children:ie}),!O&&x.length>0&&g.jsx("div",{className:"space-y-2",children:x.map(De=>g.jsx(_2,{result:De,onClick:()=>F(De)},De.fdcId))}),!O&&x.length===0&&!ie&&v.length===0&&g.jsx("p",{className:"text-sm text-muted-foreground py-2",children:"No results found"})]}),V===0&&!O&&!ie&&g.jsxs("div",{className:"text-center py-8 space-y-4",children:[g.jsx("p",{className:"text-muted-foreground",children:"No foods found"}),g.jsxs(Et,{variant:"outline",onClick:()=>u("create"),children:[g.jsx(mu,{className:"w-4 h-4 mr-2"}),'Create "',c,'"']})]})]}):g.jsxs("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto",children:[!j&&g.jsxs("div",{className:"p-3 bg-muted rounded-lg text-sm",children:[g.jsx("p",{className:"font-medium",children:"Enable USDA Food Search"}),g.jsx("p",{className:"text-muted-foreground mt-1",children:"Add your free USDA API key in Settings to search 300,000+ foods."})]}),D&&D.length>0&&g.jsxs("div",{children:[g.jsxs("h3",{className:"text-sm font-medium text-muted-foreground mb-2 flex items-center gap-2",children:[g.jsx(rC,{className:"w-4 h-4"}),"Favorites"]}),g.jsx("div",{className:"space-y-2",children:D.map(De=>g.jsx(Sp,{food:De,onClick:()=>B(De)},De.id))})]}),I&&I.length>0&&g.jsxs("div",{children:[g.jsxs("h3",{className:"text-sm font-medium text-muted-foreground mb-2 flex items-center gap-2",children:[g.jsx(fw,{className:"w-4 h-4"}),"Recent"]}),g.jsx("div",{className:"space-y-2",children:I.map(De=>g.jsx(Sp,{food:De,onClick:()=>B(De)},De.id))})]}),g.jsx("div",{className:"pt-4 border-t",children:g.jsxs(Et,{variant:"outline",className:"w-full",onClick:()=>u("create"),children:[g.jsx(mu,{className:"w-4 h-4 mr-2"}),"Create Custom Food"]})})]})]})]}),o==="create"&&g.jsx(b2,{initialName:c,onBack:()=>u("search"),onCreated:De=>{pe(De),u("log")}}),o==="log"&&H&&g.jsxs(g.Fragment,{children:[g.jsx(dl,{children:g.jsx(ml,{children:"Log Food"})}),g.jsxs(pl,{className:"space-y-6",children:[g.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[g.jsx("h3",{className:"font-medium",children:H.name}),H.brand&&g.jsx("p",{className:"text-sm text-muted-foreground",children:H.brand}),g.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[H.servingSize," ",H.servingUnit," ="," ",H.calories," cal"]}),H.source==="usda"&&g.jsxs("p",{className:"text-xs text-primary mt-1 flex items-center gap-1",children:[g.jsx(kf,{className:"w-3 h-3"}),"From USDA database"]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Servings"}),g.jsx($n,{type:"number",step:"0.25",min:"0.25",value:de,onChange:De=>ve(De.target.value)})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Meal"}),g.jsx(Ro,{value:Fe,onChange:De=>Ke(De.target.value),options:v2})]})]}),g.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[g.jsx("h4",{className:"text-sm font-medium mb-2",children:"Nutrition"}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-muted-foreground",children:"Calories"}),g.jsx("span",{className:"font-medium",children:Math.round(H.calories*(parseFloat(de)||1))})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-muted-foreground",children:"Protein"}),g.jsxs("span",{className:"font-medium",children:[(H.protein*(parseFloat(de)||1)).toFixed(1),"g"]})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-muted-foreground",children:"Carbs"}),g.jsxs("span",{className:"font-medium",children:[(H.carbs*(parseFloat(de)||1)).toFixed(1),"g"]})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-muted-foreground",children:"Fat"}),g.jsxs("span",{className:"font-medium",children:[(H.fat*(parseFloat(de)||1)).toFixed(1),"g"]})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-muted-foreground",children:"Fiber"}),g.jsxs("span",{className:"font-medium",children:[(H.fiber*(parseFloat(de)||1)).toFixed(1),"g"]})]})]})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx(Et,{variant:"outline",className:"flex-1",onClick:()=>{pe(null),u("search")},children:"Back"}),g.jsx(Et,{className:"flex-1",onClick:X,children:"Add to Log"})]})]})]})]})})}function Sp({food:r,onClick:e}){return g.jsxs("button",{className:"w-full p-3 text-left bg-muted hover:bg-muted/80 rounded-lg transition-colors flex justify-between items-center min-h-[56px]",onClick:e,children:[g.jsxs("div",{className:"min-w-0 flex-1",children:[g.jsx("p",{className:"font-medium truncate",children:r.name}),g.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.servingSize," ",r.servingUnit,r.brand&&` - ${r.brand}`]})]}),g.jsxs("div",{className:"text-right ml-2",children:[g.jsxs("p",{className:"font-medium",children:[r.calories," cal"]}),g.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.protein,"g protein"]})]})]})}function _2({result:r,onClick:e}){return g.jsxs("button",{className:"w-full p-3 text-left bg-muted hover:bg-muted/80 rounded-lg transition-colors flex justify-between items-center min-h-[56px]",onClick:e,children:[g.jsxs("div",{className:"min-w-0 flex-1",children:[g.jsx("p",{className:"font-medium truncate",children:r.name}),g.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:[r.servingSize,r.servingUnit,r.brand&&` - ${r.brand}`]})]}),g.jsxs("div",{className:"text-right ml-2",children:[g.jsxs("p",{className:"font-medium",children:[r.calories," cal"]}),g.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.protein,"g protein"]})]})]})}function b2({initialName:r="",onBack:e,onCreated:n}){const[s,o]=q.useState(r),[u,c]=q.useState("100"),[y,v]=q.useState("g"),[_,x]=q.useState(""),[R,O]=q.useState(""),[L,ie]=q.useState(""),[Z,H]=q.useState(""),[pe,de]=q.useState(""),[ve,Fe]=q.useState(!1),Ke=[{value:"g",label:"grams (g)"},{value:"oz",label:"ounces (oz)"},{value:"cup",label:"cup"},{value:"tbsp",label:"tablespoon"},{value:"tsp",label:"teaspoon"},{value:"piece",label:"piece"},{value:"serving",label:"serving"}],Be=async()=>{if(!(!s||!_)){Fe(!0);try{const D={id:crypto.randomUUID(),name:s,source:"custom",servingSize:parseFloat(u)||100,servingUnit:y,servingSizeGrams:y==="g"?parseFloat(u)||100:0,calories:parseFloat(_)||0,protein:parseFloat(R)||0,carbs:parseFloat(L)||0,fat:parseFloat(Z)||0,fiber:parseFloat(pe)||0,tags:[],isFavorite:!1,createdAt:new Date,updatedAt:new Date};await He.foods.add(D),n(D)}finally{Fe(!1)}}};return g.jsxs(g.Fragment,{children:[g.jsx(dl,{children:g.jsx(ml,{children:"Create Food"})}),g.jsxs(pl,{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Name"}),g.jsx($n,{value:s,onChange:D=>o(D.target.value),placeholder:"Food name",autoFocus:!0})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Serving Size"}),g.jsx($n,{type:"number",value:u,onChange:D=>c(D.target.value),placeholder:"100"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Unit"}),g.jsx(Ro,{value:y,onChange:D=>v(D.target.value),options:Ke})]})]}),g.jsxs("div",{className:"border-t pt-4",children:[g.jsx("h4",{className:"text-sm font-medium mb-3",children:"Nutrition per serving"}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-sm text-muted-foreground mb-1 block",children:"Calories"}),g.jsx($n,{type:"number",value:_,onChange:D=>x(D.target.value),placeholder:"0"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-sm text-muted-foreground mb-1 block",children:"Protein (g)"}),g.jsx($n,{type:"number",step:"0.1",value:R,onChange:D=>O(D.target.value),placeholder:"0"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-sm text-muted-foreground mb-1 block",children:"Carbs (g)"}),g.jsx($n,{type:"number",step:"0.1",value:L,onChange:D=>ie(D.target.value),placeholder:"0"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-sm text-muted-foreground mb-1 block",children:"Fat (g)"}),g.jsx($n,{type:"number",step:"0.1",value:Z,onChange:D=>H(D.target.value),placeholder:"0"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-sm text-muted-foreground mb-1 block",children:"Fiber (g)"}),g.jsx($n,{type:"number",step:"0.1",value:pe,onChange:D=>de(D.target.value),placeholder:"0"})]})]})]}),g.jsxs("div",{className:"flex gap-3 pt-2",children:[g.jsx(Et,{variant:"outline",className:"flex-1",onClick:e,children:"Back"}),g.jsx(Et,{className:"flex-1",onClick:Be,disabled:!s||!_||ve,children:ve?"Creating...":"Create Food"})]})]})]})}function w2(){const r=Ng(),[e,n]=q.useState(null),[s,o]=q.useState(null),[u,c]=q.useState(!1),[y,v]=q.useState("snack");q.useEffect(()=>{Cw().then(n),id(r).then(o)},[r]);const _=dr(()=>He.settings.get("user-settings")),x=dr(()=>He.dailyLogs.where("date").equals(r).first()),R=_??e,O=x??s;if(!R||!O)return g.jsx("div",{className:"flex items-center justify-center min-h-screen",children:g.jsx("div",{className:"text-muted-foreground",children:"Loading..."})});const{goals:L}=R,ie=(L.caloriesMin+L.caloriesMax)/2,Z=(L.proteinMin+L.proteinMax)/2,H=(ve="snack")=>{v(ve),c(!0)},pe=async ve=>{await Dw(r,ve)},de=ve=>ve.charAt(0).toUpperCase()+ve.slice(1);return g.jsxs("div",{className:"p-4 space-y-6",children:[g.jsxs("header",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold",children:"Today"}),g.jsx("p",{className:"text-muted-foreground",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})]}),g.jsx(Et,{size:"icon-lg",className:"rounded-full",onClick:()=>H(),children:g.jsx(mu,{className:"w-6 h-6"})})]}),g.jsxs(gn,{children:[g.jsx(ni,{className:"pb-2",children:g.jsx(ri,{className:"text-lg",children:"Daily Progress"})}),g.jsxs(xn,{className:"space-y-6",children:[g.jsxs("div",{className:"flex justify-around",children:[g.jsx(o0,{label:"Calories",current:O.totalCalories,target:ie,unit:"",color:"var(--color-calories)",size:"lg"}),g.jsx(o0,{label:"Protein",current:O.totalProtein,target:Z,unit:"g",color:"var(--color-protein)",size:"lg"})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx(xp,{label:"Fiber",current:O.totalFiber,target:L.fiber,unit:"g",color:"var(--color-fiber)"}),g.jsx(xp,{label:"Carbs",current:O.totalCarbs,target:150,unit:"g",color:"var(--color-carbs)"}),g.jsx(xp,{label:"Fat",current:O.totalFat,target:50,unit:"g",color:"var(--color-fat)"})]})]})]}),g.jsxs(gn,{children:[g.jsx(ni,{className:"pb-2",children:g.jsx(ri,{className:"text-lg",children:"Today's Meals"})}),g.jsx(xn,{children:O.entries.length===0?g.jsxs("div",{className:"py-8 text-center text-muted-foreground",children:[g.jsx("p",{children:"No meals logged yet."}),g.jsx("p",{className:"text-sm mt-1",children:"Tap + to add your first meal"})]}):g.jsx("div",{className:"space-y-2",children:O.entries.map(ve=>g.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted rounded-lg",children:[g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"font-medium truncate",children:ve.itemName}),g.jsxs("p",{className:"text-sm text-muted-foreground",children:[de(ve.mealType)," -"," ",ve.servings===1?"1 serving":`${ve.servings} servings`]})]}),g.jsxs("div",{className:"text-right mr-2",children:[g.jsxs("p",{className:"font-medium",children:[ve.calories," cal"]}),g.jsxs("p",{className:"text-sm text-muted-foreground",children:[ve.protein,"g protein"]})]}),g.jsx(Et,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-destructive shrink-0",onClick:()=>pe(ve.id),children:g.jsx(rd,{className:"w-4 h-4"})})]},ve.id))})})]}),g.jsxs(gn,{children:[g.jsx(ni,{className:"pb-2",children:g.jsx(ri,{className:"text-lg",children:"Quick Add by Meal"})}),g.jsx(xn,{children:g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsx(Et,{variant:"outline",className:"h-14",onClick:()=>H("breakfast"),children:"+ Breakfast"}),g.jsx(Et,{variant:"outline",className:"h-14",onClick:()=>H("lunch"),children:"+ Lunch"}),g.jsx(Et,{variant:"outline",className:"h-14",onClick:()=>H("dinner"),children:"+ Dinner"}),g.jsx(Et,{variant:"outline",className:"h-14",onClick:()=>H("snack"),children:"+ Snack"})]})})]}),g.jsx(kw,{open:u,onOpenChange:c,defaultMealType:y})]})}const E2=[{type:"breakfast",label:"Breakfast"},{type:"lunch",label:"Lunch"},{type:"dinner",label:"Dinner"},{type:"snack",label:"Snacks"}];function T2(){const r=Ng(),[e,n]=q.useState(null),[s,o]=q.useState(!1),[u,c]=q.useState("breakfast");q.useEffect(()=>{id(r).then(n)},[r]);const v=dr(()=>He.dailyLogs.where("date").equals(r).first())??e,_=L=>{c(L),o(!0)},x=async L=>{await Dw(r,L)},R=L=>v?v.entries.filter(ie=>ie.mealType===L):[],O=L=>L.reduce((ie,Z)=>({calories:ie.calories+Z.calories,protein:ie.protein+Z.protein}),{calories:0,protein:0});return v?g.jsxs("div",{className:"p-4 space-y-4",children:[g.jsxs("header",{children:[g.jsx("h1",{className:"text-2xl font-bold",children:"Food Log"}),g.jsx("p",{className:"text-muted-foreground",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})]}),g.jsx("div",{className:"p-4 bg-muted rounded-lg",children:g.jsxs("div",{className:"flex justify-around text-center",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-2xl font-bold",children:v.totalCalories}),g.jsx("p",{className:"text-sm text-muted-foreground",children:"calories"})]}),g.jsxs("div",{children:[g.jsxs("p",{className:"text-2xl font-bold",children:[v.totalProtein,"g"]}),g.jsx("p",{className:"text-sm text-muted-foreground",children:"protein"})]}),g.jsxs("div",{children:[g.jsxs("p",{className:"text-2xl font-bold",children:[v.totalFiber,"g"]}),g.jsx("p",{className:"text-sm text-muted-foreground",children:"fiber"})]})]})}),E2.map(({type:L,label:ie})=>{const Z=R(L),H=O(Z);return g.jsxs(gn,{children:[g.jsx(ni,{className:"pb-2",children:g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx(ri,{className:"text-lg",children:ie}),Z.length>0&&g.jsxs("p",{className:"text-sm text-muted-foreground",children:[H.calories," cal | ",H.protein,"g protein"]})]}),g.jsx(Et,{variant:"ghost",size:"icon",onClick:()=>_(L),children:g.jsx(mu,{className:"w-5 h-5"})})]})}),g.jsx(xn,{children:Z.length===0?g.jsx("button",{onClick:()=>_(L),className:"w-full py-4 text-center text-muted-foreground hover:bg-muted rounded-lg transition-colors",children:"+ Add food"}):g.jsxs("div",{className:"space-y-2",children:[Z.map(pe=>g.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted rounded-lg",children:[g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"font-medium truncate",children:pe.itemName}),g.jsx("p",{className:"text-sm text-muted-foreground",children:pe.servings===1?`${pe.servingSize} ${pe.servingUnit}`:`${pe.servings} x ${pe.servingSize} ${pe.servingUnit}`})]}),g.jsxs("div",{className:"text-right mr-2",children:[g.jsxs("p",{className:"font-medium",children:[pe.calories," cal"]}),g.jsxs("p",{className:"text-sm text-muted-foreground",children:[pe.protein,"g protein"]})]}),g.jsx(Et,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-destructive shrink-0",onClick:()=>x(pe.id),children:g.jsx(rd,{className:"w-4 h-4"})})]},pe.id)),g.jsx("button",{onClick:()=>_(L),className:"w-full py-2 text-center text-sm text-muted-foreground hover:bg-muted rounded-lg transition-colors",children:"+ Add more"})]})})]},L)}),g.jsx(kw,{open:s,onOpenChange:o,defaultMealType:u})]}):g.jsx("div",{className:"flex items-center justify-center min-h-screen",children:g.jsx("div",{className:"text-muted-foreground",children:"Loading..."})})}async function sd(r){const e=await He.mealPlans.where("date").equals(r).first();if(e)return e;const n={id:`plan-${r}`,date:r,meals:[],totalCalories:0,totalProtein:0,totalCarbs:0,totalFat:0,totalFiber:0,createdAt:new Date,updatedAt:new Date};return await He.mealPlans.add(n),n}function x2(r,e){return"caloriesPerServing"in r?{calories:Math.round(r.caloriesPerServing*e),protein:Math.round(r.proteinPerServing*e*10)/10,carbs:Math.round(r.carbsPerServing*e*10)/10,fat:Math.round(r.fatPerServing*e*10)/10,fiber:Math.round(r.fiberPerServing*e*10)/10}:{calories:Math.round(r.calories*e),protein:Math.round(r.protein*e*10)/10,carbs:Math.round(r.carbs*e*10)/10,fat:Math.round(r.fat*e*10)/10,fiber:Math.round(r.fiber*e*10)/10}}function Ow(r){return r.reduce((e,n)=>({totalCalories:e.totalCalories+n.calories,totalProtein:Math.round((e.totalProtein+n.protein)*10)/10,totalCarbs:Math.round((e.totalCarbs+n.carbs)*10)/10,totalFat:Math.round((e.totalFat+n.fat)*10)/10,totalFiber:Math.round((e.totalFiber+n.fiber)*10)/10}),{totalCalories:0,totalProtein:0,totalCarbs:0,totalFat:0,totalFiber:0})}async function S2(r){const e=await sd(r.date),n=x2(r.item,r.servings),s={id:crypto.randomUUID(),mealType:r.mealType,itemType:r.itemType,itemId:r.item.id,itemName:r.item.name,servings:r.servings,...n,isCompleted:!1},o=[...e.meals,s],u=Ow(o);return await He.mealPlans.update(e.id,{meals:o,...u,updatedAt:new Date}),s}async function A2(r,e){const n=await sd(r),s=n.meals.filter(u=>u.id!==e),o=Ow(s);await He.mealPlans.update(n.id,{meals:s,...o,updatedAt:new Date})}async function R2(r,e){const n=await sd(r),s=n.meals.findIndex(y=>y.id===e);if(s===-1)return;const o=n.meals[s],u=await He.foods.get(o.itemId);if(!u)return;await Iw({date:r,mealType:o.mealType,item:u,itemType:"food",servings:o.servings});const c=[...n.meals];c[s]={...o,isCompleted:!0},await He.mealPlans.update(n.id,{meals:c,updatedAt:new Date})}function C2(r=new Date){const e=[],n=new Date(r),s=n.getDay();n.setDate(n.getDate()-s);for(let o=0;o<7;o++){const u=new Date(n);u.setDate(u.getDate()+o),e.push(u)}return e}function N2(r){return r.toLocaleDateString("en-US",{weekday:"short"})}function I2(r){return r.getDate().toString()}function D2(r){const e=new Date;return r.getDate()===e.getDate()&&r.getMonth()===e.getMonth()&&r.getFullYear()===e.getFullYear()}const k2=[{value:"breakfast",label:"Breakfast"},{value:"lunch",label:"Lunch"},{value:"dinner",label:"Dinner"},{value:"snack",label:"Snack"}];function O2({open:r,onOpenChange:e,date:n,defaultMealType:s="breakfast",onMealAdded:o}){const[u,c]=q.useState("search"),[y,v]=q.useState(""),[_,x]=q.useState([]),[R,O]=q.useState([]),[L,ie]=q.useState(!1),[Z,H]=q.useState(null),[pe,de]=q.useState("1"),[ve,Fe]=q.useState(s),[Ke,Be]=q.useState(!1),D=dr(()=>He.settings.get("user-settings")),I=!!D?.usdaApiKey,j=dr(()=>He.foods.filter(Ae=>Ae.isFavorite).toArray()),B=dr(()=>He.foods.orderBy("createdAt").reverse().limit(8).toArray());q.useEffect(()=>{r||(c("search"),v(""),x([]),O([]),H(null),de("1"))},[r]),q.useEffect(()=>{Fe(s)},[s]),q.useEffect(()=>{y.length>=2?(Ig(y).then(x),I&&D?.usdaApiKey&&(ie(!0),Dg(y,D.usdaApiKey).then(Ae=>{const he=new Set(_.map(we=>we.name.toLowerCase())),Ce=Ae.filter(we=>!he.has(we.name.toLowerCase()));O(Ce.slice(0,10))}).catch(()=>O([])).finally(()=>ie(!1)))):(x([]),O([]))},[y,I,D?.usdaApiKey]);const F=Ae=>{H(Ae),c("details")},X=async Ae=>{const he=await kg(Ae);H(he),c("details")},V=async()=>{if(Z){Be(!0);try{await S2({date:n,mealType:ve,item:Z,itemType:"food",servings:parseFloat(pe)||1}),e(!1),o?.()}finally{Be(!1)}}},De=new Date(n+"T00:00:00").toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"});return g.jsx(Og,{open:r,onOpenChange:e,children:g.jsxs(Mg,{onClose:()=>e(!1),children:[u==="search"&&g.jsxs(g.Fragment,{children:[g.jsxs(dl,{children:[g.jsx(ml,{children:"Plan Meal"}),g.jsx("p",{className:"text-sm text-muted-foreground",children:De})]}),g.jsxs(pl,{className:"space-y-4",children:[g.jsxs("div",{className:"relative",children:[g.jsx(Rg,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),g.jsx($n,{placeholder:"Search foods...",value:y,onChange:Ae=>v(Ae.target.value),className:"pl-10",autoFocus:!0})]}),g.jsx("div",{className:"max-h-[50vh] overflow-y-auto space-y-4",children:y.length>=2?g.jsxs(g.Fragment,{children:[_.length>0&&g.jsxs("div",{children:[g.jsx("h3",{className:"text-xs font-medium text-muted-foreground mb-2 uppercase",children:"Your Foods"}),g.jsx("div",{className:"space-y-2",children:_.map(Ae=>g.jsx(Ap,{food:Ae,onClick:()=>F(Ae)},Ae.id))})]}),I&&g.jsxs("div",{children:[g.jsxs("h3",{className:"text-xs font-medium text-muted-foreground mb-2 uppercase flex items-center gap-1",children:[g.jsx(kf,{className:"w-3 h-3"}),"USDA Database",L&&g.jsx(ya,{className:"w-3 h-3 animate-spin"})]}),R.length>0&&g.jsx("div",{className:"space-y-2",children:R.map(Ae=>g.jsxs("button",{className:"w-full p-3 text-left bg-muted hover:bg-muted/80 rounded-lg",onClick:()=>X(Ae),children:[g.jsx("p",{className:"font-medium truncate",children:Ae.name}),g.jsxs("p",{className:"text-sm text-muted-foreground",children:[Ae.calories," cal | ",Ae.protein,"g protein"]})]},Ae.fdcId))})]})]}):g.jsxs(g.Fragment,{children:[j&&j.length>0&&g.jsxs("div",{children:[g.jsx("h3",{className:"text-xs font-medium text-muted-foreground mb-2 uppercase",children:"Favorites"}),g.jsx("div",{className:"space-y-2",children:j.map(Ae=>g.jsx(Ap,{food:Ae,onClick:()=>F(Ae)},Ae.id))})]}),B&&B.length>0&&g.jsxs("div",{children:[g.jsx("h3",{className:"text-xs font-medium text-muted-foreground mb-2 uppercase",children:"Recent"}),g.jsx("div",{className:"space-y-2",children:B.map(Ae=>g.jsx(Ap,{food:Ae,onClick:()=>F(Ae)},Ae.id))})]})]})})]})]}),u==="details"&&Z&&g.jsxs(g.Fragment,{children:[g.jsxs(dl,{children:[g.jsx(ml,{children:"Meal Details"}),g.jsx("p",{className:"text-sm text-muted-foreground",children:De})]}),g.jsxs(pl,{className:"space-y-4",children:[g.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[g.jsx("h3",{className:"font-medium",children:Z.name}),g.jsxs("p",{className:"text-sm text-muted-foreground",children:[Z.servingSize," ",Z.servingUnit," = ",Z.calories," cal"]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Meal"}),g.jsx(Ro,{value:ve,onChange:Ae=>Fe(Ae.target.value),options:k2})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Servings"}),g.jsx($n,{type:"number",step:"0.25",min:"0.25",value:pe,onChange:Ae=>de(Ae.target.value)})]})]}),g.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[g.jsx("h4",{className:"text-sm font-medium mb-2",children:"Planned Nutrition"}),g.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-muted-foreground",children:"Calories"}),g.jsx("p",{className:"font-medium",children:Math.round(Z.calories*(parseFloat(pe)||1))})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-muted-foreground",children:"Protein"}),g.jsxs("p",{className:"font-medium",children:[(Z.protein*(parseFloat(pe)||1)).toFixed(1),"g"]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-muted-foreground",children:"Fiber"}),g.jsxs("p",{className:"font-medium",children:[(Z.fiber*(parseFloat(pe)||1)).toFixed(1),"g"]})]})]})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx(Et,{variant:"outline",className:"flex-1",onClick:()=>{H(null),c("search")},children:"Back"}),g.jsx(Et,{className:"flex-1",onClick:V,disabled:Ke,children:Ke?"Adding...":"Add to Plan"})]})]})]})]})})}function Ap({food:r,onClick:e}){return g.jsxs("button",{className:"w-full p-3 text-left bg-muted hover:bg-muted/80 rounded-lg",onClick:e,children:[g.jsx("p",{className:"font-medium truncate",children:r.name}),g.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.calories," cal | ",r.protein,"g protein"]})]})}const M2=[{type:"breakfast",label:"Breakfast"},{type:"lunch",label:"Lunch"},{type:"dinner",label:"Dinner"},{type:"snack",label:"Snacks"}];function j2(){const[r,e]=q.useState(0),[n,s]=q.useState(new Date().toISOString().split("T")[0]),[o,u]=q.useState(!1),[c,y]=q.useState("breakfast"),v=C2(new Date(Date.now()+r*7*24*60*60*1e3)),_=v.map(D=>D.toISOString().split("T")[0]);q.useEffect(()=>{_.forEach(D=>{sd(D)})},[r]);const x=dr(()=>He.mealPlans.where("date").anyOf(_).toArray(),[r]),R=dr(()=>He.settings.get("user-settings")),O=D=>x?.find(I=>I.date===D),L=O(n),ie=D=>L?L.meals.filter(I=>I.mealType===D):[],Z=D=>{y(D),u(!0)},H=async D=>{await A2(n,D)},pe=async D=>{await R2(n,D)},de=()=>e(D=>D-1),ve=()=>e(D=>D+1),Fe=()=>{e(0),s(new Date().toISOString().split("T")[0])},Ke=(()=>{const D=v[0],I=v[6],j=D.toLocaleDateString("en-US",{month:"short"}),B=I.toLocaleDateString("en-US",{month:"short"});return j===B?`${j} ${D.getDate()} - ${I.getDate()}`:`${j} ${D.getDate()} - ${B} ${I.getDate()}`})(),Be=R?(R.goals.caloriesMin+R.goals.caloriesMax)/2:1400;return g.jsxs("div",{className:"p-4 space-y-4",children:[g.jsxs("header",{children:[g.jsx("h1",{className:"text-2xl font-bold",children:"Meal Plan"}),g.jsx("p",{className:"text-muted-foreground",children:"Plan your weekly meals"})]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx(Et,{variant:"ghost",size:"icon",onClick:de,children:g.jsx(RR,{className:"w-5 h-5"})}),g.jsx("button",{onClick:Fe,className:"text-sm font-medium hover:text-primary transition-colors",children:Ke}),g.jsx(Et,{variant:"ghost",size:"icon",onClick:ve,children:g.jsx(NR,{className:"w-5 h-5"})})]}),g.jsx("div",{className:"flex gap-1 justify-between",children:v.map((D,I)=>{const j=_[I],B=O(j),F=j===n,X=D2(D),V=B&&B.meals.length>0;return g.jsxs("button",{onClick:()=>s(j),className:vn("flex-1 py-2 px-1 rounded-lg text-center transition-colors min-w-0",F?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80",X&&!F&&"ring-2 ring-primary"),children:[g.jsx("p",{className:"text-xs",children:N2(D)}),g.jsx("p",{className:"text-lg font-bold",children:I2(D)}),V&&g.jsx("div",{className:vn("w-1.5 h-1.5 rounded-full mx-auto mt-1",F?"bg-primary-foreground":"bg-primary")})]},j)})}),L&&L.meals.length>0&&g.jsx(gn,{children:g.jsx(xn,{className:"py-3",children:g.jsxs("div",{className:"flex justify-around text-center",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-lg font-bold",children:L.totalCalories}),g.jsxs("p",{className:"text-xs text-muted-foreground",children:["/ ",Math.round(Be)," cal"]})]}),g.jsxs("div",{children:[g.jsxs("p",{className:"text-lg font-bold",children:[L.totalProtein,"g"]}),g.jsx("p",{className:"text-xs text-muted-foreground",children:"protein"})]}),g.jsxs("div",{children:[g.jsxs("p",{className:"text-lg font-bold",children:[L.totalFiber,"g"]}),g.jsx("p",{className:"text-xs text-muted-foreground",children:"fiber"})]})]})})}),M2.map(({type:D,label:I})=>{const j=ie(D);return g.jsxs(gn,{children:[g.jsx(ni,{className:"pb-2",children:g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx(ri,{className:"text-lg",children:I}),g.jsx(Et,{variant:"ghost",size:"icon",onClick:()=>Z(D),children:g.jsx(mu,{className:"w-5 h-5"})})]})}),g.jsx(xn,{children:j.length===0?g.jsxs("button",{onClick:()=>Z(D),className:"w-full py-4 text-center text-muted-foreground hover:bg-muted rounded-lg transition-colors",children:["+ Plan ",I.toLowerCase()]}):g.jsxs("div",{className:"space-y-2",children:[j.map(B=>g.jsx(P2,{meal:B,onMarkAsEaten:()=>pe(B.id),onRemove:()=>H(B.id)},B.id)),g.jsx("button",{onClick:()=>Z(D),className:"w-full py-2 text-center text-sm text-muted-foreground hover:bg-muted rounded-lg transition-colors",children:"+ Add more"})]})})]},D)}),g.jsx(O2,{open:o,onOpenChange:u,date:n,defaultMealType:c})]})}function P2({meal:r,onMarkAsEaten:e,onRemove:n}){return g.jsxs("div",{className:vn("flex items-center gap-3 p-3 rounded-lg",r.isCompleted?"bg-primary/10":"bg-muted"),children:[g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:vn("font-medium truncate",r.isCompleted&&"line-through text-muted-foreground"),children:r.itemName}),g.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.servings," serving",r.servings!==1?"s":""," "," ",r.calories," cal"]})]}),g.jsxs("div",{className:"flex items-center gap-1",children:[!r.isCompleted&&g.jsx(Et,{variant:"ghost",size:"icon",className:"h-9 w-9 text-primary",onClick:e,title:"Mark as eaten",children:g.jsx(jc,{className:"w-4 h-4"})}),g.jsx(Et,{variant:"ghost",size:"icon",className:"h-9 w-9 text-muted-foreground hover:text-destructive",onClick:n,title:"Remove",children:g.jsx(rd,{className:"w-4 h-4"})})]})]})}async function Mw(r){const n=(await He.inventory.filter(x=>x.status!=="finished").toArray()).map(x=>{let R;if(x.expirationDate){const O=x.expirationDate.getTime()-Date.now();R=Math.ceil(O/(1e3*60*60*24))}return{name:x.foodName,quantity:x.quantity,unit:x.unit,location:x.location,expiringDays:R}}),s=new Date().toISOString().split("T")[0],o=await He.dailyLogs.where("date").equals(s).first(),c=(await He.settings.get("user-settings"))?.goals??{caloriesMin:1350,caloriesMax:1450,proteinMin:50,proteinMax:65,fiber:20},y={calories:o?.totalCalories??0,protein:o?.totalProtein??0,fiber:o?.totalFiber??0},v=(c.caloriesMin+c.caloriesMax)/2,_=(c.proteinMin+c.proteinMax)/2;return{inventory:n,remainingGoals:{calories:Math.max(0,v-y.calories),protein:Math.max(0,_-y.protein),fiber:Math.max(0,c.fiber-y.fiber)},mealType:r}}function V2(r){const e=r.inventory.map(s=>{let o=`- ${s.name}: ${s.quantity} ${s.unit} (${s.location})`;return s.expiringDays!==void 0&&s.expiringDays<=3&&(o+=` [EXPIRES IN ${s.expiringDays} DAYS - USE FIRST]`),o}).join(`
`);return`You are a helpful nutrition assistant. Based on the user's available ingredients and remaining daily nutrition goals, suggest 3 meal ideas${r.mealType?` for ${r.mealType}`:""}.

AVAILABLE INVENTORY:
${e||"No inventory items tracked yet."}

REMAINING DAILY GOALS:
- Calories: ${Math.round(r.remainingGoals.calories)} cal
- Protein: ${Math.round(r.remainingGoals.protein)}g
- Fiber: ${Math.round(r.remainingGoals.fiber)}g

REQUIREMENTS:
1. Prioritize ingredients that are expiring soon
2. Use ingredients from the inventory when possible
3. Keep suggestions simple and practical
4. Each suggestion should help meet the remaining nutrition goals
5. If inventory is limited, suggest simple meals that use what's available plus common staples

Respond with ONLY valid JSON in this exact format:
{
  "suggestions": [
    {
      "name": "Meal Name",
      "description": "Brief description of the meal",
      "mealType": "breakfast|lunch|dinner|snack",
      "ingredients": [
        {"name": "ingredient", "amount": "quantity with unit", "fromInventory": true}
      ],
      "estimatedNutrition": {
        "calories": 400,
        "protein": 25,
        "carbs": 30,
        "fat": 15,
        "fiber": 8
      },
      "prepTime": "15 minutes",
      "instructions": ["Step 1", "Step 2"]
    }
  ]
}`}async function L2(r,e,n){const s=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({model:n||"gpt-4o-mini",messages:[{role:"system",content:"You are a nutrition assistant that provides meal suggestions in JSON format only."},{role:"user",content:r}],temperature:.7,max_tokens:2e3})});if(!s.ok){const u=await s.text();throw new Error(`OpenAI API error: ${u}`)}return(await s.json()).choices[0].message.content}async function U2(r,e,n){const s=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":e,"anthropic-version":"2023-06-01","anthropic-dangerous-direct-browser-access":"true"},body:JSON.stringify({model:n||"claude-3-5-haiku-latest",max_tokens:2e3,messages:[{role:"user",content:r}]})});if(!s.ok){const u=await s.text();throw new Error(`Anthropic API error: ${u}`)}return(await s.json()).content[0].text}async function z2(r,e,n){const o=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/${n||"gemini-2.0-flash"}:generateContent?key=${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:r}]}],generationConfig:{temperature:.7,maxOutputTokens:2e3}})});if(!o.ok){const c=await o.text();throw new Error(`Gemini API error: ${c}`)}return(await o.json()).candidates[0].content.parts[0].text}async function B2(r,e,n){const s=e.replace(/\/$/,""),o=await fetch(`${s}/api/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:n||"llama3.2",prompt:r,stream:!1})});if(!o.ok){const c=await o.text();throw new Error(`Ollama API error: ${c}`)}return(await o.json()).response}function F2(r){let e=r;const n=r.match(/```(?:json)?\s*([\s\S]*?)```/);n&&(e=n[1]);const s=e.match(/\{[\s\S]*\}/);s&&(e=s[0]);const o=JSON.parse(e);return(o.suggestions||o).map(c=>({id:crypto.randomUUID(),name:c.name,description:c.description,mealType:c.mealType||"dinner",ingredients:c.ingredients||[],estimatedNutrition:c.estimatedNutrition||{calories:0,protein:0,carbs:0,fat:0,fiber:0},prepTime:c.prepTime,instructions:c.instructions}))}async function q2(r){const e=await He.settings.get("user-settings");if((!e?.aiConfig?.provider||!e.aiConfig.apiKey)&&!(e?.aiConfig?.provider==="ollama"&&e.aiConfig.ollamaUrl))throw new Error("AI not configured. Please add your API key in Settings.");const n=await Mw(r),s=V2(n);let o;const{provider:u,apiKey:c,ollamaUrl:y,model:v}=e.aiConfig;switch(u){case"openai":if(!c)throw new Error("OpenAI API key not configured");o=await L2(s,c,v);break;case"anthropic":if(!c)throw new Error("Anthropic API key not configured");o=await U2(s,c,v);break;case"gemini":if(!c)throw new Error("Gemini API key not configured");o=await z2(s,c,v);break;case"ollama":if(!y)throw new Error("Ollama URL not configured");o=await B2(s,y,v);break;default:throw new Error(`Unknown AI provider: ${u}`)}return F2(o)}async function H2(){return Mw()}async function G2(r){const e=new Date,n={id:crypto.randomUUID(),name:r.name,description:r.description,ingredients:r.ingredients.map(s=>({foodId:"",foodName:s.name,quantity:parseFloat(s.amount.replace(/[^\d.]/g,""))||1,unit:"serving",notes:s.amount})),servings:1,caloriesPerServing:r.estimatedNutrition.calories,proteinPerServing:r.estimatedNutrition.protein,carbsPerServing:r.estimatedNutrition.carbs,fatPerServing:r.estimatedNutrition.fat,fiberPerServing:r.estimatedNutrition.fiber,prepTime:r.prepTime&&parseInt(r.prepTime)||void 0,cookTime:void 0,instructions:r.instructions||[],notes:"Generated by AI",tags:["ai-generated"],category:r.mealType,isFavorite:!1,createdAt:e,updatedAt:e};return await He.recipes.add(n),n.id}const K2=[{value:"",label:"Any meal"},{value:"breakfast",label:"Breakfast"},{value:"lunch",label:"Lunch"},{value:"dinner",label:"Dinner"},{value:"snack",label:"Snack"}];function Q2(){const[r,e]=q.useState(""),[n,s]=q.useState([]),[o,u]=q.useState(!1),[c,y]=q.useState(null),[v,_]=q.useState(null),[x,R]=q.useState(null),L=!!dr(()=>He.settings.get("user-settings"))?.aiConfig?.provider,ie=async()=>{u(!0),y(null);try{const[H,pe]=await Promise.all([q2(r||void 0),H2()]);s(H),_(pe)}catch(H){y(H instanceof Error?H.message:"Failed to get suggestions")}finally{u(!1)}},Z=H=>{R(x===H?null:H)};return g.jsxs("div",{className:"p-4 space-y-4",children:[g.jsxs("header",{children:[g.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[g.jsx(Of,{className:"w-6 h-6 text-primary"}),"AI Meal Ideas"]}),g.jsx("p",{className:"text-muted-foreground",children:"Get personalized suggestions based on your inventory"})]}),L?g.jsxs(g.Fragment,{children:[g.jsx(gn,{children:g.jsx(xn,{className:"py-4",children:g.jsxs("div",{className:"flex gap-3",children:[g.jsx("div",{className:"flex-1",children:g.jsx(Ro,{value:r,onChange:H=>e(H.target.value),options:K2})}),g.jsx(Et,{onClick:ie,disabled:o,className:"min-w-[140px]",children:o?g.jsxs(g.Fragment,{children:[g.jsx(ya,{className:"w-4 h-4 mr-2 animate-spin"}),"Thinking..."]}):n.length>0?g.jsxs(g.Fragment,{children:[g.jsx(WR,{className:"w-4 h-4 mr-2"}),"New Ideas"]}):g.jsxs(g.Fragment,{children:[g.jsx(Of,{className:"w-4 h-4 mr-2"}),"Get Ideas"]})})]})})}),v&&g.jsxs(gn,{children:[g.jsx(ni,{className:"pb-2",children:g.jsx(ri,{className:"text-sm font-medium text-muted-foreground",children:"Using for suggestions"})}),g.jsx(xn,{children:g.jsxs("div",{className:"flex justify-between text-sm",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-muted-foreground",children:"Inventory items"}),g.jsx("p",{className:"font-medium",children:v.inventory.length})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"text-muted-foreground",children:"Remaining today"}),g.jsxs("p",{className:"font-medium",children:[Math.round(v.remainingGoals.calories)," cal "," ",Math.round(v.remainingGoals.protein),"g protein "," ",Math.round(v.remainingGoals.fiber),"g fiber"]})]})]})})]}),c&&g.jsx(gn,{className:"border-destructive",children:g.jsx(xn,{className:"py-4",children:g.jsxs("div",{className:"flex items-start gap-3 text-destructive",children:[g.jsx(Yb,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium",children:"Error"}),g.jsx("p",{className:"text-sm",children:c})]})]})})}),n.length>0&&g.jsxs("div",{className:"space-y-4",children:[g.jsx("h2",{className:"text-lg font-semibold",children:"Suggested Meals"}),n.map(H=>g.jsx(Y2,{suggestion:H,isExpanded:x===H.id,onToggle:()=>Z(H.id)},H.id))]}),!o&&n.length===0&&!c&&g.jsx(gn,{children:g.jsxs(xn,{className:"py-12 text-center",children:[g.jsx(SR,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),g.jsx("h3",{className:"font-medium mb-2",children:"Ready to suggest meals"}),g.jsx("p",{className:"text-sm text-muted-foreground",children:'Tap "Get Ideas" to get AI-powered meal suggestions based on your inventory and nutrition goals.'})]})})]}):g.jsx(gn,{children:g.jsxs(xn,{className:"py-8 text-center",children:[g.jsx(Yb,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),g.jsx("h3",{className:"font-medium mb-2",children:"AI Not Configured"}),g.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Add your API key in Settings to enable AI meal suggestions."}),g.jsx(Et,{variant:"outline",onClick:()=>window.location.href="/settings",children:"Go to Settings"})]})})]})}function Y2({suggestion:r,isExpanded:e,onToggle:n}){const[s,o]=q.useState(!1),[u,c]=q.useState(!1),{estimatedNutrition:y}=r,v=async()=>{o(!0);try{await G2(r),c(!0)}finally{o(!1)}};return g.jsxs(gn,{className:"overflow-hidden",children:[g.jsxs("button",{className:"w-full text-left p-4 hover:bg-muted/50 transition-colors",onClick:n,children:[g.jsx("div",{className:"flex items-start justify-between gap-3",children:g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx("span",{className:vn("text-xs px-2 py-0.5 rounded-full font-medium",r.mealType==="breakfast"&&"bg-yellow-100 text-yellow-700",r.mealType==="lunch"&&"bg-blue-100 text-blue-700",r.mealType==="dinner"&&"bg-purple-100 text-purple-700",r.mealType==="snack"&&"bg-green-100 text-green-700"),children:r.mealType}),r.prepTime&&g.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[g.jsx(fw,{className:"w-3 h-3"}),r.prepTime]})]}),g.jsx("h3",{className:"font-semibold",children:r.name}),g.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:r.description})]})}),g.jsxs("div",{className:"flex gap-4 mt-3 text-sm",children:[g.jsxs("span",{className:"flex items-center gap-1 text-calories",children:[g.jsx(UR,{className:"w-4 h-4"}),y.calories]}),g.jsxs("span",{className:"flex items-center gap-1 text-protein",children:[g.jsx(vR,{className:"w-4 h-4"}),y.protein,"g"]}),g.jsxs("span",{className:"flex items-center gap-1 text-fiber",children:[g.jsx(cC,{className:"w-4 h-4"}),y.fiber,"g"]})]})]}),e&&g.jsxs("div",{className:"px-4 pb-4 space-y-4 border-t pt-4",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-medium mb-2",children:"Ingredients"}),g.jsx("ul",{className:"space-y-1",children:r.ingredients.map((_,x)=>g.jsxs("li",{className:"text-sm flex items-center gap-2",children:[_.fromInventory&&g.jsx(jc,{className:"w-4 h-4 text-primary flex-shrink-0"}),g.jsxs("span",{className:_.fromInventory?"":"ml-6",children:[_.amount," ",_.name]})]},x))})]}),r.instructions&&r.instructions.length>0&&g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-medium mb-2",children:"Instructions"}),g.jsx("ol",{className:"space-y-2",children:r.instructions.map((_,x)=>g.jsxs("li",{className:"text-sm flex gap-2",children:[g.jsxs("span",{className:"font-medium text-muted-foreground",children:[x+1,"."]}),g.jsx("span",{children:_})]},x))})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-medium mb-2",children:"Nutrition"}),g.jsxs("div",{className:"grid grid-cols-5 gap-2 text-center text-sm",children:[g.jsxs("div",{className:"bg-muted rounded-lg p-2",children:[g.jsx("p",{className:"text-calories font-semibold",children:y.calories}),g.jsx("p",{className:"text-xs text-muted-foreground",children:"cal"})]}),g.jsxs("div",{className:"bg-muted rounded-lg p-2",children:[g.jsxs("p",{className:"text-protein font-semibold",children:[y.protein,"g"]}),g.jsx("p",{className:"text-xs text-muted-foreground",children:"protein"})]}),g.jsxs("div",{className:"bg-muted rounded-lg p-2",children:[g.jsxs("p",{className:"text-carbs font-semibold",children:[y.carbs,"g"]}),g.jsx("p",{className:"text-xs text-muted-foreground",children:"carbs"})]}),g.jsxs("div",{className:"bg-muted rounded-lg p-2",children:[g.jsxs("p",{className:"text-fat font-semibold",children:[y.fat,"g"]}),g.jsx("p",{className:"text-xs text-muted-foreground",children:"fat"})]}),g.jsxs("div",{className:"bg-muted rounded-lg p-2",children:[g.jsxs("p",{className:"text-fiber font-semibold",children:[y.fiber,"g"]}),g.jsx("p",{className:"text-xs text-muted-foreground",children:"fiber"})]})]})]}),g.jsx("div",{className:"flex gap-2 pt-2",children:g.jsx(Et,{variant:u?"default":"outline",className:"flex-1",onClick:v,disabled:s||u,children:u?g.jsxs(g.Fragment,{children:[g.jsx(jc,{className:"w-4 h-4 mr-2"}),"Saved to Recipes"]}):s?g.jsxs(g.Fragment,{children:[g.jsx(ya,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):g.jsxs(g.Fragment,{children:[g.jsx(bR,{className:"w-4 h-4 mr-2"}),"Save as Recipe"]})})})]})]})}async function $2(r){const e=new Date,n={id:crypto.randomUUID(),foodId:r.foodId,foodName:r.foodName,quantity:r.quantity,unit:r.unit,originalQuantity:r.quantity,purchaseDate:r.purchaseDate??e,expirationDate:r.expirationDate,location:r.location,status:"available",lowThreshold:r.lowThreshold,createdAt:e,updatedAt:e};return await He.inventory.add(n),n}async function X2(r,e){const n=await He.inventory.get(r);if(!n)return;const s=e.quantity??n.quantity;let o=n.status;s<=0?o="finished":n.lowThreshold&&s<=n.lowThreshold?o="low":o="available",n.expirationDate&&new Date>n.expirationDate&&(o="expired"),await He.inventory.update(r,{...e,status:o,updatedAt:new Date})}async function W2(r){await He.inventory.delete(r)}async function J2(r,e){const n=await He.inventory.get(r);if(!n)return;const s=Math.max(0,n.quantity-e);await X2(r,{quantity:s})}function Z2(r){switch(r){case"available":return"text-primary";case"low":return"text-yellow-600";case"expired":return"text-destructive";case"finished":return"text-muted-foreground";default:return"text-foreground"}}function eN(r){const e=new Date,n=r.getTime()-e.getTime(),s=Math.ceil(n/(1e3*60*60*24));return s<0?`Expired ${Math.abs(s)} day${Math.abs(s)!==1?"s":""} ago`:s===0?"Expires today":s===1?"Expires tomorrow":s<=7?`Expires in ${s} days`:`Expires ${r.toLocaleDateString()}`}const tN=[{value:"fridge",label:"Fridge"},{value:"freezer",label:"Freezer"},{value:"pantry",label:"Pantry"},{value:"other",label:"Other"}],nN=[{value:"g",label:"grams (g)"},{value:"kg",label:"kilograms (kg)"},{value:"oz",label:"ounces (oz)"},{value:"lb",label:"pounds (lb)"},{value:"ml",label:"milliliters (ml)"},{value:"l",label:"liters (l)"},{value:"cup",label:"cups"},{value:"piece",label:"pieces"},{value:"serving",label:"servings"}];function rN({open:r,onOpenChange:e,onItemAdded:n}){const[s,o]=q.useState("search"),[u,c]=q.useState(""),[y,v]=q.useState([]),[_,x]=q.useState([]),[R,O]=q.useState(!1),[L,ie]=q.useState(null),[Z,H]=q.useState("1"),[pe,de]=q.useState("piece"),[ve,Fe]=q.useState("fridge"),[Ke,Be]=q.useState(""),[D,I]=q.useState(!1),j=dr(()=>He.settings.get("user-settings")),B=!!j?.usdaApiKey,F=dr(()=>He.foods.orderBy("createdAt").reverse().limit(10).toArray());q.useEffect(()=>{r||(o("search"),c(""),v([]),x([]),ie(null),H("1"),de("piece"),Fe("fridge"),Be(""))},[r]),q.useEffect(()=>{u.length>=2?(Ig(u).then(v),B&&j?.usdaApiKey&&(O(!0),Dg(u,j.usdaApiKey).then(Ae=>{const he=new Set(y.map(we=>we.name.toLowerCase())),Ce=Ae.filter(we=>!he.has(we.name.toLowerCase()));x(Ce.slice(0,10))}).catch(()=>x([])).finally(()=>O(!1)))):(v([]),x([]))},[u,B,j?.usdaApiKey]);const X=Ae=>{ie(Ae),de(Ae.servingUnit),o("details")},V=async Ae=>{const he=await kg(Ae);ie(he),de(he.servingUnit),o("details")},De=async()=>{if(L){I(!0);try{await $2({foodId:L.id,foodName:L.name,quantity:parseFloat(Z)||1,unit:pe,location:ve,expirationDate:Ke?new Date(Ke):void 0}),e(!1),n?.()}finally{I(!1)}}};return g.jsx(Og,{open:r,onOpenChange:e,children:g.jsxs(Mg,{onClose:()=>e(!1),children:[s==="search"&&g.jsxs(g.Fragment,{children:[g.jsx(dl,{children:g.jsx(ml,{children:"Add to Pantry"})}),g.jsxs(pl,{className:"space-y-4",children:[g.jsxs("div",{className:"relative",children:[g.jsx(Rg,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),g.jsx($n,{placeholder:"Search for a food...",value:u,onChange:Ae=>c(Ae.target.value),className:"pl-10",autoFocus:!0})]}),g.jsx("div",{className:"max-h-[60vh] overflow-y-auto space-y-4",children:u.length>=2?g.jsxs(g.Fragment,{children:[y.length>0&&g.jsxs("div",{children:[g.jsx("h3",{className:"text-xs font-medium text-muted-foreground mb-2 uppercase tracking-wide",children:"Your Foods"}),g.jsx("div",{className:"space-y-2",children:y.map(Ae=>g.jsx(Rp,{name:Ae.name,detail:Ae.brand,onClick:()=>X(Ae)},Ae.id))})]}),B&&g.jsxs("div",{children:[g.jsxs("h3",{className:"text-xs font-medium text-muted-foreground mb-2 uppercase tracking-wide flex items-center gap-1",children:[g.jsx(kf,{className:"w-3 h-3"}),"USDA Database",R&&g.jsx(ya,{className:"w-3 h-3 animate-spin ml-1"})]}),_.length>0&&g.jsx("div",{className:"space-y-2",children:_.map(Ae=>g.jsx(Rp,{name:Ae.name,detail:Ae.brand,onClick:()=>V(Ae)},Ae.fdcId))})]}),y.length===0&&_.length===0&&!R&&g.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No foods found"})]}):g.jsx(g.Fragment,{children:F&&F.length>0&&g.jsxs("div",{children:[g.jsx("h3",{className:"text-xs font-medium text-muted-foreground mb-2 uppercase tracking-wide",children:"Recent Foods"}),g.jsx("div",{className:"space-y-2",children:F.map(Ae=>g.jsx(Rp,{name:Ae.name,detail:Ae.brand,onClick:()=>X(Ae)},Ae.id))})]})})})]})]}),s==="details"&&L&&g.jsxs(g.Fragment,{children:[g.jsx(dl,{children:g.jsx(ml,{children:"Item Details"})}),g.jsxs(pl,{className:"space-y-4",children:[g.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[g.jsx("h3",{className:"font-medium",children:L.name}),L.brand&&g.jsx("p",{className:"text-sm text-muted-foreground",children:L.brand})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Quantity"}),g.jsx($n,{type:"number",step:"0.5",min:"0.5",value:Z,onChange:Ae=>H(Ae.target.value)})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Unit"}),g.jsx(Ro,{value:pe,onChange:Ae=>de(Ae.target.value),options:nN})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Storage Location"}),g.jsx(Ro,{value:ve,onChange:Ae=>Fe(Ae.target.value),options:tN})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Expiration Date (optional)"}),g.jsx($n,{type:"date",value:Ke,onChange:Ae=>Be(Ae.target.value),min:new Date().toISOString().split("T")[0]})]}),g.jsxs("div",{className:"flex gap-3 pt-2",children:[g.jsx(Et,{variant:"outline",className:"flex-1",onClick:()=>{ie(null),o("search")},children:"Back"}),g.jsx(Et,{className:"flex-1",onClick:De,disabled:D,children:D?"Adding...":"Add to Pantry"})]})]})]})]})})}function Rp({name:r,detail:e,onClick:n}){return g.jsxs("button",{className:"w-full p-3 text-left bg-muted hover:bg-muted/80 rounded-lg transition-colors min-h-[48px]",onClick:n,children:[g.jsx("p",{className:"font-medium truncate",children:r}),e&&g.jsx("p",{className:"text-sm text-muted-foreground truncate",children:e})]})}const l0=[{key:"fridge",label:"Fridge",icon:""},{key:"freezer",label:"Freezer",icon:""},{key:"pantry",label:"Pantry",icon:""},{key:"other",label:"Other",icon:""}];function iN(){const[r,e]=q.useState(!1),[n,s]=q.useState("all"),o=dr(()=>He.inventory.filter(R=>R.status!=="finished").toArray()),u=dr(()=>{const R=new Date;return R.setDate(R.getDate()+7),He.inventory.filter(O=>!O.expirationDate||O.status==="finished"?!1:new Date(O.expirationDate)<=R).toArray()}),c=R=>o?o.filter(O=>O.location===R):[],y=()=>o?n==="all"?o:o.filter(R=>R.location===n):[],v=async R=>{await W2(R)},_=async R=>{const O=R.unit==="piece"?1:R.quantity*.1;await J2(R.id,O)},x=o?.length??0;return g.jsxs("div",{className:"p-4 space-y-4",children:[g.jsxs("header",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold",children:"Pantry"}),g.jsxs("p",{className:"text-muted-foreground",children:[x," item",x!==1?"s":""," on hand"]})]}),g.jsx(Et,{size:"icon-lg",className:"rounded-full",onClick:()=>e(!0),children:g.jsx(mu,{className:"w-6 h-6"})})]}),u&&u.length>0&&g.jsx(gn,{className:"border-yellow-500/50 bg-yellow-500/10",children:g.jsx(xn,{className:"py-3",children:g.jsxs("div",{className:"flex items-center gap-2 text-yellow-700",children:[g.jsx(aC,{className:"w-5 h-5 shrink-0"}),g.jsxs("div",{children:[g.jsxs("p",{className:"font-medium",children:[u.length," item",u.length!==1?"s":""," expiring soon"]}),g.jsxs("p",{className:"text-sm opacity-80",children:[u.slice(0,2).map(R=>R.foodName).join(", "),u.length>2&&` and ${u.length-2} more`]})]})]})})}),g.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[g.jsx(Et,{variant:n==="all"?"default":"outline",size:"sm",onClick:()=>s("all"),children:"All"}),l0.map(({key:R,label:O,icon:L})=>{const ie=c(R).length;return g.jsxs(Et,{variant:n===R?"default":"outline",size:"sm",onClick:()=>s(R),children:[L," ",O," (",ie,")"]},R)})]}),!o||o.length===0?g.jsx(gn,{children:g.jsx(xn,{className:"py-12",children:g.jsxs("div",{className:"text-center space-y-4",children:[g.jsx(dw,{className:"w-12 h-12 mx-auto text-muted-foreground"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium",children:"No items in pantry"}),g.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add groceries to track what you have on hand"})]}),g.jsx(Et,{onClick:()=>e(!0),children:"Add First Item"})]})})}):n==="all"?l0.map(({key:R,label:O,icon:L})=>{const ie=c(R);return ie.length===0?null:g.jsxs(gn,{children:[g.jsx(ni,{className:"pb-2",children:g.jsxs(ri,{className:"text-lg flex items-center gap-2",children:[g.jsx("span",{children:L}),O,g.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["(",ie.length,")"]})]})}),g.jsx(xn,{children:g.jsx("div",{className:"space-y-2",children:ie.map(Z=>g.jsx(u0,{item:Z,onDeduct:()=>_(Z),onDelete:()=>v(Z.id)},Z.id))})})]},R)}):g.jsx(gn,{children:g.jsx(xn,{className:"py-4",children:y().length===0?g.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No items in this location"}):g.jsx("div",{className:"space-y-2",children:y().map(R=>g.jsx(u0,{item:R,onDeduct:()=>_(R),onDelete:()=>v(R.id)},R.id))})})}),g.jsx(rN,{open:r,onOpenChange:e})]})}function u0({item:r,onDeduct:e,onDelete:n}){const s=r.expirationDate&&new Date(r.expirationDate)<new Date,o=r.expirationDate&&!s&&Math.ceil((new Date(r.expirationDate).getTime()-new Date().getTime())/864e5)<=7;return g.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted rounded-lg",children:[g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"font-medium truncate",children:r.foodName}),g.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[g.jsxs("span",{className:Z2(r.status),children:[r.quantity," ",r.unit]}),r.expirationDate&&g.jsxs("span",{className:s?"text-destructive":o?"text-yellow-600":"text-muted-foreground",children:[" ",eN(new Date(r.expirationDate))]})]})]}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(Et,{variant:"ghost",size:"icon",className:"h-9 w-9",onClick:e,title:"Use some",children:g.jsx(QR,{className:"w-4 h-4"})}),g.jsx(Et,{variant:"ghost",size:"icon",className:"h-9 w-9 text-muted-foreground hover:text-destructive",onClick:n,title:"Remove",children:g.jsx(rd,{className:"w-4 h-4"})})]})]})}const sN=()=>{};var c0={};const jw=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},aN=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],c=r[n++],y=r[n++],v=((o&7)<<18|(u&63)<<12|(c&63)<<6|y&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const u=r[n++],c=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},Pw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],c=o+1<r.length,y=c?r[o+1]:0,v=o+2<r.length,_=v?r[o+2]:0,x=u>>2,R=(u&3)<<4|y>>4;let O=(y&15)<<2|_>>6,L=_&63;v||(L=64,c||(O=64)),s.push(n[x],n[R],n[O],n[L])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(jw(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):aN(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],y=o<r.length?n[r.charAt(o)]:0;++o;const _=o<r.length?n[r.charAt(o)]:64;++o;const R=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||y==null||_==null||R==null)throw new oN;const O=u<<2|y>>4;if(s.push(O),_!==64){const L=y<<4&240|_>>2;if(s.push(L),R!==64){const ie=_<<6&192|R;s.push(ie)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class oN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lN=function(r){const e=jw(r);return Pw.encodeByteArray(e,!0)},jf=function(r){return lN(r).replace(/\./g,"")},Vw=function(r){try{return Pw.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function uN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const cN=()=>uN().__FIREBASE_DEFAULTS__,hN=()=>{if(typeof process>"u"||typeof c0>"u")return;const r=c0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},fN=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Vw(r[1]);return e&&JSON.parse(e)},ad=()=>{try{return sN()||cN()||hN()||fN()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Lw=r=>ad()?.emulatorHosts?.[r],dN=r=>{const e=Lw(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Uw=()=>ad()?.config,zw=r=>ad()?.[`_${r}`];class mN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Ru(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Bw(r){return(await fetch(r,{credentials:"include"})).ok}function pN(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[jf(JSON.stringify(n)),jf(JSON.stringify(c)),""].join(".")}const Cc={};function gN(){const r={prod:[],emulator:[]};for(const e of Object.keys(Cc))Cc[e]?r.emulator.push(e):r.prod.push(e);return r}function yN(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let h0=!1;function Fw(r,e){if(typeof window>"u"||typeof document>"u"||!Ru(window.location.host)||Cc[r]===e||Cc[r]||h0)return;Cc[r]=e;function n(O){return`__firebase__banner__${O}`}const s="__firebase__banner",u=gN().prod.length>0;function c(){const O=document.getElementById(s);O&&O.remove()}function y(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function v(O,L){O.setAttribute("width","24"),O.setAttribute("id",L),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function _(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{h0=!0,c()},O}function x(O,L){O.setAttribute("id",L),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function R(){const O=yN(s),L=n("text"),ie=document.getElementById(L)||document.createElement("span"),Z=n("learnmore"),H=document.getElementById(Z)||document.createElement("a"),pe=n("preprendIcon"),de=document.getElementById(pe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const ve=O.element;y(ve),x(H,Z);const Fe=_();v(de,pe),ve.append(de,ie,H,Fe),document.body.appendChild(ve)}u?(ie.innerText="Preview backend disconnected.",de.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(de.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ie.innerText="Preview backend running in this workspace."),ie.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}function xr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xr())}function _N(){const r=ad()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wN(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function EN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TN(){const r=xr();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function xN(){return!_N()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SN(){try{return typeof indexedDB=="object"}catch{return!1}}function AN(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const RN="FirebaseError";class Aa extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=RN,Object.setPrototypeOf(this,Aa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qc.prototype.create)}}class Qc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?CN(u,s):"Error",y=`${this.serviceName}: ${c} (${o}).`;return new Aa(o,y,s)}}function CN(r,e){return r.replace(NN,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const NN=/\{\$([^}]+)}/g;function IN(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function gl(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],c=e[o];if(f0(u)&&f0(c)){if(!gl(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function f0(r){return r!==null&&typeof r=="object"}function Yc(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function DN(r,e){const n=new kN(r,e);return n.subscribe.bind(n)}class kN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");ON(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Cp),o.error===void 0&&(o.error=Cp),o.complete===void 0&&(o.complete=Cp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ON(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Cp(){}function Wn(r){return r&&r._delegate?r._delegate:r}class yl{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ol="[DEFAULT]";class MN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new mN;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PN(e))try{this.getOrInitializeService({instanceIdentifier:ol})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ol){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ol){return this.instances.has(e)}getOptions(e=ol){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,c]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(u);s===y&&c.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:jN(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ol){return this.component?this.component.multipleInstances?e:ol:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jN(r){return r===ol?void 0:r}function PN(r){return r.instantiationMode==="EAGER"}class VN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new MN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Nt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Nt||(Nt={}));const LN={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},UN=Nt.INFO,zN={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},BN=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=zN[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jg{constructor(e){this.name=e,this._logLevel=UN,this._logHandler=BN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...e),this._logHandler(this,Nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...e),this._logHandler(this,Nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...e),this._logHandler(this,Nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...e),this._logHandler(this,Nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...e),this._logHandler(this,Nt.ERROR,...e)}}const FN=(r,e)=>e.some(n=>r instanceof n);let d0,m0;function qN(){return d0||(d0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HN(){return m0||(m0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qw=new WeakMap,Gp=new WeakMap,Hw=new WeakMap,Np=new WeakMap,Pg=new WeakMap;function GN(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",c)},u=()=>{n(wo(r.result)),o()},c=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&qw.set(n,r)}).catch(()=>{}),Pg.set(e,r),e}function KN(r){if(Gp.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",c),r.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",c),r.addEventListener("abort",c)});Gp.set(r,e)}let Kp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Gp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Hw.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wo(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function QN(r){Kp=r(Kp)}function YN(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Ip(this),e,...n);return Hw.set(s,e.sort?e.sort():[e]),wo(s)}:HN().includes(r)?function(...e){return r.apply(Ip(this),e),wo(qw.get(this))}:function(...e){return wo(r.apply(Ip(this),e))}}function $N(r){return typeof r=="function"?YN(r):(r instanceof IDBTransaction&&KN(r),FN(r,qN())?new Proxy(r,Kp):r)}function wo(r){if(r instanceof IDBRequest)return GN(r);if(Np.has(r))return Np.get(r);const e=$N(r);return e!==r&&(Np.set(r,e),Pg.set(e,r)),e}const Ip=r=>Pg.get(r);function XN(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(r,e),y=wo(c);return s&&c.addEventListener("upgradeneeded",v=>{s(wo(c.result),v.oldVersion,v.newVersion,wo(c.transaction),v)}),n&&c.addEventListener("blocked",v=>n(v.oldVersion,v.newVersion,v)),y.then(v=>{u&&v.addEventListener("close",()=>u()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const WN=["get","getKey","getAll","getAllKeys","count"],JN=["put","add","delete","clear"],Dp=new Map;function p0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Dp.get(e))return Dp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=JN.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||WN.includes(n)))return;const u=async function(c,...y){const v=this.transaction(c,o?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(y.shift())),(await Promise.all([_[n](...y),o&&v.done]))[0]};return Dp.set(e,u),u}QN(r=>({...r,get:(e,n,s)=>p0(e,n)||r.get(e,n,s),has:(e,n)=>!!p0(e,n)||r.has(e,n)}));class ZN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function eI(r){return r.getComponent()?.type==="VERSION"}const Qp="@firebase/app",g0="0.14.6";const Ea=new jg("@firebase/app"),tI="@firebase/app-compat",nI="@firebase/analytics-compat",rI="@firebase/analytics",iI="@firebase/app-check-compat",sI="@firebase/app-check",aI="@firebase/auth",oI="@firebase/auth-compat",lI="@firebase/database",uI="@firebase/data-connect",cI="@firebase/database-compat",hI="@firebase/functions",fI="@firebase/functions-compat",dI="@firebase/installations",mI="@firebase/installations-compat",pI="@firebase/messaging",gI="@firebase/messaging-compat",yI="@firebase/performance",vI="@firebase/performance-compat",_I="@firebase/remote-config",bI="@firebase/remote-config-compat",wI="@firebase/storage",EI="@firebase/storage-compat",TI="@firebase/firestore",xI="@firebase/ai",SI="@firebase/firestore-compat",AI="firebase",RI="12.6.0";const Yp="[DEFAULT]",CI={[Qp]:"fire-core",[tI]:"fire-core-compat",[rI]:"fire-analytics",[nI]:"fire-analytics-compat",[sI]:"fire-app-check",[iI]:"fire-app-check-compat",[aI]:"fire-auth",[oI]:"fire-auth-compat",[lI]:"fire-rtdb",[uI]:"fire-data-connect",[cI]:"fire-rtdb-compat",[hI]:"fire-fn",[fI]:"fire-fn-compat",[dI]:"fire-iid",[mI]:"fire-iid-compat",[pI]:"fire-fcm",[gI]:"fire-fcm-compat",[yI]:"fire-perf",[vI]:"fire-perf-compat",[_I]:"fire-rc",[bI]:"fire-rc-compat",[wI]:"fire-gcs",[EI]:"fire-gcs-compat",[TI]:"fire-fst",[SI]:"fire-fst-compat",[xI]:"fire-vertex","fire-js":"fire-js",[AI]:"fire-js-all"};const Pf=new Map,NI=new Map,$p=new Map;function y0(r,e){try{r.container.addComponent(e)}catch(n){Ea.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function gu(r){const e=r.name;if($p.has(e))return Ea.debug(`There were multiple attempts to register component ${e}.`),!1;$p.set(e,r);for(const n of Pf.values())y0(n,r);for(const n of NI.values())y0(n,r);return!0}function Vg(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function cs(r){return r==null?!1:r.settings!==void 0}const II={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Eo=new Qc("app","Firebase",II);class DI{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new yl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Eo.create("app-deleted",{appName:this._name})}}const Cu=RI;function Gw(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Yp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Eo.create("bad-app-name",{appName:String(o)});if(n||(n=Uw()),!n)throw Eo.create("no-options");const u=Pf.get(o);if(u){if(gl(n,u.options)&&gl(s,u.config))return u;throw Eo.create("duplicate-app",{appName:o})}const c=new VN(o);for(const v of $p.values())c.addComponent(v);const y=new DI(n,s,c);return Pf.set(o,y),y}function Kw(r=Yp){const e=Pf.get(r);if(!e&&r===Yp&&Uw())return Gw();if(!e)throw Eo.create("no-app",{appName:r});return e}function To(r,e,n){let s=CI[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ea.warn(c.join(" "));return}gu(new yl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const kI="firebase-heartbeat-database",OI=1,Pc="firebase-heartbeat-store";let kp=null;function Qw(){return kp||(kp=XN(kI,OI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Pc)}catch(n){console.warn(n)}}}}).catch(r=>{throw Eo.create("idb-open",{originalErrorMessage:r.message})})),kp}async function MI(r){try{const n=(await Qw()).transaction(Pc),s=await n.objectStore(Pc).get(Yw(r));return await n.done,s}catch(e){if(e instanceof Aa)Ea.warn(e.message);else{const n=Eo.create("idb-get",{originalErrorMessage:e?.message});Ea.warn(n.message)}}}async function v0(r,e){try{const s=(await Qw()).transaction(Pc,"readwrite");await s.objectStore(Pc).put(e,Yw(r)),await s.done}catch(n){if(n instanceof Aa)Ea.warn(n.message);else{const s=Eo.create("idb-set",{originalErrorMessage:n?.message});Ea.warn(s.message)}}}function Yw(r){return`${r.name}!${r.options.appId}`}const jI=1024,PI=30;class VI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new UI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=_0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>PI){const o=zI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ea.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=_0(),{heartbeatsToSend:n,unsentEntries:s}=LI(this._heartbeatsCache.heartbeats),o=jf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ea.warn(e),""}}}function _0(){return new Date().toISOString().substring(0,10)}function LI(r,e=jI){const n=[];let s=r.slice();for(const o of r){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),b0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),b0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class UI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SN()?AN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await MI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return v0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return v0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function b0(r){return jf(JSON.stringify({version:2,heartbeats:r})).length}function zI(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function BI(r){gu(new yl("platform-logger",e=>new ZN(e),"PRIVATE")),gu(new yl("heartbeat",e=>new VI(e),"PRIVATE")),To(Qp,g0,r),To(Qp,g0,"esm2020"),To("fire-js","")}BI("");function $w(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FI=$w,Xw=new Qc("auth","Firebase",$w());const Vf=new jg("@firebase/auth");function qI(r,...e){Vf.logLevel<=Nt.WARN&&Vf.warn(`Auth (${Cu}): ${r}`,...e)}function wf(r,...e){Vf.logLevel<=Nt.ERROR&&Vf.error(`Auth (${Cu}): ${r}`,...e)}function js(r,...e){throw Ug(r,...e)}function fs(r,...e){return Ug(r,...e)}function Lg(r,e,n){const s={...FI(),[e]:n};return new Qc("auth","Firebase",s).create(e,{appName:r.name})}function cl(r){return Lg(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function HI(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&js(r,"argument-error"),Lg(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ug(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return Xw.create(r,...e)}function lt(r,e,...n){if(!r)throw Ug(e,...n)}function va(r){const e="INTERNAL ASSERTION FAILED: "+r;throw wf(e),new Error(e)}function Ta(r,e){r||va(e)}function Xp(){return typeof self<"u"&&self.location?.href||""}function GI(){return w0()==="http:"||w0()==="https:"}function w0(){return typeof self<"u"&&self.location?.protocol||null}function KI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GI()||wN()||"connection"in navigator)?navigator.onLine:!0}function QI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class $c{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ta(n>e,"Short delay should be less than long delay!"),this.isMobile=vN()||EN()}get(){return KI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function zg(r,e){Ta(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Ww{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;va("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;va("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;va("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const YI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const $I=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XI=new $c(3e4,6e4);function Bg(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Nu(r,e,n,s,o={}){return Jw(r,o,async()=>{let u={},c={};s&&(e==="GET"?c=s:u={body:JSON.stringify(s)});const y=Yc({key:r.config.apiKey,...c}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const _={method:e,headers:v,...u};return bN()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Ru(r.emulatorConfig.host)&&(_.credentials="include"),Ww.fetch()(await Zw(r,r.config.apiHost,n,y),_)})}async function Jw(r,e,n){r._canInitEmulator=!1;const s={...YI,...e};try{const o=new JI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw ff(r,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const y=u.ok?c.errorMessage:c.error.message,[v,_]=y.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw ff(r,"credential-already-in-use",c);if(v==="EMAIL_EXISTS")throw ff(r,"email-already-in-use",c);if(v==="USER_DISABLED")throw ff(r,"user-disabled",c);const x=s[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Lg(r,x,_);js(r,x)}}catch(o){if(o instanceof Aa)throw o;js(r,"network-request-failed",{message:String(o)})}}async function WI(r,e,n,s,o={}){const u=await Nu(r,e,n,s,o);return"mfaPendingCredential"in u&&js(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function Zw(r,e,n,s){const o=`${e}${n}?${s}`,u=r,c=u.config.emulator?zg(r.config,o):`${r.config.apiScheme}://${o}`;return $I.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class JI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(fs(this.auth,"network-request-failed")),XI.get())})}}function ff(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=fs(r,e,s);return o.customData._tokenResponse=n,o}async function ZI(r,e){return Nu(r,"POST","/v1/accounts:delete",e)}async function Lf(r,e){return Nu(r,"POST","/v1/accounts:lookup",e)}function Nc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eD(r,e=!1){const n=Wn(r),s=await n.getIdToken(e),o=Fg(s);lt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:s,authTime:Nc(Op(o.auth_time)),issuedAtTime:Nc(Op(o.iat)),expirationTime:Nc(Op(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Op(r){return Number(r)*1e3}function Fg(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return wf("JWT malformed, contained fewer than 3 sections"),null;try{const o=Vw(n);return o?JSON.parse(o):(wf("Failed to decode base64 JWT payload"),null)}catch(o){return wf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function E0(r){const e=Fg(r);return lt(e,"internal-error"),lt(typeof e.exp<"u","internal-error"),lt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Vc(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Aa&&tD(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function tD({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class nD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Wp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nc(this.lastLoginAt),this.creationTime=Nc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Uf(r){const e=r.auth,n=await r.getIdToken(),s=await Vc(r,Lf(e,{idToken:n}));lt(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?eE(o.providerUserInfo):[],c=iD(r.providerData,u),y=r.isAnonymous,v=!(r.email&&o.passwordHash)&&!c?.length,_=y?v:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Wp(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(r,x)}async function rD(r){const e=Wn(r);await Uf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iD(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function eE(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function sD(r,e){const n=await Jw(r,{},async()=>{const s=Yc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,c=await Zw(r,o,"/v1/token",`key=${u}`),y=await r._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:y,body:s};return r.emulatorConfig&&Ru(r.emulatorConfig.host)&&(v.credentials="include"),Ww.fetch()(c,v)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function aD(r,e){return Nu(r,"POST","/v2/accounts:revokeToken",Bg(r,e))}class cu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){lt(e.idToken,"internal-error"),lt(typeof e.idToken<"u","internal-error"),lt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):E0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){lt(e.length!==0,"internal-error");const n=E0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(lt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await sD(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,c=new cu;return s&&(lt(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(lt(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(lt(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cu,this.toJSON())}_performRefresh(){return va("not implemented")}}function mo(r,e){lt(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class hs{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new nD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Wp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Vc(this,this.stsTokenManager.getToken(this.auth,e));return lt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return eD(this,e)}reload(){return rD(this)}_assign(e){this!==e&&(lt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){lt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Uf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cs(this.auth.app))return Promise.reject(cl(this.auth));const e=await this.getIdToken();return await Vc(this,ZI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,c=n.photoURL??void 0,y=n.tenantId??void 0,v=n._redirectEventId??void 0,_=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:R,emailVerified:O,isAnonymous:L,providerData:ie,stsTokenManager:Z}=n;lt(R&&Z,e,"internal-error");const H=cu.fromJSON(this.name,Z);lt(typeof R=="string",e,"internal-error"),mo(s,e.name),mo(o,e.name),lt(typeof O=="boolean",e,"internal-error"),lt(typeof L=="boolean",e,"internal-error"),mo(u,e.name),mo(c,e.name),mo(y,e.name),mo(v,e.name),mo(_,e.name),mo(x,e.name);const pe=new hs({uid:R,auth:e,email:o,emailVerified:O,displayName:s,isAnonymous:L,photoURL:c,phoneNumber:u,tenantId:y,stsTokenManager:H,createdAt:_,lastLoginAt:x});return ie&&Array.isArray(ie)&&(pe.providerData=ie.map(de=>({...de}))),v&&(pe._redirectEventId=v),pe}static async _fromIdTokenResponse(e,n,s=!1){const o=new cu;o.updateFromServerResponse(n);const u=new hs({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Uf(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];lt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?eE(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,y=new cu;y.updateFromIdToken(s);const v=new hs({uid:o.localId,auth:e,stsTokenManager:y,isAnonymous:c}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Wp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(v,_),v}}const T0=new Map;function _a(r){Ta(r instanceof Function,"Expected a class definition");let e=T0.get(r);return e?(Ta(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,T0.set(r,e),e)}class tE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}tE.type="NONE";const x0=tE;function Ef(r,e,n){return`firebase:${r}:${e}:${n}`}class hu{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Ef(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ef("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Lf(this.auth,{idToken:e}).catch(()=>{});return n?hs._fromGetAccountInfoResponse(this.auth,n,e):null}return hs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new hu(_a(x0),e,s);const o=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||_a(x0);const c=Ef(s,e.config.apiKey,e.name);let y=null;for(const _ of n)try{const x=await _._get(c);if(x){let R;if(typeof x=="string"){const O=await Lf(e,{idToken:x}).catch(()=>{});if(!O)break;R=await hs._fromGetAccountInfoResponse(e,O,x)}else R=hs._fromJSON(e,x);_!==u&&(y=R),u=_;break}}catch{}const v=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!v.length?new hu(u,e,s):(u=v[0],y&&await u._set(c,y.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(c)}catch{}})),new hu(u,e,s))}}function S0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oE(e))return"Blackberry";if(lE(e))return"Webos";if(rE(e))return"Safari";if((e.includes("chrome/")||iE(e))&&!e.includes("edge/"))return"Chrome";if(aE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function nE(r=xr()){return/firefox\//i.test(r)}function rE(r=xr()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iE(r=xr()){return/crios\//i.test(r)}function sE(r=xr()){return/iemobile/i.test(r)}function aE(r=xr()){return/android/i.test(r)}function oE(r=xr()){return/blackberry/i.test(r)}function lE(r=xr()){return/webos/i.test(r)}function qg(r=xr()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function oD(r=xr()){return qg(r)&&!!window.navigator?.standalone}function lD(){return TN()&&document.documentMode===10}function uE(r=xr()){return qg(r)||aE(r)||lE(r)||oE(r)||/windows phone/i.test(r)||sE(r)}function cE(r,e=[]){let n;switch(r){case"Browser":n=S0(xr());break;case"Worker":n=`${S0(xr())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Cu}/${s}`}class uD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((c,y)=>{try{const v=e(u);c(v)}catch(v){y(v)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function cD(r,e={}){return Nu(r,"GET","/v2/passwordPolicy",Bg(r,e))}const hD=6;class fD{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??hD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class dD{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new A0(this),this.idTokenSubscription=new A0(this),this.beforeStateQueue=new uD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_a(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await hu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Lf(this,{idToken:e}),s=await hs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(cs(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=s?._redirectEventId,y=await this.tryRedirectSignIn(e);(!u||u===c)&&y?.user&&(s=y.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return lt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Uf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cs(this.app))return Promise.reject(cl(this));const n=e?Wn(e):null;return n&&lt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&lt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cs(this.app)?Promise.reject(cl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cs(this.app)?Promise.reject(cl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_a(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cD(this),n=new fD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await aD(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_a(e)||this._popupRedirectResolver;lt(n,this,"argument-error"),this.redirectPersistenceManager=await hu.create(this,[_a(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(lt(y,this,"internal-error"),y.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const v=e.addObserver(n,s,o);return()=>{c=!0,v()}}else{const v=e.addObserver(n);return()=>{c=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return lt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(cs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&qI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function od(r){return Wn(r)}class A0{constructor(e){this.auth=e,this.observer=null,this.addObserver=DN(n=>this.observer=n)}get next(){return lt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Hg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mD(r){Hg=r}function pD(r){return Hg.loadJS(r)}function gD(){return Hg.gapiScript}function yD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function vD(r,e){const n=Vg(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(gl(u,e??{}))return o;js(o,"already-initialized")}return n.initialize({options:e})}function _D(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(_a);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function bD(r,e,n){const s=od(r);lt(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=hE(e),{host:c,port:y}=wD(e),v=y===null?"":`:${y}`,_={url:`${u}//${c}${v}/`},x=Object.freeze({host:c,port:y,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){lt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),lt(gl(_,s.config.emulator)&&gl(x,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=x,s.settings.appVerificationDisabledForTesting=!0,Ru(c)?(Bw(`${u}//${c}${v}`),Fw("Auth",!0)):ED()}function hE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function wD(r){const e=hE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:R0(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:R0(c)}}}function R0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function ED(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class fE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return va("not implemented")}_getIdTokenResponse(e){return va("not implemented")}_linkToIdToken(e,n){return va("not implemented")}_getReauthenticationResolver(e){return va("not implemented")}}async function fu(r,e){return WI(r,"POST","/v1/accounts:signInWithIdp",Bg(r,e))}const TD="http://localhost";class vl extends fE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new vl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):js("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const c=new vl(s,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return fu(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,fu(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fu(e,n)}buildRequest(){const e={requestUri:TD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yc(n)}return e}}class Gg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Xc extends Gg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class yo extends Xc{constructor(){super("facebook.com")}static credential(e){return vl._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yo.credential(e.oauthAccessToken)}catch{return null}}}yo.FACEBOOK_SIGN_IN_METHOD="facebook.com";yo.PROVIDER_ID="facebook.com";class ga extends Xc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return vl._fromParams({providerId:ga.PROVIDER_ID,signInMethod:ga.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ga.credentialFromTaggedObject(e)}static credentialFromError(e){return ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ga.credential(n,s)}catch{return null}}}ga.GOOGLE_SIGN_IN_METHOD="google.com";ga.PROVIDER_ID="google.com";class vo extends Xc{constructor(){super("github.com")}static credential(e){return vl._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vo.credential(e.oauthAccessToken)}catch{return null}}}vo.GITHUB_SIGN_IN_METHOD="github.com";vo.PROVIDER_ID="github.com";class _o extends Xc{constructor(){super("twitter.com")}static credential(e,n){return vl._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return _o.credential(n,s)}catch{return null}}}_o.TWITTER_SIGN_IN_METHOD="twitter.com";_o.PROVIDER_ID="twitter.com";class yu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await hs._fromIdTokenResponse(e,s,o),c=C0(s);return new yu({user:u,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=C0(s);return new yu({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function C0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class zf extends Aa{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,zf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new zf(e,n,s,o)}}function dE(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?zf._fromErrorAndOperation(r,u,e,s):u})}async function xD(r,e,n=!1){const s=await Vc(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return yu._forOperation(r,"link",s)}async function SD(r,e,n=!1){const{auth:s}=r;if(cs(s.app))return Promise.reject(cl(s));const o="reauthenticate";try{const u=await Vc(r,dE(s,o,e,r),n);lt(u.idToken,s,"internal-error");const c=Fg(u.idToken);lt(c,s,"internal-error");const{sub:y}=c;return lt(r.uid===y,s,"user-mismatch"),yu._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&js(s,"user-mismatch"),u}}async function AD(r,e,n=!1){if(cs(r.app))return Promise.reject(cl(r));const s="signIn",o=await dE(r,s,e),u=await yu._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function RD(r,e,n,s){return Wn(r).onIdTokenChanged(e,n,s)}function CD(r,e,n){return Wn(r).beforeAuthStateChanged(e,n)}function ND(r,e,n,s){return Wn(r).onAuthStateChanged(e,n,s)}function ID(r){return Wn(r).signOut()}const Bf="__sak";class mE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bf,"1"),this.storage.removeItem(Bf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const DD=1e3,kD=10;class pE extends mE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,y,v)=>{this.notifyListeners(c,v)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);lD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,kD):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},DD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}pE.type="LOCAL";const OD=pE;class gE extends mE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gE.type="SESSION";const yE=gE;function MD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class ld{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new ld(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const y=Array.from(c).map(async _=>_(n.origin,u)),v=await MD(y);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:v})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ld.receivers=[];function Kg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class jD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((y,v)=>{const _=Kg("",20);o.port1.start();const x=setTimeout(()=>{v(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(R){const O=R;if(O.data.eventId===_)switch(O.data.status){case"ack":clearTimeout(x),u=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),y(O.data.response);break;default:clearTimeout(x),clearTimeout(u),v(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Ns(){return window}function PD(r){Ns().location.href=r}function vE(){return typeof Ns().WorkerGlobalScope<"u"&&typeof Ns().importScripts=="function"}async function VD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LD(){return navigator?.serviceWorker?.controller||null}function UD(){return vE()?self:null}const _E="firebaseLocalStorageDb",zD=1,Ff="firebaseLocalStorage",bE="fbase_key";class Wc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ud(r,e){return r.transaction([Ff],e?"readwrite":"readonly").objectStore(Ff)}function BD(){const r=indexedDB.deleteDatabase(_E);return new Wc(r).toPromise()}function Jp(){const r=indexedDB.open(_E,zD);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ff,{keyPath:bE})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ff)?e(s):(s.close(),await BD(),e(await Jp()))})})}async function N0(r,e,n){const s=ud(r,!0).put({[bE]:e,value:n});return new Wc(s).toPromise()}async function FD(r,e){const n=ud(r,!1).get(e),s=await new Wc(n).toPromise();return s===void 0?null:s.value}function I0(r,e){const n=ud(r,!0).delete(e);return new Wc(n).toPromise()}const qD=800,HD=3;class wE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>HD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ld._getInstance(UD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await VD(),!this.activeServiceWorker)return;this.sender=new jD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||LD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jp();return await N0(e,Bf,"1"),await I0(e,Bf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>N0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>FD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>I0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=ud(o,!1).getAll();return new Wc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wE.type="LOCAL";const GD=wE;new $c(3e4,6e4);function EE(r,e){return e?_a(e):(lt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Qg extends fE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function KD(r){return AD(r.auth,new Qg(r),r.bypassAuthState)}function QD(r){const{auth:e,user:n}=r;return lt(n,e,"internal-error"),SD(n,new Qg(r),r.bypassAuthState)}async function YD(r){const{auth:e,user:n}=r;return lt(n,e,"internal-error"),xD(n,new Qg(r),r.bypassAuthState)}class TE{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:c,type:y}=e;if(c){this.reject(c);return}const v={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(v))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KD;case"linkViaPopup":case"linkViaRedirect":return YD;case"reauthViaPopup":case"reauthViaRedirect":return QD;default:js(this.auth,"internal-error")}}resolve(e){Ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $D=new $c(2e3,1e4);async function XD(r,e,n){if(cs(r.app))return Promise.reject(fs(r,"operation-not-supported-in-this-environment"));const s=od(r);HI(r,e,Gg);const o=EE(s,n);return new ll(s,"signInViaPopup",e,o).executeNotNull()}class ll extends TE{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ll.currentPopupAction&&ll.currentPopupAction.cancel(),ll.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return lt(e,this.auth,"internal-error"),e}async onExecution(){Ta(this.filter.length===1,"Popup operations only handle one event");const e=Kg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(fs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ll.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$D.get())};e()}}ll.currentPopupAction=null;const WD="pendingRedirect",Tf=new Map;class JD extends TE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Tf.get(this.auth._key());if(!e){try{const s=await ZD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Tf.set(this.auth._key(),e)}return this.bypassAuthState||Tf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZD(r,e){const n=nk(e),s=tk(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function ek(r,e){Tf.set(r._key(),e)}function tk(r){return _a(r._redirectPersistence)}function nk(r){return Ef(WD,r.config.apiKey,r.name)}async function rk(r,e,n=!1){if(cs(r.app))return Promise.reject(cl(r));const s=od(r),o=EE(s,e),c=await new JD(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const ik=600*1e3;class sk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ak(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!xE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(fs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ik&&this.cachedEventUids.clear(),this.cachedEventUids.has(D0(e))}saveEventToCache(e){this.cachedEventUids.add(D0(e)),this.lastProcessedEventTime=Date.now()}}function D0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function xE({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function ak(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xE(r);default:return!1}}async function ok(r,e={}){return Nu(r,"GET","/v1/projects",e)}const lk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uk=/^https?/;async function ck(r){if(r.config.emulator)return;const{authorizedDomains:e}=await ok(r);for(const n of e)try{if(hk(n))return}catch{}js(r,"unauthorized-domain")}function hk(r){const e=Xp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!uk.test(n))return!1;if(lk.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const fk=new $c(3e4,6e4);function k0(){const r=Ns().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function dk(r){return new Promise((e,n)=>{function s(){k0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{k0(),n(fs(r,"network-request-failed"))},timeout:fk.get()})}if(Ns().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ns().gapi?.load)s();else{const o=yD("iframefcb");return Ns()[o]=()=>{gapi.load?s():n(fs(r,"network-request-failed"))},pD(`${gD()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw xf=null,e})}let xf=null;function mk(r){return xf=xf||dk(r),xf}const pk=new $c(5e3,15e3),gk="__/auth/iframe",yk="emulator/auth/iframe",vk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_k=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bk(r){const e=r.config;lt(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?zg(e,yk):`https://${r.config.authDomain}/${gk}`,s={apiKey:e.apiKey,appName:r.name,v:Cu},o=_k.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Yc(s).slice(1)}`}async function wk(r){const e=await mk(r),n=Ns().gapi;return lt(n,r,"internal-error"),e.open({where:document.body,url:bk(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vk,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const c=fs(r,"network-request-failed"),y=Ns().setTimeout(()=>{u(c)},pk.get());function v(){Ns().clearTimeout(y),o(s)}s.ping(v).then(v,()=>{u(c)})}))}const Ek={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Tk=500,xk=600,Sk="_blank",Ak="http://localhost";class O0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Rk(r,e,n,s=Tk,o=xk){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let y="";const v={...Ek,width:s.toString(),height:o.toString(),top:u,left:c},_=xr().toLowerCase();n&&(y=iE(_)?Sk:n),nE(_)&&(e=e||Ak,v.scrollbars="yes");const x=Object.entries(v).reduce((O,[L,ie])=>`${O}${L}=${ie},`,"");if(oD(_)&&y!=="_self")return Ck(e||"",y),new O0(null);const R=window.open(e||"",y,x);lt(R,r,"popup-blocked");try{R.focus()}catch{}return new O0(R)}function Ck(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const Nk="__/auth/handler",Ik="emulator/auth/handler",Dk=encodeURIComponent("fac");async function M0(r,e,n,s,o,u){lt(r.config.authDomain,r,"auth-domain-config-required"),lt(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Cu,eventId:o};if(e instanceof Gg){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",IN(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,R]of Object.entries({}))c[x]=R}if(e instanceof Xc){const x=e.getScopes().filter(R=>R!=="");x.length>0&&(c.scopes=x.join(","))}r.tenantId&&(c.tid=r.tenantId);const y=c;for(const x of Object.keys(y))y[x]===void 0&&delete y[x];const v=await r._getAppCheckToken(),_=v?`#${Dk}=${encodeURIComponent(v)}`:"";return`${kk(r)}?${Yc(y).slice(1)}${_}`}function kk({config:r}){return r.emulator?zg(r,Ik):`https://${r.authDomain}/${Nk}`}const Mp="webStorageSupport";class Ok{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yE,this._completeRedirectFn=rk,this._overrideRedirectResult=ek}async _openPopup(e,n,s,o){Ta(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await M0(e,n,s,Xp(),o);return Rk(e,u,Kg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await M0(e,n,s,Xp(),o);return PD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ta(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await wk(e),s=new sk(e);return n.register("authEvent",o=>(lt(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mp,{type:Mp},o=>{const u=o?.[0]?.[Mp];u!==void 0&&n(!!u),js(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ck(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uE()||rE()||qg()}}const Mk=Ok;var j0="@firebase/auth",P0="1.12.0";class jk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){lt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Pk(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Vk(r){gu(new yl("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:y}=s.options;lt(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const v={apiKey:c,authDomain:y,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cE(r)},_=new dD(s,o,u,v);return _D(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),gu(new yl("auth-internal",e=>{const n=od(e.getProvider("auth").getImmediate());return(s=>new jk(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),To(j0,P0,Pk(r)),To(j0,P0,"esm2020")}const Lk=300,Uk=zw("authIdTokenMaxAge")||Lk;let V0=null;const zk=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Uk)return;const o=n?.token;V0!==o&&(V0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Bk(r=Kw()){const e=Vg(r,"auth");if(e.isInitialized())return e.getImmediate();const n=vD(r,{popupRedirectResolver:Mk,persistence:[GD,OD,yE]}),s=zw("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=zk(u.toString());CD(n,c,()=>c(n.currentUser)),RD(n,y=>c(y))}}const o=Lw("auth");return o&&bD(n,`http://${o}`),n}function Fk(){return document.getElementsByTagName("head")?.[0]??document}mD({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=fs("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",Fk().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Vk("Browser");var qk="firebase",Hk="12.7.0";To(qk,Hk,"app");var L0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var xo,SE;(function(){var r;function e(D,I){function j(){}j.prototype=I.prototype,D.F=I.prototype,D.prototype=new j,D.prototype.constructor=D,D.D=function(B,F,X){for(var V=Array(arguments.length-2),De=2;De<arguments.length;De++)V[De-2]=arguments[De];return I.prototype[F].apply(B,V)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,I,j){j||(j=0);const B=Array(16);if(typeof I=="string")for(var F=0;F<16;++F)B[F]=I.charCodeAt(j++)|I.charCodeAt(j++)<<8|I.charCodeAt(j++)<<16|I.charCodeAt(j++)<<24;else for(F=0;F<16;++F)B[F]=I[j++]|I[j++]<<8|I[j++]<<16|I[j++]<<24;I=D.g[0],j=D.g[1],F=D.g[2];let X=D.g[3],V;V=I+(X^j&(F^X))+B[0]+3614090360&4294967295,I=j+(V<<7&4294967295|V>>>25),V=X+(F^I&(j^F))+B[1]+3905402710&4294967295,X=I+(V<<12&4294967295|V>>>20),V=F+(j^X&(I^j))+B[2]+606105819&4294967295,F=X+(V<<17&4294967295|V>>>15),V=j+(I^F&(X^I))+B[3]+3250441966&4294967295,j=F+(V<<22&4294967295|V>>>10),V=I+(X^j&(F^X))+B[4]+4118548399&4294967295,I=j+(V<<7&4294967295|V>>>25),V=X+(F^I&(j^F))+B[5]+1200080426&4294967295,X=I+(V<<12&4294967295|V>>>20),V=F+(j^X&(I^j))+B[6]+2821735955&4294967295,F=X+(V<<17&4294967295|V>>>15),V=j+(I^F&(X^I))+B[7]+4249261313&4294967295,j=F+(V<<22&4294967295|V>>>10),V=I+(X^j&(F^X))+B[8]+1770035416&4294967295,I=j+(V<<7&4294967295|V>>>25),V=X+(F^I&(j^F))+B[9]+2336552879&4294967295,X=I+(V<<12&4294967295|V>>>20),V=F+(j^X&(I^j))+B[10]+4294925233&4294967295,F=X+(V<<17&4294967295|V>>>15),V=j+(I^F&(X^I))+B[11]+2304563134&4294967295,j=F+(V<<22&4294967295|V>>>10),V=I+(X^j&(F^X))+B[12]+1804603682&4294967295,I=j+(V<<7&4294967295|V>>>25),V=X+(F^I&(j^F))+B[13]+4254626195&4294967295,X=I+(V<<12&4294967295|V>>>20),V=F+(j^X&(I^j))+B[14]+2792965006&4294967295,F=X+(V<<17&4294967295|V>>>15),V=j+(I^F&(X^I))+B[15]+1236535329&4294967295,j=F+(V<<22&4294967295|V>>>10),V=I+(F^X&(j^F))+B[1]+4129170786&4294967295,I=j+(V<<5&4294967295|V>>>27),V=X+(j^F&(I^j))+B[6]+3225465664&4294967295,X=I+(V<<9&4294967295|V>>>23),V=F+(I^j&(X^I))+B[11]+643717713&4294967295,F=X+(V<<14&4294967295|V>>>18),V=j+(X^I&(F^X))+B[0]+3921069994&4294967295,j=F+(V<<20&4294967295|V>>>12),V=I+(F^X&(j^F))+B[5]+3593408605&4294967295,I=j+(V<<5&4294967295|V>>>27),V=X+(j^F&(I^j))+B[10]+38016083&4294967295,X=I+(V<<9&4294967295|V>>>23),V=F+(I^j&(X^I))+B[15]+3634488961&4294967295,F=X+(V<<14&4294967295|V>>>18),V=j+(X^I&(F^X))+B[4]+3889429448&4294967295,j=F+(V<<20&4294967295|V>>>12),V=I+(F^X&(j^F))+B[9]+568446438&4294967295,I=j+(V<<5&4294967295|V>>>27),V=X+(j^F&(I^j))+B[14]+3275163606&4294967295,X=I+(V<<9&4294967295|V>>>23),V=F+(I^j&(X^I))+B[3]+4107603335&4294967295,F=X+(V<<14&4294967295|V>>>18),V=j+(X^I&(F^X))+B[8]+1163531501&4294967295,j=F+(V<<20&4294967295|V>>>12),V=I+(F^X&(j^F))+B[13]+2850285829&4294967295,I=j+(V<<5&4294967295|V>>>27),V=X+(j^F&(I^j))+B[2]+4243563512&4294967295,X=I+(V<<9&4294967295|V>>>23),V=F+(I^j&(X^I))+B[7]+1735328473&4294967295,F=X+(V<<14&4294967295|V>>>18),V=j+(X^I&(F^X))+B[12]+2368359562&4294967295,j=F+(V<<20&4294967295|V>>>12),V=I+(j^F^X)+B[5]+4294588738&4294967295,I=j+(V<<4&4294967295|V>>>28),V=X+(I^j^F)+B[8]+2272392833&4294967295,X=I+(V<<11&4294967295|V>>>21),V=F+(X^I^j)+B[11]+1839030562&4294967295,F=X+(V<<16&4294967295|V>>>16),V=j+(F^X^I)+B[14]+4259657740&4294967295,j=F+(V<<23&4294967295|V>>>9),V=I+(j^F^X)+B[1]+2763975236&4294967295,I=j+(V<<4&4294967295|V>>>28),V=X+(I^j^F)+B[4]+1272893353&4294967295,X=I+(V<<11&4294967295|V>>>21),V=F+(X^I^j)+B[7]+4139469664&4294967295,F=X+(V<<16&4294967295|V>>>16),V=j+(F^X^I)+B[10]+3200236656&4294967295,j=F+(V<<23&4294967295|V>>>9),V=I+(j^F^X)+B[13]+681279174&4294967295,I=j+(V<<4&4294967295|V>>>28),V=X+(I^j^F)+B[0]+3936430074&4294967295,X=I+(V<<11&4294967295|V>>>21),V=F+(X^I^j)+B[3]+3572445317&4294967295,F=X+(V<<16&4294967295|V>>>16),V=j+(F^X^I)+B[6]+76029189&4294967295,j=F+(V<<23&4294967295|V>>>9),V=I+(j^F^X)+B[9]+3654602809&4294967295,I=j+(V<<4&4294967295|V>>>28),V=X+(I^j^F)+B[12]+3873151461&4294967295,X=I+(V<<11&4294967295|V>>>21),V=F+(X^I^j)+B[15]+530742520&4294967295,F=X+(V<<16&4294967295|V>>>16),V=j+(F^X^I)+B[2]+3299628645&4294967295,j=F+(V<<23&4294967295|V>>>9),V=I+(F^(j|~X))+B[0]+4096336452&4294967295,I=j+(V<<6&4294967295|V>>>26),V=X+(j^(I|~F))+B[7]+1126891415&4294967295,X=I+(V<<10&4294967295|V>>>22),V=F+(I^(X|~j))+B[14]+2878612391&4294967295,F=X+(V<<15&4294967295|V>>>17),V=j+(X^(F|~I))+B[5]+4237533241&4294967295,j=F+(V<<21&4294967295|V>>>11),V=I+(F^(j|~X))+B[12]+1700485571&4294967295,I=j+(V<<6&4294967295|V>>>26),V=X+(j^(I|~F))+B[3]+2399980690&4294967295,X=I+(V<<10&4294967295|V>>>22),V=F+(I^(X|~j))+B[10]+4293915773&4294967295,F=X+(V<<15&4294967295|V>>>17),V=j+(X^(F|~I))+B[1]+2240044497&4294967295,j=F+(V<<21&4294967295|V>>>11),V=I+(F^(j|~X))+B[8]+1873313359&4294967295,I=j+(V<<6&4294967295|V>>>26),V=X+(j^(I|~F))+B[15]+4264355552&4294967295,X=I+(V<<10&4294967295|V>>>22),V=F+(I^(X|~j))+B[6]+2734768916&4294967295,F=X+(V<<15&4294967295|V>>>17),V=j+(X^(F|~I))+B[13]+1309151649&4294967295,j=F+(V<<21&4294967295|V>>>11),V=I+(F^(j|~X))+B[4]+4149444226&4294967295,I=j+(V<<6&4294967295|V>>>26),V=X+(j^(I|~F))+B[11]+3174756917&4294967295,X=I+(V<<10&4294967295|V>>>22),V=F+(I^(X|~j))+B[2]+718787259&4294967295,F=X+(V<<15&4294967295|V>>>17),V=j+(X^(F|~I))+B[9]+3951481745&4294967295,D.g[0]=D.g[0]+I&4294967295,D.g[1]=D.g[1]+(F+(V<<21&4294967295|V>>>11))&4294967295,D.g[2]=D.g[2]+F&4294967295,D.g[3]=D.g[3]+X&4294967295}s.prototype.v=function(D,I){I===void 0&&(I=D.length);const j=I-this.blockSize,B=this.C;let F=this.h,X=0;for(;X<I;){if(F==0)for(;X<=j;)o(this,D,X),X+=this.blockSize;if(typeof D=="string"){for(;X<I;)if(B[F++]=D.charCodeAt(X++),F==this.blockSize){o(this,B),F=0;break}}else for(;X<I;)if(B[F++]=D[X++],F==this.blockSize){o(this,B),F=0;break}}this.h=F,this.o+=I},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var I=1;I<D.length-8;++I)D[I]=0;I=this.o*8;for(var j=D.length-8;j<D.length;++j)D[j]=I&255,I/=256;for(this.v(D),D=Array(16),I=0,j=0;j<4;++j)for(let B=0;B<32;B+=8)D[I++]=this.g[j]>>>B&255;return D};function u(D,I){var j=y;return Object.prototype.hasOwnProperty.call(j,D)?j[D]:j[D]=I(D)}function c(D,I){this.h=I;const j=[];let B=!0;for(let F=D.length-1;F>=0;F--){const X=D[F]|0;B&&X==I||(j[F]=X,B=!1)}this.g=j}var y={};function v(D){return-128<=D&&D<128?u(D,function(I){return new c([I|0],I<0?-1:0)}):new c([D|0],D<0?-1:0)}function _(D){if(isNaN(D)||!isFinite(D))return R;if(D<0)return H(_(-D));const I=[];let j=1;for(let B=0;D>=j;B++)I[B]=D/j|0,j*=4294967296;return new c(I,0)}function x(D,I){if(D.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(D.charAt(0)=="-")return H(x(D.substring(1),I));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=_(Math.pow(I,8));let B=R;for(let X=0;X<D.length;X+=8){var F=Math.min(8,D.length-X);const V=parseInt(D.substring(X,X+F),I);F<8?(F=_(Math.pow(I,F)),B=B.j(F).add(_(V))):(B=B.j(j),B=B.add(_(V)))}return B}var R=v(0),O=v(1),L=v(16777216);r=c.prototype,r.m=function(){if(Z(this))return-H(this).m();let D=0,I=1;for(let j=0;j<this.g.length;j++){const B=this.i(j);D+=(B>=0?B:4294967296+B)*I,I*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(ie(this))return"0";if(Z(this))return"-"+H(this).toString(D);const I=_(Math.pow(D,6));var j=this;let B="";for(;;){const F=Fe(j,I).g;j=pe(j,F.j(I));let X=((j.g.length>0?j.g[0]:j.h)>>>0).toString(D);if(j=F,ie(j))return X+B;for(;X.length<6;)X="0"+X;B=X+B}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function ie(D){if(D.h!=0)return!1;for(let I=0;I<D.g.length;I++)if(D.g[I]!=0)return!1;return!0}function Z(D){return D.h==-1}r.l=function(D){return D=pe(this,D),Z(D)?-1:ie(D)?0:1};function H(D){const I=D.g.length,j=[];for(let B=0;B<I;B++)j[B]=~D.g[B];return new c(j,~D.h).add(O)}r.abs=function(){return Z(this)?H(this):this},r.add=function(D){const I=Math.max(this.g.length,D.g.length),j=[];let B=0;for(let F=0;F<=I;F++){let X=B+(this.i(F)&65535)+(D.i(F)&65535),V=(X>>>16)+(this.i(F)>>>16)+(D.i(F)>>>16);B=V>>>16,X&=65535,V&=65535,j[F]=V<<16|X}return new c(j,j[j.length-1]&-2147483648?-1:0)};function pe(D,I){return D.add(H(I))}r.j=function(D){if(ie(this)||ie(D))return R;if(Z(this))return Z(D)?H(this).j(H(D)):H(H(this).j(D));if(Z(D))return H(this.j(H(D)));if(this.l(L)<0&&D.l(L)<0)return _(this.m()*D.m());const I=this.g.length+D.g.length,j=[];for(var B=0;B<2*I;B++)j[B]=0;for(B=0;B<this.g.length;B++)for(let F=0;F<D.g.length;F++){const X=this.i(B)>>>16,V=this.i(B)&65535,De=D.i(F)>>>16,Ae=D.i(F)&65535;j[2*B+2*F]+=V*Ae,de(j,2*B+2*F),j[2*B+2*F+1]+=X*Ae,de(j,2*B+2*F+1),j[2*B+2*F+1]+=V*De,de(j,2*B+2*F+1),j[2*B+2*F+2]+=X*De,de(j,2*B+2*F+2)}for(D=0;D<I;D++)j[D]=j[2*D+1]<<16|j[2*D];for(D=I;D<2*I;D++)j[D]=0;return new c(j,0)};function de(D,I){for(;(D[I]&65535)!=D[I];)D[I+1]+=D[I]>>>16,D[I]&=65535,I++}function ve(D,I){this.g=D,this.h=I}function Fe(D,I){if(ie(I))throw Error("division by zero");if(ie(D))return new ve(R,R);if(Z(D))return I=Fe(H(D),I),new ve(H(I.g),H(I.h));if(Z(I))return I=Fe(D,H(I)),new ve(H(I.g),I.h);if(D.g.length>30){if(Z(D)||Z(I))throw Error("slowDivide_ only works with positive integers.");for(var j=O,B=I;B.l(D)<=0;)j=Ke(j),B=Ke(B);var F=Be(j,1),X=Be(B,1);for(B=Be(B,2),j=Be(j,2);!ie(B);){var V=X.add(B);V.l(D)<=0&&(F=F.add(j),X=V),B=Be(B,1),j=Be(j,1)}return I=pe(D,F.j(I)),new ve(F,I)}for(F=R;D.l(I)>=0;){for(j=Math.max(1,Math.floor(D.m()/I.m())),B=Math.ceil(Math.log(j)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),X=_(j),V=X.j(I);Z(V)||V.l(D)>0;)j-=B,X=_(j),V=X.j(I);ie(X)&&(X=O),F=F.add(X),D=pe(D,V)}return new ve(F,D)}r.B=function(D){return Fe(this,D).h},r.and=function(D){const I=Math.max(this.g.length,D.g.length),j=[];for(let B=0;B<I;B++)j[B]=this.i(B)&D.i(B);return new c(j,this.h&D.h)},r.or=function(D){const I=Math.max(this.g.length,D.g.length),j=[];for(let B=0;B<I;B++)j[B]=this.i(B)|D.i(B);return new c(j,this.h|D.h)},r.xor=function(D){const I=Math.max(this.g.length,D.g.length),j=[];for(let B=0;B<I;B++)j[B]=this.i(B)^D.i(B);return new c(j,this.h^D.h)};function Ke(D){const I=D.g.length+1,j=[];for(let B=0;B<I;B++)j[B]=D.i(B)<<1|D.i(B-1)>>>31;return new c(j,D.h)}function Be(D,I){const j=I>>5;I%=32;const B=D.g.length-j,F=[];for(let X=0;X<B;X++)F[X]=I>0?D.i(X+j)>>>I|D.i(X+j+1)<<32-I:D.i(X+j);return new c(F,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,SE=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=_,c.fromString=x,xo=c}).apply(typeof L0<"u"?L0:typeof self<"u"?self:typeof window<"u"?window:{});var df=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var AE,xc,RE,Sf,Zp,CE,NE,IE;(function(){var r,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof df=="object"&&df];for(var w=0;w<h.length;++w){var S=h[w];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var s=n(this);function o(h,w){if(w)e:{var S=s;h=h.split(".");for(var k=0;k<h.length-1;k++){var se=h[k];if(!(se in S))break e;S=S[se]}h=h[h.length-1],k=S[h],w=w(k),w!=k&&w!=null&&e(S,h,{configurable:!0,writable:!0,value:w})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(w){var S=[],k;for(k in w)Object.prototype.hasOwnProperty.call(w,k)&&S.push([k,w[k]]);return S}});var u=u||{},c=this||self;function y(h){var w=typeof h;return w=="object"&&h!=null||w=="function"}function v(h,w,S){return h.call.apply(h.bind,arguments)}function _(h,w,S){return _=v,_.apply(null,arguments)}function x(h,w){var S=Array.prototype.slice.call(arguments,1);return function(){var k=S.slice();return k.push.apply(k,arguments),h.apply(this,k)}}function R(h,w){function S(){}S.prototype=w.prototype,h.Z=w.prototype,h.prototype=new S,h.prototype.constructor=h,h.Ob=function(k,se,fe){for(var Oe=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)Oe[ut-2]=arguments[ut];return w.prototype[se].apply(k,Oe)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function L(h){const w=h.length;if(w>0){const S=Array(w);for(let k=0;k<w;k++)S[k]=h[k];return S}return[]}function ie(h,w){for(let k=1;k<arguments.length;k++){const se=arguments[k];var S=typeof se;if(S=S!="object"?S:se?Array.isArray(se)?"array":S:"null",S=="array"||S=="object"&&typeof se.length=="number"){S=h.length||0;const fe=se.length||0;h.length=S+fe;for(let Oe=0;Oe<fe;Oe++)h[S+Oe]=se[Oe]}else h.push(se)}}class Z{constructor(w,S){this.i=w,this.j=S,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function H(h){c.setTimeout(()=>{throw h},0)}function pe(){var h=D;let w=null;return h.g&&(w=h.g,h.g=h.g.next,h.g||(h.h=null),w.next=null),w}class de{constructor(){this.h=this.g=null}add(w,S){const k=ve.get();k.set(w,S),this.h?this.h.next=k:this.g=k,this.h=k}}var ve=new Z(()=>new Fe,h=>h.reset());class Fe{constructor(){this.next=this.g=this.h=null}set(w,S){this.h=w,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let Ke,Be=!1,D=new de,I=()=>{const h=Promise.resolve(void 0);Ke=()=>{h.then(j)}};function j(){for(var h;h=pe();){try{h.h.call(h.g)}catch(S){H(S)}var w=ve;w.j(h),w.h<100&&(w.h++,h.next=w.g,w.g=h)}Be=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(h,w){this.type=h,this.g=this.target=w,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var X=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,w=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const S=()=>{};c.addEventListener("test",S,w),c.removeEventListener("test",S,w)}catch{}return h})();function V(h){return/^[\s\xa0]*$/.test(h)}function De(h,w){F.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,w)}R(De,F),De.prototype.init=function(h,w){const S=this.type=h.type,k=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=w,w=h.relatedTarget,w||(S=="mouseover"?w=h.fromElement:S=="mouseout"&&(w=h.toElement)),this.relatedTarget=w,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&De.Z.h.call(this)},De.prototype.h=function(){De.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ae="closure_listenable_"+(Math.random()*1e6|0),he=0;function Ce(h,w,S,k,se){this.listener=h,this.proxy=null,this.src=w,this.type=S,this.capture=!!k,this.ha=se,this.key=++he,this.da=this.fa=!1}function we(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function dt(h,w,S){for(const k in h)w.call(S,h[k],k,h)}function mt(h,w){for(const S in h)w.call(void 0,h[S],S,h)}function Y(h){const w={};for(const S in h)w[S]=h[S];return w}const _e="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Re(h,w){let S,k;for(let se=1;se<arguments.length;se++){k=arguments[se];for(S in k)h[S]=k[S];for(let fe=0;fe<_e.length;fe++)S=_e[fe],Object.prototype.hasOwnProperty.call(k,S)&&(h[S]=k[S])}}function Pe(h){this.src=h,this.g={},this.h=0}Pe.prototype.add=function(h,w,S,k,se){const fe=h.toString();h=this.g[fe],h||(h=this.g[fe]=[],this.h++);const Oe=rt(h,w,k,se);return Oe>-1?(w=h[Oe],S||(w.fa=!1)):(w=new Ce(w,this.src,fe,!!k,se),w.fa=S,h.push(w)),w};function Ze(h,w){const S=w.type;if(S in h.g){var k=h.g[S],se=Array.prototype.indexOf.call(k,w,void 0),fe;(fe=se>=0)&&Array.prototype.splice.call(k,se,1),fe&&(we(w),h.g[S].length==0&&(delete h.g[S],h.h--))}}function rt(h,w,S,k){for(let se=0;se<h.length;++se){const fe=h[se];if(!fe.da&&fe.listener==w&&fe.capture==!!S&&fe.ha==k)return se}return-1}var Je="closure_lm_"+(Math.random()*1e6|0),sn={};function Ve(h,w,S,k,se){if(Array.isArray(w)){for(let fe=0;fe<w.length;fe++)Ve(h,w[fe],S,k,se);return null}return S=Vo(S),h&&h[Ae]?h.J(w,S,y(k)?!!k.capture:!1,se):Sr(h,w,S,!1,k,se)}function Sr(h,w,S,k,se,fe){if(!w)throw Error("Invalid event type");const Oe=y(se)?!!se.capture:!!se;let ut=Ls(h);if(ut||(h[Je]=ut=new Pe(h)),S=ut.add(w,S,k,Oe,fe),S.proxy)return S;if(k=Ar(),S.proxy=k,k.src=h,k.listener=S,h.addEventListener)X||(se=Oe),se===void 0&&(se=!1),h.addEventListener(w.toString(),k,se);else if(h.attachEvent)h.attachEvent(Ii(w.toString()),k);else if(h.addListener&&h.removeListener)h.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Ar(){function h(S){return w.call(h.src,h.listener,S)}const w=si;return h}function _t(h,w,S,k,se){if(Array.isArray(w))for(var fe=0;fe<w.length;fe++)_t(h,w[fe],S,k,se);else k=y(k)?!!k.capture:!!k,S=Vo(S),h&&h[Ae]?(h=h.i,fe=String(w).toString(),fe in h.g&&(w=h.g[fe],S=rt(w,S,k,se),S>-1&&(we(w[S]),Array.prototype.splice.call(w,S,1),w.length==0&&(delete h.g[fe],h.h--)))):h&&(h=Ls(h))&&(w=h.g[w.toString()],h=-1,w&&(h=rt(w,S,k,se)),(S=h>-1?w[h]:null)&&Ni(S))}function Ni(h){if(typeof h!="number"&&h&&!h.da){var w=h.src;if(w&&w[Ae])Ze(w.i,h);else{var S=h.type,k=h.proxy;w.removeEventListener?w.removeEventListener(S,k,h.capture):w.detachEvent?w.detachEvent(Ii(S),k):w.addListener&&w.removeListener&&w.removeListener(k),(S=Ls(w))?(Ze(S,h),S.h==0&&(S.src=null,w[Je]=null)):we(h)}}}function Ii(h){return h in sn?sn[h]:sn[h]="on"+h}function si(h,w){if(h.da)h=!0;else{w=new De(w,this);const S=h.listener,k=h.ha||h.src;h.fa&&Ni(h),h=S.call(k,w)}return h}function Ls(h){return h=h[Je],h instanceof Pe?h:null}var Po="__closure_events_fn_"+(Math.random()*1e9>>>0);function Vo(h){return typeof h=="function"?h:(h[Po]||(h[Po]=function(w){return h.handleEvent(w)}),h[Po])}function bn(){B.call(this),this.i=new Pe(this),this.M=this,this.G=null}R(bn,B),bn.prototype[Ae]=!0,bn.prototype.removeEventListener=function(h,w,S,k){_t(this,h,w,S,k)};function un(h,w){var S,k=h.G;if(k)for(S=[];k;k=k.G)S.push(k);if(h=h.M,k=w.type||w,typeof w=="string")w=new F(w,h);else if(w instanceof F)w.target=w.target||h;else{var se=w;w=new F(k,h),Re(w,se)}se=!0;let fe,Oe;if(S)for(Oe=S.length-1;Oe>=0;Oe--)fe=w.g=S[Oe],se=Gn(fe,k,!0,w)&&se;if(fe=w.g=h,se=Gn(fe,k,!0,w)&&se,se=Gn(fe,k,!1,w)&&se,S)for(Oe=0;Oe<S.length;Oe++)fe=w.g=S[Oe],se=Gn(fe,k,!1,w)&&se}bn.prototype.N=function(){if(bn.Z.N.call(this),this.i){var h=this.i;for(const w in h.g){const S=h.g[w];for(let k=0;k<S.length;k++)we(S[k]);delete h.g[w],h.h--}}this.G=null},bn.prototype.J=function(h,w,S,k){return this.i.add(String(h),w,!1,S,k)},bn.prototype.K=function(h,w,S,k){return this.i.add(String(h),w,!0,S,k)};function Gn(h,w,S,k){if(w=h.i.g[String(w)],!w)return!0;w=w.concat();let se=!0;for(let fe=0;fe<w.length;++fe){const Oe=w[fe];if(Oe&&!Oe.da&&Oe.capture==S){const ut=Oe.listener,pn=Oe.ha||Oe.src;Oe.fa&&Ze(h.i,Oe),se=ut.call(pn,k)!==!1&&se}}return se&&!k.defaultPrevented}function Rl(h,w){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=_(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:c.setTimeout(h,w||0)}function ms(h){h.g=Rl(()=>{h.g=null,h.i&&(h.i=!1,ms(h))},h.l);const w=h.h;h.h=null,h.m.apply(null,w)}class Jn extends B{constructor(w,S){super(),this.m=w,this.l=S,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:ms(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ai(h){B.call(this),this.h=h,this.g={}}R(ai,B);var oi=[];function li(h){dt(h.g,function(w,S){this.g.hasOwnProperty(S)&&Ni(w)},h),h.g={}}ai.prototype.N=function(){ai.Z.N.call(this),li(this)},ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Di=c.JSON.stringify,Us=c.JSON.parse,Ra=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function zs(){}function ki(){}var pr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Sn(){F.call(this,"d")}R(Sn,F);function An(){F.call(this,"c")}R(An,F);var ze={},ps=null;function Mr(){return ps=ps||new bn}ze.Ia="serverreachability";function Bs(h){F.call(this,ze.Ia,h)}R(Bs,F);function je(h){const w=Mr();un(w,new Bs(w))}ze.STAT_EVENT="statevent";function Zi(h,w){F.call(this,ze.STAT_EVENT,h),this.stat=w}R(Zi,F);function cn(h){const w=Mr();un(w,new Zi(w,h))}ze.Ja="timingevent";function jr(h,w){F.call(this,ze.Ja,h),this.size=w}R(jr,F);function ui(h,w){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},w)}function Rr(){this.g=!0}Rr.prototype.ua=function(){this.g=!1};function Mu(h,w,S,k,se,fe){h.info(function(){if(h.g)if(fe){var Oe="",ut=fe.split("&");for(let kt=0;kt<ut.length;kt++){var pn=ut[kt].split("=");if(pn.length>1){const Gt=pn[0];pn=pn[1];const Qr=Gt.split("_");Oe=Qr.length>=2&&Qr[1]=="type"?Oe+(Gt+"="+pn+"&"):Oe+(Gt+"=redacted&")}}}else Oe=null;else Oe=fe;return"XMLHTTP REQ ("+k+") [attempt "+se+"]: "+w+`
`+S+`
`+Oe})}function Cl(h,w,S,k,se,fe,Oe){h.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+se+"]: "+w+`
`+S+`
`+fe+" "+Oe})}function sr(h,w,S,k){h.info(function(){return"XMLHTTP TEXT ("+w+"): "+Lo(h,S)+(k?" "+k:"")})}function Pr(h,w){h.info(function(){return"TIMEOUT: "+w})}Rr.prototype.info=function(){};function Lo(h,w){if(!h.g)return w;if(!w)return null;try{const fe=JSON.parse(w);if(fe){for(h=0;h<fe.length;h++)if(Array.isArray(fe[h])){var S=fe[h];if(!(S.length<2)){var k=S[1];if(Array.isArray(k)&&!(k.length<1)){var se=k[0];if(se!="noop"&&se!="stop"&&se!="close")for(let Oe=1;Oe<k.length;Oe++)k[Oe]=""}}}}return Di(fe)}catch{return w}}var Oi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Bt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},an;function Fs(){}R(Fs,zs),Fs.prototype.g=function(){return new XMLHttpRequest},an=new Fs;function Vr(h){return encodeURIComponent(String(h))}function qs(h){var w=1;h=h.split(":");const S=[];for(;w>0&&h.length;)S.push(h.shift()),w--;return h.length&&S.push(h.join(":")),S}function gr(h,w,S,k){this.j=h,this.i=w,this.l=S,this.S=k||1,this.V=new ai(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ci}function ci(){this.i=null,this.g="",this.h=!1}var qt={},Zt={};function Kn(h,w,S){h.M=1,h.A=vs(fn(w)),h.u=S,h.R=!0,es(h,null)}function es(h,w){h.F=Date.now(),Zn(h),h.B=fn(h.A);var S=h.B,k=h.S;Array.isArray(k)||(k=[String(k)]),ka(S.i,"t",k),h.C=0,S=h.j.L,h.h=new ci,h.g=Nn(h.j,S?w:null,!h.u),h.P>0&&(h.O=new Jn(_(h.Y,h,h.g),h.P)),w=h.V,S=h.g,k=h.ba;var se="readystatechange";Array.isArray(se)||(se&&(oi[0]=se.toString()),se=oi);for(let fe=0;fe<se.length;fe++){const Oe=Ve(S,se[fe],k||w.handleEvent,!1,w.h||w);if(!Oe)break;w.g[Oe.key]=Oe}w=h.J?Y(h.J):{},h.u?(h.v||(h.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,w)):(h.v="GET",h.g.ea(h.B,h.v,null,w)),je(),Mu(h.i,h.v,h.B,h.l,h.S,h.u)}gr.prototype.ba=function(h){h=h.target;const w=this.O;w&&vi(h)==3?w.j():this.Y(h)},gr.prototype.Y=function(h){try{if(h==this.g)e:{const ut=vi(this.g),pn=this.g.ya(),kt=this.g.ca();if(!(ut<3)&&(ut!=3||this.g&&(this.h.h||this.g.la()||mn(this.g)))){this.K||ut!=4||pn==7||(pn==8||kt<=0?je(3):je(2)),Lr(this);var w=this.g.ca();this.X=w;var S=ju(this);if(this.o=w==200,Cl(this.i,this.v,this.B,this.l,this.S,ut,w),this.o){if(this.U&&!this.L){t:{if(this.g){var k,se=this.g;if((k=se.g?se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(k)){var fe=k;break t}}fe=null}if(h=fe)sr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,On(this,h);else{this.o=!1,this.m=3,cn(12),Rn(this),Mt(this);break e}}if(this.R){h=!0;let Gt;for(;!this.K&&this.C<S.length;)if(Gt=Uo(this,S),Gt==Zt){ut==4&&(this.m=4,cn(14),h=!1),sr(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==qt){this.m=4,cn(15),sr(this.i,this.l,S,"[Invalid Chunk]"),h=!1;break}else sr(this.i,this.l,Gt,null),On(this,Gt);if(hi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||S.length!=0||this.h.h||(this.m=1,cn(16),h=!1),this.o=this.o&&h,!h)sr(this.i,this.l,S,"[Invalid Chunked Response]"),Rn(this),Mt(this);else if(S.length>0&&!this.W){this.W=!0;var Oe=this.j;Oe.g==this&&Oe.aa&&!Oe.P&&(Oe.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),bs(Oe),Oe.P=!0,cn(11))}}else sr(this.i,this.l,S,null),On(this,S);ut==4&&Rn(this),this.o&&!this.K&&(ut==4?os(this.j,this):(this.o=!1,Zn(this)))}else ss(this.g),w==400&&S.indexOf("Unknown SID")>0?(this.m=3,cn(12)):(this.m=0,cn(13)),Rn(this),Mt(this)}}}catch{}};function ju(h){if(!hi(h))return h.g.la();const w=mn(h.g);if(w==="")return"";let S="";const k=w.length,se=vi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Rn(h),Mt(h),"";h.h.i=new c.TextDecoder}for(let fe=0;fe<k;fe++)h.h.h=!0,S+=h.h.i.decode(w[fe],{stream:!(se&&fe==k-1)});return w.length=0,h.h.g+=S,h.C=0,h.h.g}function hi(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Uo(h,w){var S=h.C,k=w.indexOf(`
`,S);return k==-1?Zt:(S=Number(w.substring(S,k)),isNaN(S)?qt:(k+=1,k+S>w.length?Zt:(w=w.slice(k,k+S),h.C=k+S,w)))}gr.prototype.cancel=function(){this.K=!0,Rn(this)};function Zn(h){h.T=Date.now()+h.H,Hs(h,h.H)}function Hs(h,w){if(h.D!=null)throw Error("WatchDog timer not null");h.D=ui(_(h.aa,h),w)}function Lr(h){h.D&&(c.clearTimeout(h.D),h.D=null)}gr.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Pr(this.i,this.B),this.M!=2&&(je(),cn(17)),Rn(this),this.m=2,Mt(this)):Hs(this,this.T-h)};function Mt(h){h.j.I==0||h.K||os(h.j,h)}function Rn(h){Lr(h);var w=h.O;w&&typeof w.dispose=="function"&&w.dispose(),h.O=null,li(h.V),h.g&&(w=h.g,h.g=null,w.abort(),w.dispose())}function On(h,w){try{var S=h.j;if(S.I!=0&&(S.g==h||zr(S.h,h))){if(!h.L&&zr(S.h,h)&&S.I==3){try{var k=S.Ba.g.parse(w)}catch{k=null}if(Array.isArray(k)&&k.length==3){var se=k;if(se[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<h.F)Pa(S),Li(S);else break e;zi(S),cn(18)}}else S.xa=se[1],0<S.xa-S.K&&se[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=ui(_(S.Va,S),6e3));Ur(S.h)<=1&&S.ta&&(S.ta=void 0)}else Gr(S,11)}else if((h.L||S.g==h)&&Pa(S),!V(w))for(se=S.Ba.g.parse(w),w=0;w<se.length;w++){let kt=se[w];const Gt=kt[0];if(!(Gt<=S.K))if(S.K=Gt,kt=kt[1],S.I==2)if(kt[0]=="c"){S.M=kt[1],S.ba=kt[2];const Qr=kt[3];Qr!=null&&(S.ka=Qr,S.j.info("VER="+S.ka));const Yr=kt[4];Yr!=null&&(S.za=Yr,S.j.info("SVER="+S.za));const Ir=kt[5];Ir!=null&&typeof Ir=="number"&&Ir>0&&(k=1.5*Ir,S.O=k,S.j.info("backChannelRequestTimeoutMs_="+k)),k=S;const bi=h.g;if(bi){const Es=bi.g?bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Es){var fe=k.h;fe.g||Es.indexOf("spdy")==-1&&Es.indexOf("quic")==-1&&Es.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&(fi(fe,fe.h),fe.h=null))}if(k.G){const za=bi.g?bi.g.getResponseHeader("X-HTTP-Session-Id"):null;za&&(k.wa=za,Pt(k.J,k.G,za))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-h.F,S.j.info("Handshake RTT: "+S.T+"ms")),k=S;var Oe=h;if(k.na=Ua(k,k.L?k.ba:null,k.W),Oe.L){Ca(k.h,Oe);var ut=Oe,pn=k.O;pn&&(ut.H=pn),ut.D&&(Lr(ut),Zn(ut)),k.g=Oe}else Ys(k);S.i.length>0&&Ui(S)}else kt[0]!="stop"&&kt[0]!="close"||Gr(S,7);else S.I==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?Gr(S,7):_s(S):kt[0]!="noop"&&S.l&&S.l.qa(kt),S.A=0)}}je(4)}catch{}}var hn=class{constructor(h,w){this.g=h,this.map=w}};function Mi(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function gs(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ur(h){return h.h?1:h.g?h.g.size:0}function zr(h,w){return h.h?h.h==w:h.g?h.g.has(w):!1}function fi(h,w){h.g?h.g.add(w):h.h=w}function Ca(h,w){h.h&&h.h==w?h.h=null:h.g&&h.g.has(w)&&h.g.delete(w)}Mi.prototype.cancel=function(){if(this.i=ys(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ys(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let w=h.i;for(const S of h.g.values())w=w.concat(S.G);return w}return L(h.i)}var zo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pt(h,w){if(h){h=h.split("&");for(let S=0;S<h.length;S++){const k=h[S].indexOf("=");let se,fe=null;k>=0?(se=h[S].substring(0,k),fe=h[S].substring(k+1)):se=h[S],w(se,fe?decodeURIComponent(fe.replace(/\+/g," ")):"")}}}function yr(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;h instanceof yr?(this.l=h.l,dn(this,h.j),this.o=h.o,this.g=h.g,Br(this,h.u),this.h=h.h,Na(this,Il(h.i)),this.m=h.m):h&&(w=String(h).match(zo))?(this.l=!1,dn(this,w[1]||"",!0),this.o=xt(w[2]||""),this.g=xt(w[3]||"",!0),Br(this,w[4]),this.h=xt(w[5]||"",!0),Na(this,w[6]||"",!0),this.m=xt(w[7]||"")):(this.l=!1,this.i=new gi(null,this.l))}yr.prototype.toString=function(){const h=[];var w=this.j;w&&h.push(di(w,mi,!0),":");var S=this.g;return(S||w=="file")&&(h.push("//"),(w=this.o)&&h.push(di(w,mi,!0),"@"),h.push(Vr(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&h.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&h.push("/"),h.push(di(S,S.charAt(0)=="/"?Gs:Ia,!0))),(S=this.i.toString())&&h.push("?",S),(S=this.m)&&h.push("#",di(S,Bo)),h.join("")},yr.prototype.resolve=function(h){const w=fn(this);let S=!!h.j;S?dn(w,h.j):S=!!h.o,S?w.o=h.o:S=!!h.g,S?w.g=h.g:S=h.u!=null;var k=h.h;if(S)Br(w,h.u);else if(S=!!h.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var se=w.h.lastIndexOf("/");se!=-1&&(k=w.h.slice(0,se+1)+k)}if(se=k,se==".."||se==".")k="";else if(se.indexOf("./")!=-1||se.indexOf("/.")!=-1){k=se.lastIndexOf("/",0)==0,se=se.split("/");const fe=[];for(let Oe=0;Oe<se.length;){const ut=se[Oe++];ut=="."?k&&Oe==se.length&&fe.push(""):ut==".."?((fe.length>1||fe.length==1&&fe[0]!="")&&fe.pop(),k&&Oe==se.length&&fe.push("")):(fe.push(ut),k=!0)}k=fe.join("/")}else k=se}return S?w.h=k:S=h.i.toString()!=="",S?Na(w,Il(h.i)):S=!!h.m,S&&(w.m=h.m),w};function fn(h){return new yr(h)}function dn(h,w,S){h.j=S?xt(w,!0):w,h.j&&(h.j=h.j.replace(/:$/,""))}function Br(h,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);h.u=w}else h.u=null}function Na(h,w,S){w instanceof gi?(h.i=w,yi(h.i,h.l)):(S||(w=di(w,pi)),h.i=new gi(w,h.l))}function Pt(h,w,S){h.i.set(w,S)}function vs(h){return Pt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function xt(h,w){return h?w?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function di(h,w,S){return typeof h=="string"?(h=encodeURI(h).replace(w,Mn),S&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Mn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var mi=/[#\/\?@]/g,Ia=/[#\?:]/g,Gs=/[#\?]/g,pi=/[#\?@]/g,Bo=/#/g;function gi(h,w){this.h=this.g=null,this.i=h||null,this.j=!!w}function ar(h){h.g||(h.g=new Map,h.h=0,h.i&&pt(h.i,function(w,S){h.add(decodeURIComponent(w.replace(/\+/g," ")),S)}))}r=gi.prototype,r.add=function(h,w){ar(this),this.i=null,h=wn(this,h);let S=this.g.get(h);return S||this.g.set(h,S=[]),S.push(w),this.h+=1,this};function Nl(h,w){ar(h),w=wn(h,w),h.g.has(w)&&(h.i=null,h.h-=h.g.get(w).length,h.g.delete(w))}function Tt(h,w){return ar(h),w=wn(h,w),h.g.has(w)}r.forEach=function(h,w){ar(this),this.g.forEach(function(S,k){S.forEach(function(se){h.call(w,se,k,this)},this)},this)};function Da(h,w){ar(h);let S=[];if(typeof w=="string")Tt(h,w)&&(S=S.concat(h.g.get(wn(h,w))));else for(h=Array.from(h.g.values()),w=0;w<h.length;w++)S=S.concat(h[w]);return S}r.set=function(h,w){return ar(this),this.i=null,h=wn(this,h),Tt(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[w]),this.h+=1,this},r.get=function(h,w){return h?(h=Da(this,h),h.length>0?String(h[0]):w):w};function ka(h,w,S){Nl(h,w),S.length>0&&(h.i=null,h.g.set(wn(h,w),L(S)),h.h+=S.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],w=Array.from(this.g.keys());for(let k=0;k<w.length;k++){var S=w[k];const se=Vr(S);S=Da(this,S);for(let fe=0;fe<S.length;fe++){let Oe=se;S[fe]!==""&&(Oe+="="+Vr(S[fe])),h.push(Oe)}}return this.i=h.join("&")};function Il(h){const w=new gi;return w.i=h.i,h.g&&(w.g=new Map(h.g),w.h=h.h),w}function wn(h,w){return w=String(w),h.j&&(w=w.toLowerCase()),w}function yi(h,w){w&&!h.j&&(ar(h),h.i=null,h.g.forEach(function(S,k){const se=k.toLowerCase();k!=se&&(Nl(this,k),ka(this,se,S))},h)),h.j=w}function vr(h,w){const S=new Rr;if(c.Image){const k=new Image;k.onload=x(Cr,S,"TestLoadImage: loaded",!0,w,k),k.onerror=x(Cr,S,"TestLoadImage: error",!1,w,k),k.onabort=x(Cr,S,"TestLoadImage: abort",!1,w,k),k.ontimeout=x(Cr,S,"TestLoadImage: timeout",!1,w,k),c.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=h}else w(!1)}function Fr(h,w){const S=new Rr,k=new AbortController,se=setTimeout(()=>{k.abort(),Cr(S,"TestPingServer: timeout",!1,w)},1e4);fetch(h,{signal:k.signal}).then(fe=>{clearTimeout(se),fe.ok?Cr(S,"TestPingServer: ok",!0,w):Cr(S,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(se),Cr(S,"TestPingServer: error",!1,w)})}function Cr(h,w,S,k,se){try{se&&(se.onload=null,se.onerror=null,se.onabort=null,se.ontimeout=null),k(S)}catch{}}function ts(){this.g=new Ra}function Ht(h){this.i=h.Sb||null,this.h=h.ab||!1}R(Ht,zs),Ht.prototype.g=function(){return new er(this.i,this.h)};function er(h,w){bn.call(this),this.H=h,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}R(er,bn),r=er.prototype,r.open=function(h,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=w,this.readyState=1,Nr(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(w.body=h),(this.H||c).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,qr(this)),this.readyState=0},r.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Nr(this)),this.g&&(this.readyState=3,Nr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ji(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function ji(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}r.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var w=h.value?h.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!h.done}))&&(this.response=this.responseText+=w)}h.done?qr(this):Nr(this),this.readyState==3&&ji(this)}},r.Oa=function(h){this.g&&(this.response=this.responseText=h,qr(this))},r.Na=function(h){this.g&&(this.response=h,qr(this))},r.ga=function(){this.g&&qr(this)};function qr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Nr(h)}r.setRequestHeader=function(h,w){this.A.append(h,w)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],w=this.h.entries();for(var S=w.next();!S.done;)S=S.value,h.push(S[0]+": "+S[1]),S=w.next();return h.join(`\r
`)};function Nr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(er.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Cn(h){let w="";return dt(h,function(S,k){w+=k,w+=":",w+=S,w+=`\r
`}),w}function Ks(h,w,S){e:{for(k in S){var k=!1;break e}k=!0}k||(S=Cn(S),typeof h=="string"?S!=null&&Vr(S):Pt(h,w,S))}function bt(h){bn.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}R(bt,bn);var Hr=/^https?$/i,Oa=["POST","PUT"];r=bt.prototype,r.Fa=function(h){this.H=h},r.ea=function(h,w,S,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);w=w?w.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():an.g(),this.g.onreadystatechange=O(_(this.Ca,this));try{this.B=!0,this.g.open(w,String(h),!0),this.B=!1}catch(fe){ns(this,fe);return}if(h=S||"",S=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var se in k)S.set(se,k[se]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const fe of k.keys())S.set(fe,k.get(fe));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(S.keys()).find(fe=>fe.toLowerCase()=="content-type"),se=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Oa,w,void 0)>=0)||k||se||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,Oe]of S)this.g.setRequestHeader(fe,Oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(fe){ns(this,fe)}};function ns(h,w){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=w,h.o=5,rs(h),Pi(h)}function rs(h){h.A||(h.A=!0,un(h,"complete"),un(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,un(this,"complete"),un(this,"abort"),Pi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pi(this,!0)),bt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?is(this):this.Xa())},r.Xa=function(){is(this)};function is(h){if(h.h&&typeof u<"u"){if(h.v&&vi(h)==4)setTimeout(h.Ca.bind(h),0);else if(un(h,"readystatechange"),vi(h)==4){h.h=!1;try{const fe=h.ca();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var S;if(!(S=w)){var k;if(k=fe===0){let Oe=String(h.D).match(zo)[1]||null;!Oe&&c.self&&c.self.location&&(Oe=c.self.location.protocol.slice(0,-1)),k=!Hr.test(Oe?Oe.toLowerCase():"")}S=k}if(S)un(h,"complete"),un(h,"success");else{h.o=6;try{var se=vi(h)>2?h.g.statusText:""}catch{se=""}h.l=se+" ["+h.ca()+"]",rs(h)}}finally{Pi(h)}}}}function Pi(h,w){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const S=h.g;h.g=null,w||un(h,"ready");try{S.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function vi(h){return h.g?h.g.readyState:0}r.ca=function(){try{return vi(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(h){if(this.g){var w=this.g.responseText;return h&&w.indexOf(h)==0&&(w=w.substring(h.length)),Us(w)}};function mn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ss(h){const w={};h=(h.g&&vi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<h.length;k++){if(V(h[k]))continue;var S=qs(h[k]);const se=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const fe=w[se]||[];w[se]=fe,fe.push(S)}mt(w,function(k){return k.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(h,w,S){return S&&S.internalChannelParams&&S.internalChannelParams[h]||w}function _i(h){this.za=0,this.i=[],this.j=new Rr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vi("baseRetryDelayMs",5e3,h),this.Za=Vi("retryDelaySeedMs",1e4,h),this.Ta=Vi("forwardChannelMaxRetries",2,h),this.va=Vi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Mi(h&&h.concurrentRequestLimit),this.Ba=new ts,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=_i.prototype,r.ka=8,r.I=1,r.connect=function(h,w,S,k){cn(0),this.W=h,this.H=w||{},S&&k!==void 0&&(this.H.OSID=S,this.H.OAID=k),this.F=this.X,this.J=Ua(this,null,this.W),Ui(this)};function _s(h){if(Ma(h),h.I==3){var w=h.V++,S=fn(h.J);if(Pt(S,"SID",h.M),Pt(S,"RID",w),Pt(S,"TYPE","terminate"),as(h,S),w=new gr(h,h.j,w),w.M=2,w.A=vs(fn(S)),S=!1,c.navigator&&c.navigator.sendBeacon)try{S=c.navigator.sendBeacon(w.A.toString(),"")}catch{}!S&&c.Image&&(new Image().src=w.A,S=!0),S||(w.g=Nn(w.j,null),w.g.ea(w.A)),w.F=Date.now(),Zn(w)}La(h)}function Li(h){h.g&&(bs(h),h.g.cancel(),h.g=null)}function Ma(h){Li(h),h.v&&(c.clearTimeout(h.v),h.v=null),Pa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Ui(h){if(!gs(h.h)&&!h.m){h.m=!0;var w=h.Ea;Ke||I(),Be||(Ke(),Be=!0),D.add(w,h),h.D=0}}function ja(h,w){return Ur(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=w.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=ui(_(h.Ea,h,w),Va(h,h.D)),h.D++,!0)}r.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const se=new gr(this,this.j,h);let fe=this.o;if(this.U&&(fe?(fe=Y(fe),Re(fe,this.U)):fe=this.U),this.u!==null||this.R||(se.J=fe,fe=null),this.S)e:{for(var w=0,S=0;S<this.i.length;S++){t:{var k=this.i[S];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(w+=k,w>4096){w=S;break e}if(w===4096||S===this.i.length-1){w=S+1;break e}}w=1e3}else w=1e3;w=Fo(this,se,w),S=fn(this.J),Pt(S,"RID",h),Pt(S,"CVER",22),this.G&&Pt(S,"X-HTTP-Session-Id",this.G),as(this,S),fe&&(this.R?w="headers="+Vr(Cn(fe))+"&"+w:this.u&&Ks(S,this.u,fe)),fi(this.h,se),this.Ra&&Pt(S,"TYPE","init"),this.S?(Pt(S,"$req",w),Pt(S,"SID","null"),se.U=!0,Kn(se,S,null)):Kn(se,S,w),this.I=2}}else this.I==3&&(h?Qs(this,h):this.i.length==0||gs(this.h)||Qs(this))};function Qs(h,w){var S;w?S=w.l:S=h.V++;const k=fn(h.J);Pt(k,"SID",h.M),Pt(k,"RID",S),Pt(k,"AID",h.K),as(h,k),h.u&&h.o&&Ks(k,h.u,h.o),S=new gr(h,h.j,S,h.D+1),h.u===null&&(S.J=h.o),w&&(h.i=w.G.concat(h.i)),w=Fo(h,S,1e3),S.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),fi(h.h,S),Kn(S,k,w)}function as(h,w){h.H&&dt(h.H,function(S,k){Pt(w,k,S)}),h.l&&dt({},function(S,k){Pt(w,k,S)})}function Fo(h,w,S){S=Math.min(h.i.length,S);const k=h.l?_(h.l.Ka,h.l,h):null;e:{var se=h.i;let ut=-1;for(;;){const pn=["count="+S];ut==-1?S>0?(ut=se[0].g,pn.push("ofs="+ut)):ut=0:pn.push("ofs="+ut);let kt=!0;for(let Gt=0;Gt<S;Gt++){var fe=se[Gt].g;const Qr=se[Gt].map;if(fe-=ut,fe<0)ut=Math.max(0,se[Gt].g-100),kt=!1;else try{fe="req"+fe+"_"||"";try{var Oe=Qr instanceof Map?Qr:Object.entries(Qr);for(const[Yr,Ir]of Oe){let bi=Ir;y(Ir)&&(bi=Di(Ir)),pn.push(fe+Yr+"="+encodeURIComponent(bi))}}catch(Yr){throw pn.push(fe+"type="+encodeURIComponent("_badmap")),Yr}}catch{k&&k(Qr)}}if(kt){Oe=pn.join("&");break e}}Oe=void 0}return h=h.i.splice(0,S),w.G=h,Oe}function Ys(h){if(!h.g&&!h.v){h.Y=1;var w=h.Da;Ke||I(),Be||(Ke(),Be=!0),D.add(w,h),h.A=0}}function zi(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=ui(_(h.Da,h),Va(h,h.A)),h.A++,!0)}r.Da=function(){if(this.v=null,qo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=ui(_(this.Wa,this),h)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,cn(10),Li(this),qo(this))};function bs(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function qo(h){h.g=new gr(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var w=fn(h.na);Pt(w,"RID","rpc"),Pt(w,"SID",h.M),Pt(w,"AID",h.K),Pt(w,"CI",h.F?"0":"1"),!h.F&&h.ia&&Pt(w,"TO",h.ia),Pt(w,"TYPE","xmlhttp"),as(h,w),h.u&&h.o&&Ks(w,h.u,h.o),h.O&&(h.g.H=h.O);var S=h.g;h=h.ba,S.M=1,S.A=vs(fn(w)),S.u=null,S.R=!0,es(S,h)}r.Va=function(){this.C!=null&&(this.C=null,Li(this),zi(this),cn(19))};function Pa(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function os(h,w){var S=null;if(h.g==w){Pa(h),bs(h),h.g=null;var k=2}else if(zr(h.h,w))S=w.G,Ca(h.h,w),k=1;else return;if(h.I!=0){if(w.o)if(k==1){S=w.u?w.u.length:0,w=Date.now()-w.F;var se=h.D;k=Mr(),un(k,new jr(k,S)),Ui(h)}else Ys(h);else if(se=w.m,se==3||se==0&&w.X>0||!(k==1&&ja(h,w)||k==2&&zi(h)))switch(S&&S.length>0&&(w=h.h,w.i=w.i.concat(S)),se){case 1:Gr(h,5);break;case 4:Gr(h,10);break;case 3:Gr(h,6);break;default:Gr(h,2)}}}function Va(h,w){let S=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(S*=2),S*w}function Gr(h,w){if(h.j.info("Error code "+w),w==2){var S=_(h.bb,h),k=h.Ua;const se=!k;k=new yr(k||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||dn(k,"https"),vs(k),se?vr(k.toString(),S):Fr(k.toString(),S)}else cn(2);h.I=0,h.l&&h.l.pa(w),La(h),Ma(h)}r.bb=function(h){h?(this.j.info("Successfully pinged google.com"),cn(2)):(this.j.info("Failed to ping google.com"),cn(1))};function La(h){if(h.I=0,h.ja=[],h.l){const w=ys(h.h);(w.length!=0||h.i.length!=0)&&(ie(h.ja,w),ie(h.ja,h.i),h.h.i.length=0,L(h.i),h.i.length=0),h.l.oa()}}function Ua(h,w,S){var k=S instanceof yr?fn(S):new yr(S);if(k.g!="")w&&(k.g=w+"."+k.g),Br(k,k.u);else{var se=c.location;k=se.protocol,w=w?w+"."+se.hostname:se.hostname,se=+se.port;const fe=new yr(null);k&&dn(fe,k),w&&(fe.g=w),se&&Br(fe,se),S&&(fe.h=S),k=fe}return S=h.G,w=h.wa,S&&w&&Pt(k,S,w),Pt(k,"VER",h.ka),as(h,k),k}function Nn(h,w,S){if(w&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=h.Aa&&!h.ma?new bt(new Ht({ab:S})):new bt(h.ma),w.Fa(h.L),w}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ws(){}r=ws.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Kr(){}Kr.prototype.g=function(h,w){return new tr(h,w)};function tr(h,w){bn.call(this),this.g=new _i(w),this.l=h,this.h=w&&w.messageUrlParams||null,h=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(h?h["X-WebChannel-Content-Type"]=w.messageContentType:h={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(h?h["X-WebChannel-Client-Profile"]=w.sa:h={"X-WebChannel-Client-Profile":w.sa}),this.g.U=h,(h=w&&w.Qb)&&!V(h)&&(this.g.u=h),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!V(w)&&(this.g.G=w,h=this.h,h!==null&&w in h&&(h=this.h,w in h&&delete h[w])),this.j=new Bi(this)}R(tr,bn),tr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tr.prototype.close=function(){_s(this.g)},tr.prototype.o=function(h){var w=this.g;if(typeof h=="string"){var S={};S.__data__=h,h=S}else this.v&&(S={},S.__data__=Di(h),h=S);w.i.push(new hn(w.Ya++,h)),w.I==3&&Ui(w)},tr.prototype.N=function(){this.g.l=null,delete this.j,_s(this.g),delete this.g,tr.Z.N.call(this)};function $s(h){Sn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var w=h.__sm__;if(w){e:{for(const S in w){h=S;break e}h=void 0}(this.i=h)&&(h=this.i,w=w!==null&&h in w?w[h]:void 0),this.data=w}else this.data=h}R($s,Sn);function Ho(){An.call(this),this.status=1}R(Ho,An);function Bi(h){this.g=h}R(Bi,ws),Bi.prototype.ra=function(){un(this.g,"a")},Bi.prototype.qa=function(h){un(this.g,new $s(h))},Bi.prototype.pa=function(h){un(this.g,new Ho)},Bi.prototype.oa=function(){un(this.g,"b")},Kr.prototype.createWebChannel=Kr.prototype.g,tr.prototype.send=tr.prototype.o,tr.prototype.open=tr.prototype.m,tr.prototype.close=tr.prototype.close,IE=function(){return new Kr},NE=function(){return Mr()},CE=ze,Zp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Oi.NO_ERROR=0,Oi.TIMEOUT=8,Oi.HTTP_ERROR=6,Sf=Oi,Bt.COMPLETE="complete",RE=Bt,ki.EventType=pr,pr.OPEN="a",pr.CLOSE="b",pr.ERROR="c",pr.MESSAGE="d",bn.prototype.listen=bn.prototype.J,xc=ki,bt.prototype.listenOnce=bt.prototype.K,bt.prototype.getLastError=bt.prototype.Ha,bt.prototype.getLastErrorCode=bt.prototype.ya,bt.prototype.getStatus=bt.prototype.ca,bt.prototype.getResponseJson=bt.prototype.La,bt.prototype.getResponseText=bt.prototype.la,bt.prototype.send=bt.prototype.ea,bt.prototype.setWithCredentials=bt.prototype.Fa,AE=bt}).apply(typeof df<"u"?df:typeof self<"u"?self:typeof window<"u"?window:{});const U0="@firebase/firestore",z0="4.9.3";class Er{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Er.UNAUTHENTICATED=new Er(null),Er.GOOGLE_CREDENTIALS=new Er("google-credentials-uid"),Er.FIRST_PARTY=new Er("first-party-uid"),Er.MOCK_USER=new Er("mock-user");let Iu="12.7.0";const _l=new jg("@firebase/firestore");function au(){return _l.logLevel}function Qe(r,...e){if(_l.logLevel<=Nt.DEBUG){const n=e.map(Yg);_l.debug(`Firestore (${Iu}): ${r}`,...n)}}function xa(r,...e){if(_l.logLevel<=Nt.ERROR){const n=e.map(Yg);_l.error(`Firestore (${Iu}): ${r}`,...n)}}function vu(r,...e){if(_l.logLevel<=Nt.WARN){const n=e.map(Yg);_l.warn(`Firestore (${Iu}): ${r}`,...n)}}function Yg(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function st(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,DE(r,s,n)}function DE(r,e,n){let s=`FIRESTORE (${Iu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw xa(s),new Error(s)}function Ft(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||DE(e,o,s)}function ft(r,e){return r}const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ge extends Aa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class So{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class kE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Gk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Er.UNAUTHENTICATED)))}shutdown(){}}class Kk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Qk{constructor(e){this.t=e,this.currentUser=Er.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ft(this.o===void 0,42304);let s=this.i;const o=v=>this.i!==s?(s=this.i,n(v)):Promise.resolve();let u=new So;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new So,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const v=u;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},y=v=>{Qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(Qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new So)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(Qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new kE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ft(e===null||typeof e=="string",2055,{h:e}),new Er(e)}}class Yk{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Er.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $k{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Yk(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Er.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class B0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Xk{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ft(this.o===void 0,3512);const s=u=>{u.error!=null&&Qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,Qe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{Qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new B0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new B0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Wk(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class $g{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Wk(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function It(r,e){return r<e?-1:r>e?1:0}function eg(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return jp(o)===jp(u)?It(o,u):jp(o)?1:-1}return It(r.length,e.length)}const Jk=55296,Zk=57343;function jp(r){const e=r.charCodeAt(0);return e>=Jk&&e<=Zk}function _u(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const F0="__name__";class Cs{constructor(e,n,s){n===void 0?n=0:n>e.length&&st(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&st(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Cs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cs?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Cs.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return It(e.length,n.length)}static compareSegments(e,n){const s=Cs.isNumericId(e),o=Cs.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Cs.extractNumericId(e).compare(Cs.extractNumericId(n)):eg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xo.fromString(e.substring(4,e.length-2))}}class Jt extends Cs{construct(e,n,s){return new Jt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ge(xe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new Jt(n)}static emptyPath(){return new Jt([])}}const eO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fr extends Cs{construct(e,n,s){return new fr(e,n,s)}static isValidIdentifier(e){return eO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===F0}static keyField(){return new fr([F0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new Ge(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new Ge(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new Ge(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,o+=2}else y==="`"?(c=!c,o++):y!=="."||c?(s+=y,o++):(u(),o++)}if(u(),c)throw new Ge(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fr(n)}static emptyPath(){return new fr([])}}class nt{constructor(e){this.path=e}static fromPath(e){return new nt(Jt.fromString(e))}static fromName(e){return new nt(Jt.fromString(e).popFirst(5))}static empty(){return new nt(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Jt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nt(new Jt(e.slice()))}}function OE(r,e,n){if(!n)throw new Ge(xe.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function tO(r,e,n,s){if(e===!0&&s===!0)throw new Ge(xe.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function q0(r){if(!nt.isDocumentKey(r))throw new Ge(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function H0(r){if(nt.isDocumentKey(r))throw new Ge(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ME(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function cd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":st(12329,{type:typeof r})}function Is(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ge(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cd(r);throw new Ge(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function qn(r,e){const n={typeString:r};return e&&(n.value=e),n}function Jc(r,e){if(!ME(r))throw new Ge(xe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const c=r[s];if(o&&typeof c!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new Ge(xe.INVALID_ARGUMENT,n);return!0}const G0=-62135596800,K0=1e6;class rn{static now(){return rn.fromMillis(Date.now())}static fromDate(e){return rn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*K0);return new rn(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ge(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ge(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<G0)throw new Ge(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ge(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/K0}_compareTo(e){return this.seconds===e.seconds?It(this.nanoseconds,e.nanoseconds):It(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jc(e,rn._jsonSchema))return new rn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-G0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rn._jsonSchemaVersion="firestore/timestamp/1.0",rn._jsonSchema={type:qn("string",rn._jsonSchemaVersion),seconds:qn("number"),nanoseconds:qn("number")};class ct{static fromTimestamp(e){return new ct(e)}static min(){return new ct(new rn(0,0))}static max(){return new ct(new rn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Lc=-1;function nO(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=ct.fromTimestamp(s===1e9?new rn(n+1,0):new rn(n,s));return new Co(o,nt.empty(),e)}function rO(r){return new Co(r.readTime,r.key,Lc)}class Co{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Co(ct.min(),nt.empty(),Lc)}static max(){return new Co(ct.max(),nt.empty(),Lc)}}function iO(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=nt.comparator(r.documentKey,e.documentKey),n!==0?n:It(r.largestBatchId,e.largestBatchId))}const sO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Du(r){if(r.code!==xe.FAILED_PRECONDITION||r.message!==sO)throw r;Qe("LocalStore","Unexpectedly lost primary lease")}class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&st(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Se(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Se?n:Se.resolve(n)}catch(n){return Se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Se.reject(n)}static resolve(e){return new Se(((n,s)=>{n(e)}))}static reject(e){return new Se(((n,s)=>{s(e)}))}static waitFor(e){return new Se(((n,s)=>{let o=0,u=0,c=!1;e.forEach((y=>{++o,y.next((()=>{++u,c&&u===o&&n()}),(v=>s(v)))})),c=!0,u===o&&n()}))}static or(e){let n=Se.resolve(!1);for(const s of e)n=n.next((o=>o?Se.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new Se(((s,o)=>{const u=e.length,c=new Array(u);let y=0;for(let v=0;v<u;v++){const _=v;n(e[_]).next((x=>{c[_]=x,++y,y===u&&s(c)}),(x=>o(x)))}}))}static doWhile(e,n){return new Se(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function oO(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ku(r){return r.name==="IndexedDbTransactionError"}class hd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hd.ce=-1;const Xg=-1;function fd(r){return r==null}function qf(r){return r===0&&1/r==-1/0}function lO(r){return typeof r=="number"&&Number.isInteger(r)&&!qf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const jE="";function uO(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Q0(e)),e=cO(r.get(n),e);return Q0(e)}function cO(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case jE:n+="";break;default:n+=u}}return n}function Q0(r){return r+jE+""}function Y0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Mo(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function PE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class _n{constructor(e,n){this.comparator=e,this.root=n||hr.EMPTY}insert(e,n){return new _n(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hr.BLACK,null,null))}remove(e){return new _n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mf(this.root,e,this.comparator,!1)}getReverseIterator(){return new mf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mf(this.root,e,this.comparator,!0)}}class mf{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hr{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??hr.RED,this.left=o??hr.EMPTY,this.right=u??hr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new hr(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return hr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return hr.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw st(43730,{key:this.key,value:this.value});if(this.right.isRed())throw st(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw st(27949);return e+(this.isRed()?0:1)}}hr.EMPTY=null,hr.RED=!0,hr.BLACK=!1;hr.EMPTY=new class{constructor(){this.size=0}get key(){throw st(57766)}get value(){throw st(16141)}get color(){throw st(16727)}get left(){throw st(29726)}get right(){throw st(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new hr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xn{constructor(e){this.comparator=e,this.data=new _n(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $0(this.data.getIterator())}getIteratorFrom(e){return new $0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Xn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Xn(this.comparator);return n.data=e,n}}class $0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ri{constructor(e){this.fields=e,e.sort(fr.comparator)}static empty(){return new Ri([])}unionWith(e){let n=new Xn(fr.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Ri(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _u(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class VE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class mr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new VE("Invalid base64 string: "+u):u}})(e);return new mr(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(e);return new mr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return It(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mr.EMPTY_BYTE_STRING=new mr("");const hO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function No(r){if(Ft(!!r,39018),typeof r=="string"){let e=0;const n=hO.exec(r);if(Ft(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:kn(r.seconds),nanos:kn(r.nanos)}}function kn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Io(r){return typeof r=="string"?mr.fromBase64String(r):mr.fromUint8Array(r)}const LE="server_timestamp",UE="__type__",zE="__previous_value__",BE="__local_write_time__";function Wg(r){return(r?.mapValue?.fields||{})[UE]?.stringValue===LE}function dd(r){const e=r.mapValue.fields[zE];return Wg(e)?dd(e):e}function Uc(r){const e=No(r.mapValue.fields[BE].timestampValue);return new rn(e.seconds,e.nanos)}class fO{constructor(e,n,s,o,u,c,y,v,_,x){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=x}}const Hf="(default)";class zc{constructor(e,n){this.projectId=e,this.database=n||Hf}static empty(){return new zc("","")}get isDefaultDatabase(){return this.database===Hf}isEqual(e){return e instanceof zc&&e.projectId===this.projectId&&e.database===this.database}}const FE="__type__",dO="__max__",pf={mapValue:{}},qE="__vector__",Gf="value";function Do(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Wg(r)?4:pO(r)?9007199254740991:mO(r)?10:11:st(28295,{value:r})}function Ps(r,e){if(r===e)return!0;const n=Do(r);if(n!==Do(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Uc(r).isEqual(Uc(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=No(o.timestampValue),y=No(u.timestampValue);return c.seconds===y.seconds&&c.nanos===y.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Io(o.bytesValue).isEqual(Io(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return kn(o.geoPointValue.latitude)===kn(u.geoPointValue.latitude)&&kn(o.geoPointValue.longitude)===kn(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return kn(o.integerValue)===kn(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=kn(o.doubleValue),y=kn(u.doubleValue);return c===y?qf(c)===qf(y):isNaN(c)&&isNaN(y)}return!1})(r,e);case 9:return _u(r.arrayValue.values||[],e.arrayValue.values||[],Ps);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},y=u.mapValue.fields||{};if(Y0(c)!==Y0(y))return!1;for(const v in c)if(c.hasOwnProperty(v)&&(y[v]===void 0||!Ps(c[v],y[v])))return!1;return!0})(r,e);default:return st(52216,{left:r})}}function Bc(r,e){return(r.values||[]).find((n=>Ps(n,e)))!==void 0}function bu(r,e){if(r===e)return 0;const n=Do(r),s=Do(e);if(n!==s)return It(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return It(r.booleanValue,e.booleanValue);case 2:return(function(u,c){const y=kn(u.integerValue||u.doubleValue),v=kn(c.integerValue||c.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(r,e);case 3:return X0(r.timestampValue,e.timestampValue);case 4:return X0(Uc(r),Uc(e));case 5:return eg(r.stringValue,e.stringValue);case 6:return(function(u,c){const y=Io(u),v=Io(c);return y.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(u,c){const y=u.split("/"),v=c.split("/");for(let _=0;_<y.length&&_<v.length;_++){const x=It(y[_],v[_]);if(x!==0)return x}return It(y.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,c){const y=It(kn(u.latitude),kn(c.latitude));return y!==0?y:It(kn(u.longitude),kn(c.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return W0(r.arrayValue,e.arrayValue);case 10:return(function(u,c){const y=u.fields||{},v=c.fields||{},_=y[Gf]?.arrayValue,x=v[Gf]?.arrayValue,R=It(_?.values?.length||0,x?.values?.length||0);return R!==0?R:W0(_,x)})(r.mapValue,e.mapValue);case 11:return(function(u,c){if(u===pf.mapValue&&c===pf.mapValue)return 0;if(u===pf.mapValue)return 1;if(c===pf.mapValue)return-1;const y=u.fields||{},v=Object.keys(y),_=c.fields||{},x=Object.keys(_);v.sort(),x.sort();for(let R=0;R<v.length&&R<x.length;++R){const O=eg(v[R],x[R]);if(O!==0)return O;const L=bu(y[v[R]],_[x[R]]);if(L!==0)return L}return It(v.length,x.length)})(r.mapValue,e.mapValue);default:throw st(23264,{he:n})}}function X0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return It(r,e);const n=No(r),s=No(e),o=It(n.seconds,s.seconds);return o!==0?o:It(n.nanos,s.nanos)}function W0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=bu(n[o],s[o]);if(u)return u}return It(n.length,s.length)}function wu(r){return tg(r)}function tg(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=No(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Io(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return nt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=tg(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const c of s)u?u=!1:o+=",",o+=`${c}:${tg(n.fields[c])}`;return o+"}"})(r.mapValue):st(61005,{value:r})}function Af(r){switch(Do(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dd(r);return e?16+Af(e):16;case 5:return 2*r.stringValue.length;case 6:return Io(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Af(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Mo(s.fields,((u,c)=>{o+=u.length+Af(c)})),o})(r.mapValue);default:throw st(13486,{value:r})}}function J0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ng(r){return!!r&&"integerValue"in r}function Jg(r){return!!r&&"arrayValue"in r}function Z0(r){return!!r&&"nullValue"in r}function e1(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Rf(r){return!!r&&"mapValue"in r}function mO(r){return(r?.mapValue?.fields||{})[FE]?.stringValue===qE}function Ic(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Mo(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Ic(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ic(r.arrayValue.values[n]);return e}return{...r}}function pO(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===dO}class ii{constructor(e){this.value=e}static empty(){return new ii({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Rf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ic(n)}setAll(e){let n=fr.emptyPath(),s={},o=[];e.forEach(((c,y)=>{if(!n.isImmediateParentOf(y)){const v=this.getFieldsMap(n);this.applyChanges(v,s,o),s={},o=[],n=y.popLast()}c?s[y.lastSegment()]=Ic(c):o.push(y.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Rf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ps(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Rf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Mo(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new ii(Ic(this.value))}}function HE(r){const e=[];return Mo(r.fields,((n,s)=>{const o=new fr([n]);if(Rf(s)){const u=HE(s.mapValue).fields;if(u.length===0)e.push(o);else for(const c of u)e.push(o.child(c))}else e.push(o)})),new Ri(e)}class Tr{constructor(e,n,s,o,u,c,y){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=c,this.documentState=y}static newInvalidDocument(e){return new Tr(e,0,ct.min(),ct.min(),ct.min(),ii.empty(),0)}static newFoundDocument(e,n,s,o){return new Tr(e,1,n,ct.min(),s,o,0)}static newNoDocument(e,n){return new Tr(e,2,n,ct.min(),ct.min(),ii.empty(),0)}static newUnknownDocument(e,n){return new Tr(e,3,n,ct.min(),ct.min(),ii.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ii.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kf{constructor(e,n){this.position=e,this.inclusive=n}}function t1(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],c=r.position[o];if(u.field.isKeyField()?s=nt.comparator(nt.fromName(c.referenceValue),n.key):s=bu(c,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function n1(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ps(r.position[n],e.position[n]))return!1;return!0}class Qf{constructor(e,n="asc"){this.field=e,this.dir=n}}function gO(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class GE{}class Fn extends GE{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new vO(e,n,s):n==="array-contains"?new wO(e,s):n==="in"?new EO(e,s):n==="not-in"?new TO(e,s):n==="array-contains-any"?new xO(e,s):new Fn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new _O(e,s):new bO(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(bu(n,this.value)):n!==null&&Do(this.value)===Do(n)&&this.matchesComparison(bu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return st(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ds extends GE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ds(e,n)}matches(e){return KE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function KE(r){return r.op==="and"}function QE(r){return yO(r)&&KE(r)}function yO(r){for(const e of r.filters)if(e instanceof ds)return!1;return!0}function rg(r){if(r instanceof Fn)return r.field.canonicalString()+r.op.toString()+wu(r.value);if(QE(r))return r.filters.map((e=>rg(e))).join(",");{const e=r.filters.map((n=>rg(n))).join(",");return`${r.op}(${e})`}}function YE(r,e){return r instanceof Fn?(function(s,o){return o instanceof Fn&&s.op===o.op&&s.field.isEqual(o.field)&&Ps(s.value,o.value)})(r,e):r instanceof ds?(function(s,o){return o instanceof ds&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,c,y)=>u&&YE(c,o.filters[y])),!0):!1})(r,e):void st(19439)}function $E(r){return r instanceof Fn?(function(n){return`${n.field.canonicalString()} ${n.op} ${wu(n.value)}`})(r):r instanceof ds?(function(n){return n.op.toString()+" {"+n.getFilters().map($E).join(" ,")+"}"})(r):"Filter"}class vO extends Fn{constructor(e,n,s){super(e,n,s),this.key=nt.fromName(s.referenceValue)}matches(e){const n=nt.comparator(e.key,this.key);return this.matchesComparison(n)}}class _O extends Fn{constructor(e,n){super(e,"in",n),this.keys=XE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class bO extends Fn{constructor(e,n){super(e,"not-in",n),this.keys=XE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function XE(r,e){return(e.arrayValue?.values||[]).map((n=>nt.fromName(n.referenceValue)))}class wO extends Fn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jg(n)&&Bc(n.arrayValue,this.value)}}class EO extends Fn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bc(this.value.arrayValue,n)}}class TO extends Fn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Bc(this.value.arrayValue,n)}}class xO extends Fn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Bc(this.value.arrayValue,s)))}}class SO{constructor(e,n=null,s=[],o=[],u=null,c=null,y=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=c,this.endAt=y,this.Te=null}}function r1(r,e=null,n=[],s=[],o=null,u=null,c=null){return new SO(r,e,n,s,o,u,c)}function Zg(r){const e=ft(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>rg(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),fd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>wu(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>wu(s))).join(",")),e.Te=n}return e.Te}function ey(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!gO(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!YE(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!n1(r.startAt,e.startAt)&&n1(r.endAt,e.endAt)}function ig(r){return nt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Zc{constructor(e,n=null,s=[],o=[],u=null,c="F",y=null,v=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=c,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function AO(r,e,n,s,o,u,c,y){return new Zc(r,e,n,s,o,u,c,y)}function ty(r){return new Zc(r)}function i1(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function WE(r){return r.collectionGroup!==null}function Dc(r){const e=ft(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let y=new Xn(fr.comparator);return c.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Qf(u,s))})),n.has(fr.keyField().canonicalString())||e.Ie.push(new Qf(fr.keyField(),s))}return e.Ie}function Ds(r){const e=ft(r);return e.Ee||(e.Ee=RO(e,Dc(r))),e.Ee}function RO(r,e){if(r.limitType==="F")return r1(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Qf(o.field,u)}));const n=r.endAt?new Kf(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Kf(r.startAt.position,r.startAt.inclusive):null;return r1(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function sg(r,e){const n=r.filters.concat([e]);return new Zc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function ag(r,e,n){return new Zc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function md(r,e){return ey(Ds(r),Ds(e))&&r.limitType===e.limitType}function JE(r){return`${Zg(Ds(r))}|lt:${r.limitType}`}function ou(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>$E(o))).join(", ")}]`),fd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>wu(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>wu(o))).join(",")),`Target(${s})`})(Ds(r))}; limitType=${r.limitType})`}function pd(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):nt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Dc(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(c,y,v){const _=t1(c,y,v);return c.inclusive?_<=0:_<0})(s.startAt,Dc(s),o)||s.endAt&&!(function(c,y,v){const _=t1(c,y,v);return c.inclusive?_>=0:_>0})(s.endAt,Dc(s),o))})(r,e)}function CO(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function ZE(r){return(e,n)=>{let s=!1;for(const o of Dc(r)){const u=NO(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function NO(r,e,n){const s=r.field.isKeyField()?nt.comparator(e.key,n.key):(function(u,c,y){const v=c.data.field(u),_=y.data.field(u);return v!==null&&_!==null?bu(v,_):st(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return st(19790,{direction:r.dir})}}class xl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Mo(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return PE(this.inner)}size(){return this.innerSize}}const IO=new _n(nt.comparator);function Sa(){return IO}const eT=new _n(nt.comparator);function Sc(...r){let e=eT;for(const n of r)e=e.insert(n.key,n);return e}function tT(r){let e=eT;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ul(){return kc()}function nT(){return kc()}function kc(){return new xl((r=>r.toString()),((r,e)=>r.isEqual(e)))}const DO=new _n(nt.comparator),kO=new Xn(nt.comparator);function Dt(...r){let e=kO;for(const n of r)e=e.add(n);return e}const OO=new Xn(It);function MO(){return OO}function ny(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qf(e)?"-0":e}}function rT(r){return{integerValue:""+r}}function jO(r,e){return lO(e)?rT(e):ny(r,e)}class gd{constructor(){this._=void 0}}function PO(r,e,n){return r instanceof Yf?(function(o,u){const c={fields:{[UE]:{stringValue:LE},[BE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Wg(u)&&(u=dd(u)),u&&(c.fields[zE]=u),{mapValue:c}})(n,e):r instanceof Fc?sT(r,e):r instanceof qc?aT(r,e):(function(o,u){const c=iT(o,u),y=s1(c)+s1(o.Ae);return ng(c)&&ng(o.Ae)?rT(y):ny(o.serializer,y)})(r,e)}function VO(r,e,n){return r instanceof Fc?sT(r,e):r instanceof qc?aT(r,e):n}function iT(r,e){return r instanceof $f?(function(s){return ng(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Yf extends gd{}class Fc extends gd{constructor(e){super(),this.elements=e}}function sT(r,e){const n=oT(e);for(const s of r.elements)n.some((o=>Ps(o,s)))||n.push(s);return{arrayValue:{values:n}}}class qc extends gd{constructor(e){super(),this.elements=e}}function aT(r,e){let n=oT(e);for(const s of r.elements)n=n.filter((o=>!Ps(o,s)));return{arrayValue:{values:n}}}class $f extends gd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function s1(r){return kn(r.integerValue||r.doubleValue)}function oT(r){return Jg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function LO(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Fc&&o instanceof Fc||s instanceof qc&&o instanceof qc?_u(s.elements,o.elements,Ps):s instanceof $f&&o instanceof $f?Ps(s.Ae,o.Ae):s instanceof Yf&&o instanceof Yf})(r.transform,e.transform)}class UO{constructor(e,n){this.version=e,this.transformResults=n}}class Ci{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ci}static exists(e){return new Ci(void 0,e)}static updateTime(e){return new Ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cf(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class yd{}function lT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new vd(r.key,Ci.none()):new eh(r.key,r.data,Ci.none());{const n=r.data,s=ii.empty();let o=new Xn(fr.comparator);for(let u of e.fields)if(!o.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?s.delete(u):s.set(u,c),o=o.add(u)}return new jo(r.key,s,new Ri(o.toArray()),Ci.none())}}function zO(r,e,n){r instanceof eh?(function(o,u,c){const y=o.value.clone(),v=o1(o.fieldTransforms,u,c.transformResults);y.setAll(v),u.convertToFoundDocument(c.version,y).setHasCommittedMutations()})(r,e,n):r instanceof jo?(function(o,u,c){if(!Cf(o.precondition,u))return void u.convertToUnknownDocument(c.version);const y=o1(o.fieldTransforms,u,c.transformResults),v=u.data;v.setAll(uT(o)),v.setAll(y),u.convertToFoundDocument(c.version,v).setHasCommittedMutations()})(r,e,n):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Oc(r,e,n,s){return r instanceof eh?(function(u,c,y,v){if(!Cf(u.precondition,c))return y;const _=u.value.clone(),x=l1(u.fieldTransforms,v,c);return _.setAll(x),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),null})(r,e,n,s):r instanceof jo?(function(u,c,y,v){if(!Cf(u.precondition,c))return y;const _=l1(u.fieldTransforms,v,c),x=c.data;return x.setAll(uT(u)),x.setAll(_),c.convertToFoundDocument(c.version,x).setHasLocalMutations(),y===null?null:y.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((R=>R.field)))})(r,e,n,s):(function(u,c,y){return Cf(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):y})(r,e,n)}function BO(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=iT(s.transform,o||null);u!=null&&(n===null&&(n=ii.empty()),n.set(s.field,u))}return n||null}function a1(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&_u(s,o,((u,c)=>LO(u,c)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class eh extends yd{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class jo extends yd{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function uT(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function o1(r,e,n){const s=new Map;Ft(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],c=u.transform,y=e.data.field(u.field);s.set(u.field,VO(c,y,n[o]))}return s}function l1(r,e,n){const s=new Map;for(const o of r){const u=o.transform,c=n.data.field(o.field);s.set(o.field,PO(u,c,e))}return s}class vd extends yd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FO extends yd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qO{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&zO(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Oc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Oc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=nT();return this.mutations.forEach((o=>{const u=e.get(o.key),c=u.overlayedDocument;let y=this.applyToLocalView(c,u.mutatedFields);y=n.has(o.key)?null:y;const v=lT(c,y);v!==null&&s.set(o.key,v),c.isValidDocument()||c.convertToNoDocument(ct.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Dt())}isEqual(e){return this.batchId===e.batchId&&_u(this.mutations,e.mutations,((n,s)=>a1(n,s)))&&_u(this.baseMutations,e.baseMutations,((n,s)=>a1(n,s)))}}class ry{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ft(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return DO})();const u=e.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,s[c].version);return new ry(e,n,s,o)}}class HO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class GO{constructor(e,n){this.count=e,this.unchangedNames=n}}var Bn,jt;function KO(r){switch(r){case xe.OK:return st(64938);case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0;default:return st(15467,{code:r})}}function cT(r){if(r===void 0)return xa("GRPC error has no .code"),xe.UNKNOWN;switch(r){case Bn.OK:return xe.OK;case Bn.CANCELLED:return xe.CANCELLED;case Bn.UNKNOWN:return xe.UNKNOWN;case Bn.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case Bn.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case Bn.INTERNAL:return xe.INTERNAL;case Bn.UNAVAILABLE:return xe.UNAVAILABLE;case Bn.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case Bn.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case Bn.NOT_FOUND:return xe.NOT_FOUND;case Bn.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case Bn.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case Bn.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case Bn.ABORTED:return xe.ABORTED;case Bn.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case Bn.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case Bn.DATA_LOSS:return xe.DATA_LOSS;default:return st(39323,{code:r})}}(jt=Bn||(Bn={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function QO(){return new TextEncoder}const YO=new xo([4294967295,4294967295],0);function u1(r){const e=QO().encode(r),n=new SE;return n.update(e),new Uint8Array(n.digest())}function c1(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new xo([n,s],0),new xo([o,u],0)]}class iy{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ac(`Invalid padding: ${n}`);if(s<0)throw new Ac(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ac(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ac(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=xo.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(xo.fromNumber(s)));return o.compare(YO)===1&&(o=new xo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=u1(e),[s,o]=c1(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);if(!this.we(c))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new iy(u,o,n);return s.forEach((y=>c.insert(y))),c}insert(e){if(this.ge===0)return;const n=u1(e),[s,o]=c1(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _d{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,th.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new _d(ct.min(),o,new _n(It),Sa(),Dt())}}class th{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new th(s,n,Dt(),Dt(),Dt())}}class Nf{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class hT{constructor(e,n){this.targetId=e,this.Ce=n}}class fT{constructor(e,n,s=mr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class h1{constructor(){this.ve=0,this.Fe=f1(),this.Me=mr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Dt(),n=Dt(),s=Dt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:st(38017,{changeType:u})}})),new th(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=f1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $O{constructor(e){this.Ge=e,this.ze=new Map,this.je=Sa(),this.Je=gf(),this.He=gf(),this.Ye=new _n(It)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:st(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(ig(u))if(s===0){const c=new nt(u.path);this.et(n,c,Tr.newNoDocument(c,ct.min()))}else Ft(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const y=this.ut(e),v=y?this.ct(y,e,c):1;if(v!==0){this.it(n);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,_)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let c,y;try{c=Io(s).toUint8Array()}catch(v){if(v instanceof VE)return vu("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new iy(c,o,u)}catch(v){return vu(v instanceof Ac?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const c=this.Ge.ht(),y=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;e.mightContain(y)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,c)=>{const y=this.ot(c);if(y){if(u.current&&ig(y.target)){const v=new nt(y.target.path);this.It(v).has(c)||this.Et(c,v)||this.et(c,v,Tr.newNoDocument(v,e))}u.Be&&(n.set(c,u.ke()),u.qe())}}));let s=Dt();this.He.forEach(((u,c)=>{let y=!0;c.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(s=s.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(e)));const o=new _d(e,n,this.Ye,this.je,s);return this.je=Sa(),this.Je=gf(),this.He=gf(),this.Ye=new _n(It),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new h1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Xn(It),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Xn(It),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Qe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new h1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function gf(){return new _n(nt.comparator)}function f1(){return new _n(nt.comparator)}const XO={asc:"ASCENDING",desc:"DESCENDING"},WO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JO={and:"AND",or:"OR"};class ZO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function og(r,e){return r.useProto3Json||fd(e)?e:{value:e}}function Xf(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function e4(r,e){return Xf(r,e.toTimestamp())}function ks(r){return Ft(!!r,49232),ct.fromTimestamp((function(n){const s=No(n);return new rn(s.seconds,s.nanos)})(r))}function sy(r,e){return lg(r,e).canonicalString()}function lg(r,e){const n=(function(o){return new Jt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function mT(r){const e=Jt.fromString(r);return Ft(_T(e),10190,{key:e.toString()}),e}function ug(r,e){return sy(r.databaseId,e.path)}function Pp(r,e){const n=mT(e);if(n.get(1)!==r.databaseId.projectId)throw new Ge(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Ge(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new nt(gT(n))}function pT(r,e){return sy(r.databaseId,e)}function t4(r){const e=mT(r);return e.length===4?Jt.emptyPath():gT(e)}function cg(r){return new Jt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function gT(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function d1(r,e,n){return{name:ug(r,e),fields:n.value.mapValue.fields}}function n4(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:st(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(_,x){return _.useProto3Json?(Ft(x===void 0||typeof x=="string",58123),mr.fromBase64String(x||"")):(Ft(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),mr.fromUint8Array(x||new Uint8Array))})(r,e.targetChange.resumeToken),c=e.targetChange.cause,y=c&&(function(_){const x=_.code===void 0?xe.UNKNOWN:cT(_.code);return new Ge(x,_.message||"")})(c);n=new fT(s,o,u,y||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Pp(r,s.document.name),u=ks(s.document.updateTime),c=s.document.createTime?ks(s.document.createTime):ct.min(),y=new ii({mapValue:{fields:s.document.fields}}),v=Tr.newFoundDocument(o,u,c,y),_=s.targetIds||[],x=s.removedTargetIds||[];n=new Nf(_,x,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Pp(r,s.document),u=s.readTime?ks(s.readTime):ct.min(),c=Tr.newNoDocument(o,u),y=s.removedTargetIds||[];n=new Nf([],y,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Pp(r,s.document),u=s.removedTargetIds||[];n=new Nf([],u,o,null)}else{if(!("filter"in e))return st(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,c=new GO(o,u),y=s.targetId;n=new hT(y,c)}}return n}function r4(r,e){let n;if(e instanceof eh)n={update:d1(r,e.key,e.value)};else if(e instanceof vd)n={delete:ug(r,e.key)};else if(e instanceof jo)n={update:d1(r,e.key,e.data),updateMask:f4(e.fieldMask)};else{if(!(e instanceof FO))return st(16599,{Vt:e.type});n={verify:ug(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,c){const y=c.transform;if(y instanceof Yf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Fc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof qc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof $f)return{fieldPath:c.field.canonicalString(),increment:y.Ae};throw st(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:e4(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:st(27497)})(r,e.precondition)),n}function i4(r,e){return r&&r.length>0?(Ft(e!==void 0,14353),r.map((n=>(function(o,u){let c=o.updateTime?ks(o.updateTime):ks(u);return c.isEqual(ct.min())&&(c=ks(u)),new UO(c,o.transformResults||[])})(n,e)))):[]}function s4(r,e){return{documents:[pT(r,e.path)]}}function a4(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=pT(r,o);const u=(function(_){if(_.length!==0)return vT(ds.create(_,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const c=(function(_){if(_.length!==0)return _.map((x=>(function(O){return{field:lu(O.field),direction:u4(O.dir)}})(x)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const y=og(r,e.limit);return y!==null&&(n.structuredQuery.limit=y),e.startAt&&(n.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:n,parent:o}}function o4(r){let e=t4(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ft(s===1,65062);const x=n.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let u=[];n.where&&(u=(function(R){const O=yT(R);return O instanceof ds&&QE(O)?O.getFilters():[O]})(n.where));let c=[];n.orderBy&&(c=(function(R){return R.map((O=>(function(ie){return new Qf(uu(ie.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ie.direction))})(O)))})(n.orderBy));let y=null;n.limit&&(y=(function(R){let O;return O=typeof R=="object"?R.value:R,fd(O)?null:O})(n.limit));let v=null;n.startAt&&(v=(function(R){const O=!!R.before,L=R.values||[];return new Kf(L,O)})(n.startAt));let _=null;return n.endAt&&(_=(function(R){const O=!R.before,L=R.values||[];return new Kf(L,O)})(n.endAt)),AO(e,o,c,u,y,"F",v,_)}function l4(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return st(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=uu(n.unaryFilter.field);return Fn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=uu(n.unaryFilter.field);return Fn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=uu(n.unaryFilter.field);return Fn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=uu(n.unaryFilter.field);return Fn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return st(61313);default:return st(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Fn.create(uu(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return st(58110);default:return st(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ds.create(n.compositeFilter.filters.map((s=>yT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return st(1026)}})(n.compositeFilter.op))})(r):st(30097,{filter:r})}function u4(r){return XO[r]}function c4(r){return WO[r]}function h4(r){return JO[r]}function lu(r){return{fieldPath:r.canonicalString()}}function uu(r){return fr.fromServerFormat(r.fieldPath)}function vT(r){return r instanceof Fn?(function(n){if(n.op==="=="){if(e1(n.value))return{unaryFilter:{field:lu(n.field),op:"IS_NAN"}};if(Z0(n.value))return{unaryFilter:{field:lu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(e1(n.value))return{unaryFilter:{field:lu(n.field),op:"IS_NOT_NAN"}};if(Z0(n.value))return{unaryFilter:{field:lu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lu(n.field),op:c4(n.op),value:n.value}}})(r):r instanceof ds?(function(n){const s=n.getFilters().map((o=>vT(o)));return s.length===1?s[0]:{compositeFilter:{op:h4(n.op),filters:s}}})(r):st(54877,{filter:r})}function f4(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function _T(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class bo{constructor(e,n,s,o,u=ct.min(),c=ct.min(),y=mr.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new bo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class d4{constructor(e){this.yt=e}}function m4(r){const e=o4({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ag(e,e.limit,"L"):e}class p4{constructor(){this.Cn=new g4}addToCollectionParentIndex(e,n){return this.Cn.add(n),Se.resolve()}getCollectionParents(e,n){return Se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Se.resolve()}deleteFieldIndex(e,n){return Se.resolve()}deleteAllFieldIndexes(e){return Se.resolve()}createTargetIndexes(e,n){return Se.resolve()}getDocumentsMatchingTarget(e,n){return Se.resolve(null)}getIndexType(e,n){return Se.resolve(0)}getFieldIndexes(e,n){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,n){return Se.resolve(Co.min())}getMinOffsetFromCollectionGroup(e,n){return Se.resolve(Co.min())}updateCollectionGroup(e,n,s){return Se.resolve()}updateIndexEntries(e,n){return Se.resolve()}}class g4{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Xn(Jt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Xn(Jt.comparator)).toArray()}}const m1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bT=41943040;class ti{static withCacheSize(e){return new ti(e,ti.DEFAULT_COLLECTION_PERCENTILE,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}ti.DEFAULT_COLLECTION_PERCENTILE=10,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ti.DEFAULT=new ti(bT,ti.DEFAULT_COLLECTION_PERCENTILE,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ti.DISABLED=new ti(-1,0,0);class Eu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Eu(0)}static cr(){return new Eu(-1)}}const p1="LruGarbageCollector",y4=1048576;function g1([r,e],[n,s]){const o=It(r,n);return o===0?It(e,s):o}class v4{constructor(e){this.Ir=e,this.buffer=new Xn(g1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();g1(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _4{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Qe(p1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ku(n)?Qe(p1,"Ignoring IndexedDB error during garbage collection: ",n):await Du(n)}await this.Vr(3e5)}))}}class b4{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return Se.resolve(hd.ce);const s=new v4(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Qe("LruGarbageCollector","Garbage collection skipped; disabled"),Se.resolve(m1)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),m1):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,c,y,v,_;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((R=>(R>this.params.maximumSequenceNumbersToCollect?(Qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,c=Date.now(),this.nthSequenceNumber(e,o)))).next((R=>(s=R,y=Date.now(),this.removeTargets(e,s,n)))).next((R=>(u=R,v=Date.now(),this.removeOrphanedDocuments(e,s)))).next((R=>(_=Date.now(),au()<=Nt.DEBUG&&Qe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-x}ms
	Determined least recently used ${o} in `+(y-c)+`ms
	Removed ${u} targets in `+(v-y)+`ms
	Removed ${R} documents in `+(_-v)+`ms
Total Duration: ${_-x}ms`),Se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:R}))))}}function w4(r,e){return new b4(r,e)}class E4{constructor(){this.changes=new xl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Se.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class T4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class x4{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Oc(s.mutation,o,Ri.empty(),rn.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Dt()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Dt()){const o=ul();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let c=Sc();return u.forEach(((y,v)=>{c=c.insert(y,v.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=ul();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Dt())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((c,y)=>{n.set(c,y)}))}))}computeViews(e,n,s,o){let u=Sa();const c=kc(),y=(function(){return kc()})();return n.forEach(((v,_)=>{const x=s.get(_.key);o.has(_.key)&&(x===void 0||x.mutation instanceof jo)?u=u.insert(_.key,_):x!==void 0?(c.set(_.key,x.mutation.getFieldMask()),Oc(x.mutation,_,x.mutation.getFieldMask(),rn.now())):c.set(_.key,Ri.empty())})),this.recalculateAndSaveOverlays(e,u).next((v=>(v.forEach(((_,x)=>c.set(_,x))),n.forEach(((_,x)=>y.set(_,new T4(x,c.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,n){const s=kc();let o=new _n(((c,y)=>c-y)),u=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const y of c)y.keys().forEach((v=>{const _=n.get(v);if(_===null)return;let x=s.get(v)||Ri.empty();x=y.applyToLocalView(_,x),s.set(v,x);const R=(o.get(y.batchId)||Dt()).add(v);o=o.insert(y.batchId,R)}))})).next((()=>{const c=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,x=v.value,R=nT();x.forEach((O=>{if(!u.has(O)){const L=lT(n.get(O),s.get(O));L!==null&&R.set(O,L),u=u.add(O)}})),c.push(this.documentOverlayCache.saveOverlays(e,_,R))}return Se.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(c){return nt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):WE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):Se.resolve(ul());let y=Lc,v=u;return c.next((_=>Se.forEach(_,((x,R)=>(y<R.largestBatchId&&(y=R.largestBatchId),u.get(x)?Se.resolve():this.remoteDocumentCache.getEntry(e,x).next((O=>{v=v.insert(x,O)}))))).next((()=>this.populateOverlays(e,_,u))).next((()=>this.computeViews(e,v,_,Dt()))).next((x=>({batchId:y,changes:tT(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new nt(n)).next((s=>{let o=Sc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let c=Sc();return this.indexManager.getCollectionParents(e,u).next((y=>Se.forEach(y,(v=>{const _=(function(R,O){return new Zc(O,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)})(n,v.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next((x=>{x.forEach(((R,O)=>{c=c.insert(R,O)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((c=>{u.forEach(((v,_)=>{const x=_.getKey();c.get(x)===null&&(c=c.insert(x,Tr.newInvalidDocument(x)))}));let y=Sc();return c.forEach(((v,_)=>{const x=u.get(v);x!==void 0&&Oc(x.mutation,_,Ri.empty(),rn.now()),pd(n,_)&&(y=y.insert(v,_))})),y}))}}class S4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Se.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ks(o.createTime)}})(n)),Se.resolve()}getNamedQuery(e,n){return Se.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:m4(o.bundledQuery),readTime:ks(o.readTime)}})(n)),Se.resolve()}}class A4{constructor(){this.overlays=new _n(nt.comparator),this.qr=new Map}getOverlay(e,n){return Se.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ul();return Se.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),Se.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),Se.resolve()}getOverlaysForCollection(e,n,s){const o=ul(),u=n.length+1,c=new nt(n.child("")),y=this.overlays.getIteratorFrom(c);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&v.largestBatchId>s&&o.set(v.getKey(),v)}return Se.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new _n(((_,x)=>_-x));const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let x=u.get(_.largestBatchId);x===null&&(x=ul(),u=u.insert(_.largestBatchId,x)),x.set(_.getKey(),_)}}const y=ul(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,x)=>y.set(_,x))),!(y.size()>=o)););return Se.resolve(y)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new HO(n,s));let u=this.qr.get(n);u===void 0&&(u=Dt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class R4{constructor(){this.sessionToken=mr.EMPTY_BYTE_STRING}getSessionToken(e){return Se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Se.resolve()}}class ay{constructor(){this.Qr=new Xn(ir.$r),this.Ur=new Xn(ir.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new ir(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new ir(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new nt(new Jt([])),s=new ir(n,e),o=new ir(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new nt(new Jt([])),s=new ir(n,e),o=new ir(n,e+1);let u=Dt();return this.Ur.forEachInRange([s,o],(c=>{u=u.add(c.key)})),u}containsKey(e){const n=new ir(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class ir{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return nt.comparator(e.key,n.key)||It(e.Yr,n.Yr)}static Kr(e,n){return It(e.Yr,n.Yr)||nt.comparator(e.key,n.key)}}class C4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Xn(ir.$r)}checkEmpty(e){return Se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new qO(u,n,s,o);this.mutationQueue.push(c);for(const y of o)this.Zr=this.Zr.add(new ir(y.key,u)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return Se.resolve(c)}lookupMutationBatch(e,n){return Se.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return Se.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(this.mutationQueue.length===0?Xg:this.tr-1)}getAllMutationBatches(e){return Se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new ir(n,0),o=new ir(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(c=>{const y=this.Xr(c.Yr);u.push(y)})),Se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Xn(It);return n.forEach((o=>{const u=new ir(o,0),c=new ir(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(y=>{s=s.add(y.Yr)}))})),Se.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;nt.isDocumentKey(u)||(u=u.child(""));const c=new ir(new nt(u),0);let y=new Xn(It);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(y=y.add(v.Yr)),!0)}),c),Se.resolve(this.ti(y))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ft(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Se.forEach(n.mutations,(o=>{const u=new ir(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new ir(n,0),o=this.Zr.firstAfterOrEqual(s);return Se.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Se.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class N4{constructor(e){this.ri=e,this.docs=(function(){return new _n(nt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Se.resolve(s?s.document.mutableCopy():Tr.newInvalidDocument(n))}getEntries(e,n){let s=Sa();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Tr.newInvalidDocument(o))})),Se.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Sa();const c=n.path,y=new nt(c.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:x}}=v.getNext();if(!c.isPrefixOf(_.path))break;_.path.length>c.length+1||iO(rO(x),s)<=0||(o.has(x.key)||pd(n,x))&&(u=u.insert(x.key,x.mutableCopy()))}return Se.resolve(u)}getAllFromCollectionGroup(e,n,s,o){st(9500)}ii(e,n){return Se.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new I4(this)}getSize(e){return Se.resolve(this.size)}}class I4 extends E4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),Se.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class D4{constructor(e){this.persistence=e,this.si=new xl((n=>Zg(n)),ey),this.lastRemoteSnapshotVersion=ct.min(),this.highestTargetId=0,this.oi=0,this._i=new ay,this.targetCount=0,this.ai=Eu.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),Se.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Eu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Se.resolve()}updateTargetData(e,n){return this.Pr(n),Se.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((c,y)=>{y.sequenceNumber<=n&&s.get(y.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),Se.waitFor(u).next((()=>o))}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return Se.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),Se.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((c=>{u.push(o.markPotentiallyOrphaned(e,c))})),Se.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Se.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return Se.resolve(s)}containsKey(e,n){return Se.resolve(this._i.containsKey(n))}}class wT{constructor(e,n){this.ui={},this.overlays={},this.ci=new hd(0),this.li=!1,this.li=!0,this.hi=new R4,this.referenceDelegate=e(this),this.Pi=new D4(this),this.indexManager=new p4,this.remoteDocumentCache=(function(o){return new N4(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new d4(n),this.Ii=new S4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new A4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new C4(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){Qe("MemoryPersistence","Starting transaction:",e);const o=new k4(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return Se.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class k4 extends aO{constructor(e){super(),this.currentSequenceNumber=e}}class oy{constructor(e){this.persistence=e,this.Ri=new ay,this.Vi=null}static mi(e){return new oy(e)}get fi(){if(this.Vi)return this.Vi;throw st(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),Se.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),Se.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Se.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.fi,(s=>{const o=nt.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,ct.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Se.or([()=>Se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Wf{constructor(e,n){this.persistence=e,this.pi=new xl((s=>uO(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=w4(this,n)}static mi(e,n){return new Wf(e,n)}Ei(){}di(e){return Se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return Se.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?Se.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,n).next((y=>{y||(s++,u.removeEntry(c,ct.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Se.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),Se.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),Se.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Se.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Af(e.data.value)),n}br(e,n,s){return Se.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return Se.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ly{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Dt(),o=Dt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ly(e,n.fromCache,s,o)}}class O4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class M4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return xN()?8:oO(xr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new O4;return this.Ss(e,n,c).next((y=>{if(u.result=y,this.Vs)return this.bs(e,n,c,y.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(au()<=Nt.DEBUG&&Qe("QueryEngine","SDK will not create cache indexes for query:",ou(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Se.resolve()):(au()<=Nt.DEBUG&&Qe("QueryEngine","Query:",ou(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(au()<=Nt.DEBUG&&Qe("QueryEngine","The SDK decides to create cache indexes for query:",ou(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ds(n))):Se.resolve())}ys(e,n){if(i1(n))return Se.resolve(null);let s=Ds(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=ag(n,null,"F"),s=Ds(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const c=Dt(...u);return this.ps.getDocuments(e,c).next((y=>this.indexManager.getMinOffset(e,s).next((v=>{const _=this.Ds(n,y);return this.Cs(n,_,c,v.readTime)?this.ys(e,ag(n,null,"F")):this.vs(e,_,n,v)}))))})))))}ws(e,n,s,o){return i1(n)||o.isEqual(ct.min())?Se.resolve(null):this.ps.getDocuments(e,s).next((u=>{const c=this.Ds(n,u);return this.Cs(n,c,s,o)?Se.resolve(null):(au()<=Nt.DEBUG&&Qe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ou(n)),this.vs(e,c,n,nO(o,Lc)).next((y=>y)))}))}Ds(e,n){let s=new Xn(ZE(e));return n.forEach(((o,u)=>{pd(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return au()<=Nt.DEBUG&&Qe("QueryEngine","Using full collection scan to execute query:",ou(n)),this.ps.getDocumentsMatchingQuery(e,n,Co.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const uy="LocalStore",j4=3e8;class P4{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new _n(It),this.xs=new xl((u=>Zg(u)),ey),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new x4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function V4(r,e,n,s){return new P4(r,e,n,s)}async function ET(r,e){const n=ft(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const c=[],y=[];let v=Dt();for(const _ of o){c.push(_.batchId);for(const x of _.mutations)v=v.add(x.key)}for(const _ of u){y.push(_.batchId);for(const x of _.mutations)v=v.add(x.key)}return n.localDocuments.getDocuments(s,v).next((_=>({Ls:_,removedBatchIds:c,addedBatchIds:y})))}))}))}function L4(r,e){const n=ft(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,x){const R=_.batch,O=R.keys();let L=Se.resolve();return O.forEach((ie=>{L=L.next((()=>x.getEntry(v,ie))).next((Z=>{const H=_.docVersions.get(ie);Ft(H!==null,48541),Z.version.compareTo(H)<0&&(R.applyToRemoteDocument(Z,_),Z.isValidDocument()&&(Z.setReadTime(_.commitVersion),x.addEntry(Z)))}))})),L.next((()=>y.mutationQueue.removeMutationBatch(v,R)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(y){let v=Dt();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function TT(r){const e=ft(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function U4(r,e){const n=ft(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const y=[];e.targetChanges.forEach(((x,R)=>{const O=o.get(R);if(!O)return;y.push(n.Pi.removeMatchingKeys(u,x.removedDocuments,R).next((()=>n.Pi.addMatchingKeys(u,x.addedDocuments,R))));let L=O.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(R)!==null?L=L.withResumeToken(mr.EMPTY_BYTE_STRING,ct.min()).withLastLimboFreeSnapshotVersion(ct.min()):x.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(x.resumeToken,s)),o=o.insert(R,L),(function(Z,H,pe){return Z.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=j4?!0:pe.addedDocuments.size+pe.modifiedDocuments.size+pe.removedDocuments.size>0})(O,L,x)&&y.push(n.Pi.updateTargetData(u,L))}));let v=Sa(),_=Dt();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&y.push(n.persistence.referenceDelegate.updateLimboDocument(u,x))})),y.push(z4(u,c,e.documentUpdates).next((x=>{v=x.ks,_=x.qs}))),!s.isEqual(ct.min())){const x=n.Pi.getLastRemoteSnapshotVersion(u).next((R=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));y.push(x)}return Se.waitFor(y).next((()=>c.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,v,_))).next((()=>v))})).then((u=>(n.Ms=o,u)))}function z4(r,e,n){let s=Dt(),o=Dt();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let c=Sa();return n.forEach(((y,v)=>{const _=u.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(ct.min())?(e.removeEntry(y,v.readTime),c=c.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),c=c.insert(y,v)):Qe(uy,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{ks:c,qs:o}}))}function B4(r,e){const n=ft(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Xg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function F4(r,e){const n=ft(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,Se.resolve(o)):n.Pi.allocateTargetId(s).next((c=>(o=new bo(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function hg(r,e,n){const s=ft(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!ku(c))throw c;Qe(uy,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function y1(r,e,n){const s=ft(r);let o=ct.min(),u=Dt();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(v,_,x){const R=ft(v),O=R.xs.get(x);return O!==void 0?Se.resolve(R.Ms.get(O)):R.Pi.getTargetData(_,x)})(s,c,Ds(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,y.targetId).next((v=>{u=v}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?o:ct.min(),n?u:Dt()))).next((y=>(q4(s,CO(e),y),{documents:y,Qs:u})))))}function q4(r,e,n){let s=r.Os.get(e)||ct.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class v1{constructor(){this.activeTargetIds=MO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class H4{constructor(){this.Mo=new v1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new v1,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class G4{Oo(e){}shutdown(){}}const _1="ConnectivityMonitor";class b1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Qe(_1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Qe(_1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let yf=null;function fg(){return yf===null?yf=(function(){return 268435456+Math.round(2147483648*Math.random())})():yf++,"0x"+yf.toString(16)}const Vp="RestConnection",K4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Q4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Hf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const c=fg(),y=this.zo(e,n.toUriEncodedString());Qe(Vp,`Sending RPC '${e}' ${c}:`,y,s);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,u);const{host:_}=new URL(y),x=Ru(_);return this.Jo(e,y,v,s,x).then((R=>(Qe(Vp,`Received RPC '${e}' ${c}: `,R),R)),(R=>{throw vu(Vp,`RPC '${e}' ${c} failed with error: `,R,"url: ",y,"request:",s),R}))}Ho(e,n,s,o,u,c){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Iu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=K4[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class Y4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const wr="WebChannelConnection";class $4 extends Q4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const c=fg();return new Promise(((y,v)=>{const _=new AE;_.setWithCredentials(!0),_.listenOnce(RE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Sf.NO_ERROR:const R=_.getResponseJson();Qe(wr,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(R)),y(R);break;case Sf.TIMEOUT:Qe(wr,`RPC '${e}' ${c} timed out`),v(new Ge(xe.DEADLINE_EXCEEDED,"Request time out"));break;case Sf.HTTP_ERROR:const O=_.getStatus();if(Qe(wr,`RPC '${e}' ${c} failed with status:`,O,"response text:",_.getResponseText()),O>0){let L=_.getResponseJson();Array.isArray(L)&&(L=L[0]);const ie=L?.error;if(ie&&ie.status&&ie.message){const Z=(function(pe){const de=pe.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(de)>=0?de:xe.UNKNOWN})(ie.status);v(new Ge(Z,ie.message))}else v(new Ge(xe.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new Ge(xe.UNAVAILABLE,"Connection failed."));break;default:st(9055,{l_:e,streamId:c,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{Qe(wr,`RPC '${e}' ${c} completed.`)}}));const x=JSON.stringify(o);Qe(wr,`RPC '${e}' ${c} sending request:`,o),_.send(n,"POST",x,s,15)}))}T_(e,n,s){const o=fg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=IE(),y=NE(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,n,s),v.encodeInitMessageHeaders=!0;const x=u.join("");Qe(wr,`Creating RPC '${e}' stream ${o}: ${x}`,v);const R=c.createWebChannel(x,v);this.I_(R);let O=!1,L=!1;const ie=new Y4({Yo:H=>{L?Qe(wr,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(O||(Qe(wr,`Opening RPC '${e}' stream ${o} transport.`),R.open(),O=!0),Qe(wr,`RPC '${e}' stream ${o} sending:`,H),R.send(H))},Zo:()=>R.close()}),Z=(H,pe,de)=>{H.listen(pe,(ve=>{try{de(ve)}catch(Fe){setTimeout((()=>{throw Fe}),0)}}))};return Z(R,xc.EventType.OPEN,(()=>{L||(Qe(wr,`RPC '${e}' stream ${o} transport opened.`),ie.o_())})),Z(R,xc.EventType.CLOSE,(()=>{L||(L=!0,Qe(wr,`RPC '${e}' stream ${o} transport closed`),ie.a_(),this.E_(R))})),Z(R,xc.EventType.ERROR,(H=>{L||(L=!0,vu(wr,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),ie.a_(new Ge(xe.UNAVAILABLE,"The operation could not be completed")))})),Z(R,xc.EventType.MESSAGE,(H=>{if(!L){const pe=H.data[0];Ft(!!pe,16349);const de=pe,ve=de?.error||de[0]?.error;if(ve){Qe(wr,`RPC '${e}' stream ${o} received error:`,ve);const Fe=ve.status;let Ke=(function(I){const j=Bn[I];if(j!==void 0)return cT(j)})(Fe),Be=ve.message;Ke===void 0&&(Ke=xe.INTERNAL,Be="Unknown error status: "+Fe+" with message "+ve.message),L=!0,ie.a_(new Ge(Ke,Be)),R.close()}else Qe(wr,`RPC '${e}' stream ${o} received:`,pe),ie.u_(pe)}})),Z(y,CE.STAT_EVENT,(H=>{H.stat===Zp.PROXY?Qe(wr,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===Zp.NOPROXY&&Qe(wr,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{ie.__()}),0),ie}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Lp(){return typeof document<"u"?document:null}function bd(r){return new ZO(r,!0)}class xT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&Qe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const w1="PersistentStream";class ST{constructor(e,n,s,o,u,c,y,v){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===xe.RESOURCE_EXHAUSTED?(xa(n.toString()),xa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===xe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new Ge(xe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Qe(w1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Qe(w1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class X4 extends ST{constructor(e,n,s,o,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=n4(this.serializer,e),s=(function(u){if(!("targetChange"in u))return ct.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?ct.min():c.readTime?ks(c.readTime):ct.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=cg(this.serializer),n.addTarget=(function(u,c){let y;const v=c.target;if(y=ig(v)?{documents:s4(u,v)}:{query:a4(u,v).ft},y.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){y.resumeToken=dT(u,c.resumeToken);const _=og(u,c.expectedCount);_!==null&&(y.expectedCount=_)}else if(c.snapshotVersion.compareTo(ct.min())>0){y.readTime=Xf(u,c.snapshotVersion.toTimestamp());const _=og(u,c.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const s=l4(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=cg(this.serializer),n.removeTarget=e,this.q_(n)}}class W4 extends ST{constructor(e,n,s,o,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=i4(e.writeResults,e.commitTime),s=ks(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=cg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>r4(this.serializer,s)))};this.q_(n)}}class J4{}class Z4 extends J4{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Ge(xe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(e,lg(n,s),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ge(xe.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,y])=>this.connection.Ho(e,lg(n,s),o,c,y,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ge(xe.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class eM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xa(n),this.aa=!1):Qe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const bl="RemoteStore";class tM{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Sl(this)&&(Qe(bl,"Restarting streams for network reachability change."),await(async function(v){const _=ft(v);_.Ea.add(4),await nh(_),_.Ra.set("Unknown"),_.Ea.delete(4),await wd(_)})(this))}))})),this.Ra=new eM(s,o)}}async function wd(r){if(Sl(r))for(const e of r.da)await e(!0)}async function nh(r){for(const e of r.da)await e(!1)}function AT(r,e){const n=ft(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),dy(n)?fy(n):Ou(n).O_()&&hy(n,e))}function cy(r,e){const n=ft(r),s=Ou(n);n.Ia.delete(e),s.O_()&&RT(n,e),n.Ia.size===0&&(s.O_()?s.L_():Sl(n)&&n.Ra.set("Unknown"))}function hy(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ct.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ou(r).Y_(e)}function RT(r,e){r.Va.Ue(e),Ou(r).Z_(e)}function fy(r){r.Va=new $O({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Ou(r).start(),r.Ra.ua()}function dy(r){return Sl(r)&&!Ou(r).x_()&&r.Ia.size>0}function Sl(r){return ft(r).Ea.size===0}function CT(r){r.Va=void 0}async function nM(r){r.Ra.set("Online")}async function rM(r){r.Ia.forEach(((e,n)=>{hy(r,e)}))}async function iM(r,e){CT(r),dy(r)?(r.Ra.ha(e),fy(r)):r.Ra.set("Unknown")}async function sM(r,e,n){if(r.Ra.set("Online"),e instanceof fT&&e.state===2&&e.cause)try{await(async function(o,u){const c=u.cause;for(const y of u.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,c),o.Ia.delete(y),o.Va.removeTarget(y))})(r,e)}catch(s){Qe(bl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Jf(r,s)}else if(e instanceof Nf?r.Va.Ze(e):e instanceof hT?r.Va.st(e):r.Va.tt(e),!n.isEqual(ct.min()))try{const s=await TT(r.localStore);n.compareTo(s)>=0&&await(function(u,c){const y=u.Va.Tt(c);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const x=u.Ia.get(_);x&&u.Ia.set(_,x.withResumeToken(v.resumeToken,c))}})),y.targetMismatches.forEach(((v,_)=>{const x=u.Ia.get(v);if(!x)return;u.Ia.set(v,x.withResumeToken(mr.EMPTY_BYTE_STRING,x.snapshotVersion)),RT(u,v);const R=new bo(x.target,v,_,x.sequenceNumber);hy(u,R)})),u.remoteSyncer.applyRemoteEvent(y)})(r,n)}catch(s){Qe(bl,"Failed to raise snapshot:",s),await Jf(r,s)}}async function Jf(r,e,n){if(!ku(e))throw e;r.Ea.add(1),await nh(r),r.Ra.set("Offline"),n||(n=()=>TT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{Qe(bl,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await wd(r)}))}function NT(r,e){return e().catch((n=>Jf(r,n,e)))}async function Ed(r){const e=ft(r),n=ko(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Xg;for(;aM(e);)try{const o=await B4(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,oM(e,o)}catch(o){await Jf(e,o)}IT(e)&&DT(e)}function aM(r){return Sl(r)&&r.Ta.length<10}function oM(r,e){r.Ta.push(e);const n=ko(r);n.O_()&&n.X_&&n.ea(e.mutations)}function IT(r){return Sl(r)&&!ko(r).x_()&&r.Ta.length>0}function DT(r){ko(r).start()}async function lM(r){ko(r).ra()}async function uM(r){const e=ko(r);for(const n of r.Ta)e.ea(n.mutations)}async function cM(r,e,n){const s=r.Ta.shift(),o=ry.from(s,e,n);await NT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Ed(r)}async function hM(r,e){e&&ko(r).X_&&await(async function(s,o){if((function(c){return KO(c)&&c!==xe.ABORTED})(o.code)){const u=s.Ta.shift();ko(s).B_(),await NT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Ed(s)}})(r,e),IT(r)&&DT(r)}async function E1(r,e){const n=ft(r);n.asyncQueue.verifyOperationInProgress(),Qe(bl,"RemoteStore received new credentials");const s=Sl(n);n.Ea.add(3),await nh(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await wd(n)}async function fM(r,e){const n=ft(r);e?(n.Ea.delete(2),await wd(n)):e||(n.Ea.add(2),await nh(n),n.Ra.set("Unknown"))}function Ou(r){return r.ma||(r.ma=(function(n,s,o){const u=ft(n);return u.sa(),new X4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:nM.bind(null,r),t_:rM.bind(null,r),r_:iM.bind(null,r),H_:sM.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),dy(r)?fy(r):r.Ra.set("Unknown")):(await r.ma.stop(),CT(r))}))),r.ma}function ko(r){return r.fa||(r.fa=(function(n,s,o){const u=ft(n);return u.sa(),new W4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:lM.bind(null,r),r_:hM.bind(null,r),ta:uM.bind(null,r),na:cM.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Ed(r)):(await r.fa.stop(),r.Ta.length>0&&(Qe(bl,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class my{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new So,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const c=Date.now()+s,y=new my(e,n,c,o,u);return y.start(s),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ge(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function py(r,e){if(xa("AsyncQueue",`${e}: ${r}`),ku(r))return new Ge(xe.UNAVAILABLE,`${e}: ${r}`);throw r}class du{static emptySet(e){return new du(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||nt.comparator(n.key,s.key):(n,s)=>nt.comparator(n.key,s.key),this.keyedMap=Sc(),this.sortedSet=new _n(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof du)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new du;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class T1{constructor(){this.ga=new _n(nt.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):st(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Tu{constructor(e,n,s,o,u,c,y,v,_){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,n,s,o,u){const c=[];return n.forEach((y=>{c.push({type:0,doc:y})})),new Tu(e,n,du.emptySet(n),c,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&md(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class dM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class mM{constructor(){this.queries=x1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=ft(n),u=o.queries;o.queries=x1(),u.forEach(((c,y)=>{for(const v of y.Sa)v.onError(s)}))})(this,new Ge(xe.ABORTED,"Firestore shutting down"))}}function x1(){return new xl((r=>JE(r)),md)}async function kT(r,e){const n=ft(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new dM,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const y=py(c,`Initialization of query '${ou(e.query)}' failed`);return void e.onError(y)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&gy(n)}async function OT(r,e){const n=ft(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const c=u.Sa.indexOf(e);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function pM(r,e){const n=ft(r);let s=!1;for(const o of e){const u=o.query,c=n.queries.get(u);if(c){for(const y of c.Sa)y.Fa(o)&&(s=!0);c.wa=o}}s&&gy(n)}function gM(r,e,n){const s=ft(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function gy(r){r.Ca.forEach((e=>{e.next()}))}var dg,S1;(S1=dg||(dg={})).Ma="default",S1.Cache="cache";class MT{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Tu(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Tu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dg.Cache}}class jT{constructor(e){this.key=e}}class PT{constructor(e){this.key=e}}class yM{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Dt(),this.mutatedKeys=Dt(),this.eu=ZE(e),this.tu=new du(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new T1,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,c=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,R)=>{const O=o.get(x),L=pd(this.query,R)?R:null,ie=!!O&&this.mutatedKeys.has(O.key),Z=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let H=!1;O&&L?O.data.isEqual(L.data)?ie!==Z&&(s.track({type:3,doc:L}),H=!0):this.su(O,L)||(s.track({type:2,doc:L}),H=!0,(v&&this.eu(L,v)>0||_&&this.eu(L,_)<0)&&(y=!0)):!O&&L?(s.track({type:0,doc:L}),H=!0):O&&!L&&(s.track({type:1,doc:O}),H=!0,(v||_)&&(y=!0)),H&&(L?(c=c.add(L),u=Z?u.add(x):u.delete(x)):(c=c.delete(x),u=u.delete(x)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const x=this.query.limitType==="F"?c.last():c.first();c=c.delete(x.key),u=u.delete(x.key),s.track({type:1,doc:x})}return{tu:c,iu:s,Cs:y,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((x,R)=>(function(L,ie){const Z=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st(20277,{Rt:H})}};return Z(L)-Z(ie)})(x.type,R.type)||this.eu(x.doc,R.doc))),this.ou(s),o=o??!1;const y=n&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,c.length!==0||_?{snapshot:new Tu(this.query,e.tu,u,c,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new T1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Dt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new PT(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new jT(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Dt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Tu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const yy="SyncEngine";class vM{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class _M{constructor(e){this.key=e,this.hu=!1}}class bM{constructor(e,n,s,o,u,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new xl((y=>JE(y)),md),this.Iu=new Map,this.Eu=new Set,this.du=new _n(nt.comparator),this.Au=new Map,this.Ru=new ay,this.Vu={},this.mu=new Map,this.fu=Eu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function wM(r,e,n=!0){const s=FT(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await VT(s,e,n,!0),o}async function EM(r,e){const n=FT(r);await VT(n,e,!0,!1)}async function VT(r,e,n,s){const o=await F4(r.localStore,Ds(e)),u=o.targetId,c=r.sharedClientState.addLocalQueryTarget(u,n);let y;return s&&(y=await TM(r,e,u,c==="current",o.resumeToken)),r.isPrimaryClient&&n&&AT(r.remoteStore,o),y}async function TM(r,e,n,s,o){r.pu=(R,O,L)=>(async function(Z,H,pe,de){let ve=H.view.ru(pe);ve.Cs&&(ve=await y1(Z.localStore,H.query,!1).then((({documents:D})=>H.view.ru(D,ve))));const Fe=de&&de.targetChanges.get(H.targetId),Ke=de&&de.targetMismatches.get(H.targetId)!=null,Be=H.view.applyChanges(ve,Z.isPrimaryClient,Fe,Ke);return R1(Z,H.targetId,Be.au),Be.snapshot})(r,R,O,L);const u=await y1(r.localStore,e,!0),c=new yM(e,u.Qs),y=c.ru(u.documents),v=th.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),_=c.applyChanges(y,r.isPrimaryClient,v);R1(r,n,_.au);const x=new vM(e,n,c);return r.Tu.set(e,x),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),_.snapshot}async function xM(r,e,n){const s=ft(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((c=>!md(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await hg(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&cy(s.remoteStore,o.targetId),mg(s,o.targetId)})).catch(Du)):(mg(s,o.targetId),await hg(s.localStore,o.targetId,!0))}async function SM(r,e){const n=ft(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),cy(n.remoteStore,s.targetId))}async function AM(r,e,n){const s=OM(r);try{const o=await(function(c,y){const v=ft(c),_=rn.now(),x=y.reduce(((L,ie)=>L.add(ie.key)),Dt());let R,O;return v.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let ie=Sa(),Z=Dt();return v.Ns.getEntries(L,x).next((H=>{ie=H,ie.forEach(((pe,de)=>{de.isValidDocument()||(Z=Z.add(pe))}))})).next((()=>v.localDocuments.getOverlayedDocuments(L,ie))).next((H=>{R=H;const pe=[];for(const de of y){const ve=BO(de,R.get(de.key).overlayedDocument);ve!=null&&pe.push(new jo(de.key,ve,HE(ve.value.mapValue),Ci.exists(!0)))}return v.mutationQueue.addMutationBatch(L,_,pe,y)})).next((H=>{O=H;const pe=H.applyToLocalDocumentSet(R,Z);return v.documentOverlayCache.saveOverlays(L,H.batchId,pe)}))})).then((()=>({batchId:O.batchId,changes:tT(R)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(c,y,v){let _=c.Vu[c.currentUser.toKey()];_||(_=new _n(It)),_=_.insert(y,v),c.Vu[c.currentUser.toKey()]=_})(s,o.batchId,n),await rh(s,o.changes),await Ed(s.remoteStore)}catch(o){const u=py(o,"Failed to persist write");n.reject(u)}}async function LT(r,e){const n=ft(r);try{const s=await U4(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const c=n.Au.get(u);c&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Ft(c.hu,14607):o.removedDocuments.size>0&&(Ft(c.hu,42227),c.hu=!1))})),await rh(n,s,e)}catch(s){await Du(s)}}function A1(r,e,n){const s=ft(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,c)=>{const y=c.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(c,y){const v=ft(c);v.onlineState=y;let _=!1;v.queries.forEach(((x,R)=>{for(const O of R.Sa)O.va(y)&&(_=!0)})),_&&gy(v)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function RM(r,e,n){const s=ft(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let c=new _n(nt.comparator);c=c.insert(u,Tr.newNoDocument(u,ct.min()));const y=Dt().add(u),v=new _d(ct.min(),new Map,new _n(It),c,y);await LT(s,v),s.du=s.du.remove(u),s.Au.delete(e),vy(s)}else await hg(s.localStore,e,!1).then((()=>mg(s,e,n))).catch(Du)}async function CM(r,e){const n=ft(r),s=e.batch.batchId;try{const o=await L4(n.localStore,e);zT(n,s,null),UT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await rh(n,o)}catch(o){await Du(o)}}async function NM(r,e,n){const s=ft(r);try{const o=await(function(c,y){const v=ft(c);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let x;return v.mutationQueue.lookupMutationBatch(_,y).next((R=>(Ft(R!==null,37113),x=R.keys(),v.mutationQueue.removeMutationBatch(_,R)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,x,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,x))).next((()=>v.localDocuments.getDocuments(_,x)))}))})(s.localStore,e);zT(s,e,n),UT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await rh(s,o)}catch(o){await Du(o)}}function UT(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function zT(r,e,n){const s=ft(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function mg(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||BT(r,s)}))}function BT(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(cy(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),vy(r))}function R1(r,e,n){for(const s of n)s instanceof jT?(r.Ru.addReference(s.key,e),IM(r,s)):s instanceof PT?(Qe(yy,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||BT(r,s.key)):st(19791,{wu:s})}function IM(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(Qe(yy,"New document in limbo: "+n),r.Eu.add(s),vy(r))}function vy(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new nt(Jt.fromString(e)),s=r.fu.next();r.Au.set(s,new _M(n)),r.du=r.du.insert(n,s),AT(r.remoteStore,new bo(Ds(ty(n.path)),s,"TargetPurposeLimboResolution",hd.ce))}}async function rh(r,e,n){const s=ft(r),o=[],u=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((y,v)=>{c.push(s.pu(v,e,n).then((_=>{if((_||n)&&s.isPrimaryClient){const x=_?!_.fromCache:n?.targetChanges.get(v.targetId)?.current;s.sharedClientState.updateQueryState(v.targetId,x?"current":"not-current")}if(_){o.push(_);const x=ly.As(v.targetId,_);u.push(x)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(v,_){const x=ft(v);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(R=>Se.forEach(_,(O=>Se.forEach(O.Es,(L=>x.persistence.referenceDelegate.addReference(R,O.targetId,L))).next((()=>Se.forEach(O.ds,(L=>x.persistence.referenceDelegate.removeReference(R,O.targetId,L)))))))))}catch(R){if(!ku(R))throw R;Qe(uy,"Failed to update sequence numbers: "+R)}for(const R of _){const O=R.targetId;if(!R.fromCache){const L=x.Ms.get(O),ie=L.snapshotVersion,Z=L.withLastLimboFreeSnapshotVersion(ie);x.Ms=x.Ms.insert(O,Z)}}})(s.localStore,u))}async function DM(r,e){const n=ft(r);if(!n.currentUser.isEqual(e)){Qe(yy,"User change. New user:",e.toKey());const s=await ET(n.localStore,e);n.currentUser=e,(function(u,c){u.mu.forEach((y=>{y.forEach((v=>{v.reject(new Ge(xe.CANCELLED,c))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await rh(n,s.Ls)}}function kM(r,e){const n=ft(r),s=n.Au.get(e);if(s&&s.hu)return Dt().add(s.key);{let o=Dt();const u=n.Iu.get(e);if(!u)return o;for(const c of u){const y=n.Tu.get(c);o=o.unionWith(y.view.nu)}return o}}function FT(r){const e=ft(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=LT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RM.bind(null,e),e.Pu.H_=pM.bind(null,e.eventManager),e.Pu.yu=gM.bind(null,e.eventManager),e}function OM(r){const e=ft(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NM.bind(null,e),e}class Zf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return V4(this.persistence,new M4,e.initialUser,this.serializer)}Cu(e){return new wT(oy.mi,this.serializer)}Du(e){return new H4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zf.provider={build:()=>new Zf};class MM extends Zf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ft(this.persistence.referenceDelegate instanceof Wf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new _4(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ti.withCacheSize(this.cacheSizeBytes):ti.DEFAULT;return new wT((s=>Wf.mi(s,n)),this.serializer)}}class pg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>A1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=DM.bind(null,this.syncEngine),await fM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new mM})()}createDatastore(e){const n=bd(e.databaseInfo.databaseId),s=(function(u){return new $4(u)})(e.databaseInfo);return(function(u,c,y,v){return new Z4(u,c,y,v)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,c,y){return new tM(s,o,u,c,y)})(this.localStore,this.datastore,e.asyncQueue,(n=>A1(this.syncEngine,n,0)),(function(){return b1.v()?new b1:new G4})())}createSyncEngine(e,n){return(function(o,u,c,y,v,_,x){const R=new bM(o,u,c,y,v,_);return x&&(R.gu=!0),R})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=ft(n);Qe(bl,"RemoteStore shutting down."),s.Ea.add(5),await nh(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}pg.provider={build:()=>new pg};class qT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Oo="FirestoreClient";class jM{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Er.UNAUTHENTICATED,this.clientId=$g.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async c=>{Qe(Oo,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(Qe(Oo,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new So;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=py(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Up(r,e){r.asyncQueue.verifyOperationInProgress(),Qe(Oo,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await ET(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function C1(r,e){r.asyncQueue.verifyOperationInProgress();const n=await PM(r);Qe(Oo,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>E1(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>E1(e.remoteStore,o))),r._onlineComponents=e}async function PM(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Qe(Oo,"Using user provided OfflineComponentProvider");try{await Up(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===xe.FAILED_PRECONDITION||o.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;vu("Error using user provided cache. Falling back to memory cache: "+n),await Up(r,new Zf)}}else Qe(Oo,"Using default OfflineComponentProvider"),await Up(r,new MM(void 0));return r._offlineComponents}async function HT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Qe(Oo,"Using user provided OnlineComponentProvider"),await C1(r,r._uninitializedComponentsProvider._online)):(Qe(Oo,"Using default OnlineComponentProvider"),await C1(r,new pg))),r._onlineComponents}function VM(r){return HT(r).then((e=>e.syncEngine))}async function gg(r){const e=await HT(r),n=e.eventManager;return n.onListen=wM.bind(null,e.syncEngine),n.onUnlisten=xM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=EM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=SM.bind(null,e.syncEngine),n}function LM(r,e,n={}){const s=new So;return r.asyncQueue.enqueueAndForget((async()=>(function(u,c,y,v,_){const x=new qT({next:O=>{x.Nu(),c.enqueueAndForget((()=>OT(u,R))),O.fromCache&&v.source==="server"?_.reject(new Ge(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(O)},error:O=>_.reject(O)}),R=new MT(y,x,{includeMetadataChanges:!0,qa:!0});return kT(u,R)})(await gg(r),r.asyncQueue,e,n,s))),s.promise}function GT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const N1=new Map;const KT="firestore.googleapis.com",I1=!0;class D1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ge(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KT,this.ssl=I1}else this.host=e.host,this.ssl=e.ssl??I1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<y4)throw new Ge(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ge(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ge(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ge(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Td{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ge(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ge(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Gk;switch(s.type){case"firstParty":return new $k(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ge(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=N1.get(n);s&&(Qe("ComponentProvider","Removing Datastore"),N1.delete(n),s.terminate())})(this),Promise.resolve()}}function UM(r,e,n,s={}){r=Is(r,Td);const o=Ru(e),u=r._getSettings(),c={...u,emulatorOptions:r._getEmulatorOptions()},y=`${e}:${n}`;o&&(Bw(`https://${y}`),Fw("Firestore",!0)),u.host!==KT&&u.host!==y&&vu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...u,host:y,ssl:o,emulatorOptions:s};if(!gl(v,c)&&(r._setSettings(v),s.mockUserToken)){let _,x;if(typeof s.mockUserToken=="string")_=s.mockUserToken,x=Er.MOCK_USER;else{_=pN(s.mockUserToken,r._app?.options.projectId);const R=s.mockUserToken.sub||s.mockUserToken.user_id;if(!R)throw new Ge(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Er(R)}r._authCredentials=new Kk(new kE(_,x))}}class Al{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Al(this.firestore,e,this._query)}}class Hn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ao(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hn(this.firestore,e,this._key)}toJSON(){return{type:Hn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Jc(n,Hn._jsonSchema))return new Hn(e,s||null,new nt(Jt.fromString(n.referencePath)))}}Hn._jsonSchemaVersion="firestore/documentReference/1.0",Hn._jsonSchema={type:qn("string",Hn._jsonSchemaVersion),referencePath:qn("string")};class Ao extends Al{constructor(e,n,s){super(e,n,ty(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hn(this.firestore,null,new nt(e))}withConverter(e){return new Ao(this.firestore,e,this._path)}}function zM(r,e,...n){if(r=Wn(r),OE("collection","path",e),r instanceof Td){const s=Jt.fromString(e,...n);return H0(s),new Ao(r,null,s)}{if(!(r instanceof Hn||r instanceof Ao))throw new Ge(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jt.fromString(e,...n));return H0(s),new Ao(r.firestore,null,s)}}function go(r,e,...n){if(r=Wn(r),arguments.length===1&&(e=$g.newId()),OE("doc","path",e),r instanceof Td){const s=Jt.fromString(e,...n);return q0(s),new Hn(r,null,new nt(s))}{if(!(r instanceof Hn||r instanceof Ao))throw new Ge(xe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jt.fromString(e,...n));return q0(s),new Hn(r.firestore,r instanceof Ao?r.converter:null,new nt(s))}}const k1="AsyncQueue";class O1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xT(this,"async_queue_retry"),this._c=()=>{const s=Lp();s&&Qe(k1,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Lp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Lp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new So;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ku(e))throw e;Qe(k1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,xa("INTERNAL UNHANDLED ERROR: ",M1(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=my.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&st(47125,{Pc:M1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function M1(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function j1(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class wl extends Td{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new O1,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O1(e),this._firestoreClient=void 0,await e}}}function BM(r,e){const n=typeof r=="object"?r:Kw(),s=typeof r=="string"?r:Hf,o=Vg(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=dN("firestore");u&&UM(o,...u)}return o}function xd(r){if(r._terminated)throw new Ge(xe.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||FM(r),r._firestoreClient}function FM(r){const e=r._freezeSettings(),n=(function(o,u,c,y){return new fO(o,u,c,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,GT(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new jM(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Xi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xi(mr.fromBase64String(e))}catch(n){throw new Ge(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xi(mr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jc(e,Xi._jsonSchema))return Xi.fromBase64String(e.bytes)}}Xi._jsonSchemaVersion="firestore/bytes/1.0",Xi._jsonSchema={type:qn("string",Xi._jsonSchemaVersion),bytes:qn("string")};class Sd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ge(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _y{constructor(e){this._methodName=e}}class Os{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ge(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ge(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return It(this._lat,e._lat)||It(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Os._jsonSchemaVersion}}static fromJSON(e){if(Jc(e,Os._jsonSchema))return new Os(e.latitude,e.longitude)}}Os._jsonSchemaVersion="firestore/geoPoint/1.0",Os._jsonSchema={type:qn("string",Os._jsonSchemaVersion),latitude:qn("number"),longitude:qn("number")};class Ms{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ms._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jc(e,Ms._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ms(e.vectorValues);throw new Ge(xe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ms._jsonSchemaVersion="firestore/vectorValue/1.0",Ms._jsonSchema={type:qn("string",Ms._jsonSchemaVersion),vectorValues:qn("object")};const qM=/^__.*__$/;class HM{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new jo(e,this.data,this.fieldMask,n,this.fieldTransforms):new eh(e,this.data,n,this.fieldTransforms)}}class QT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new jo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function YT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st(40011,{Ac:r})}}class by{constructor(e,n,s,o,u,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new by({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ed(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(YT(this.Ac)&&qM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class GM{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||bd(e)}Cc(e,n,s,o=!1){return new by({Ac:e,methodName:n,Dc:s,path:fr.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wy(r){const e=r._freezeSettings(),n=bd(r._databaseId);return new GM(r._databaseId,!!e.ignoreUndefinedProperties,n)}function $T(r,e,n,s,o,u={}){const c=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Ey("Data must be an object, but it was:",c,s);const y=XT(s,c);let v,_;if(u.merge)v=new Ri(c.fieldMask),_=c.fieldTransforms;else if(u.mergeFields){const x=[];for(const R of u.mergeFields){const O=yg(e,R,n);if(!c.contains(O))throw new Ge(xe.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);JT(x,O)||x.push(O)}v=new Ri(x),_=c.fieldTransforms.filter((R=>v.covers(R.field)))}else v=null,_=c.fieldTransforms;return new HM(new ii(y),v,_)}class Ad extends _y{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ad}}function KM(r,e,n,s){const o=r.Cc(1,e,n);Ey("Data must be an object, but it was:",o,s);const u=[],c=ii.empty();Mo(s,((v,_)=>{const x=Ty(e,v,n);_=Wn(_);const R=o.yc(x);if(_ instanceof Ad)u.push(x);else{const O=ih(_,R);O!=null&&(u.push(x),c.set(x,O))}}));const y=new Ri(u);return new QT(c,y,o.fieldTransforms)}function QM(r,e,n,s,o,u){const c=r.Cc(1,e,n),y=[yg(e,s,n)],v=[o];if(u.length%2!=0)throw new Ge(xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<u.length;O+=2)y.push(yg(e,u[O])),v.push(u[O+1]);const _=[],x=ii.empty();for(let O=y.length-1;O>=0;--O)if(!JT(_,y[O])){const L=y[O];let ie=v[O];ie=Wn(ie);const Z=c.yc(L);if(ie instanceof Ad)_.push(L);else{const H=ih(ie,Z);H!=null&&(_.push(L),x.set(L,H))}}const R=new Ri(_);return new QT(x,R,c.fieldTransforms)}function YM(r,e,n,s=!1){return ih(n,r.Cc(s?4:3,e))}function ih(r,e){if(WT(r=Wn(r)))return Ey("Unsupported field value:",e,r),XT(r,e);if(r instanceof _y)return(function(s,o){if(!YT(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let c=0;for(const y of s){let v=ih(y,o.wc(c));v==null&&(v={nullValue:"NULL_VALUE"}),u.push(v),c++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Wn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return jO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=rn.fromDate(s);return{timestampValue:Xf(o.serializer,u)}}if(s instanceof rn){const u=new rn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Xf(o.serializer,u)}}if(s instanceof Os)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Xi)return{bytesValue:dT(o.serializer,s._byteString)};if(s instanceof Hn){const u=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:sy(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ms)return(function(c,y){return{mapValue:{fields:{[FE]:{stringValue:qE},[Gf]:{arrayValue:{values:c.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return ny(y.serializer,_)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${cd(s)}`)})(r,e)}function XT(r,e){const n={};return PE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mo(r,((s,o)=>{const u=ih(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function WT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof rn||r instanceof Os||r instanceof Xi||r instanceof Hn||r instanceof _y||r instanceof Ms)}function Ey(r,e,n){if(!WT(n)||!ME(n)){const s=cd(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function yg(r,e,n){if((e=Wn(e))instanceof Sd)return e._internalPath;if(typeof e=="string")return Ty(r,e);throw ed("Field path arguments must be of type string or ",r,!1,void 0,n)}const $M=new RegExp("[~\\*/\\[\\]]");function Ty(r,e,n){if(e.search($M)>=0)throw ed(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Sd(...e.split("."))._internalPath}catch{throw ed(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function ed(r,e,n,s,o){const u=s&&!s.isEmpty(),c=o!==void 0;let y=`Function ${e}() called with invalid data`;n&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(u||c)&&(v+=" (found",u&&(v+=` in field ${s}`),c&&(v+=` in document ${o}`),v+=")"),new Ge(xe.INVALID_ARGUMENT,y+r+v)}function JT(r,e){return r.some((n=>n.isEqual(e)))}class ZT{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ex("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class XM extends ZT{data(){return super.data()}}function ex(r,e){return typeof e=="string"?Ty(r,e):e instanceof Sd?e._internalPath:e._delegate._internalPath}function tx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Ge(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xy{}class WM extends xy{}function JM(r,e,...n){let s=[];e instanceof xy&&s.push(e),s=s.concat(n),(function(u){const c=u.filter((v=>v instanceof Ay)).length,y=u.filter((v=>v instanceof Sy)).length;if(c>1||c>0&&y>0)throw new Ge(xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Sy extends WM{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Sy(e,n,s)}_apply(e){const n=this._parse(e);return nx(e._query,n),new Al(e.firestore,e.converter,sg(e._query,n))}_parse(e){const n=wy(e.firestore);return(function(u,c,y,v,_,x,R){let O;if(_.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new Ge(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){V1(R,x);const ie=[];for(const Z of R)ie.push(P1(v,u,Z));O={arrayValue:{values:ie}}}else O=P1(v,u,R)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||V1(R,x),O=YM(y,c,R,x==="in"||x==="not-in");return Fn.create(_,x,O)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Ay extends xy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ay(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ds.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let c=o;const y=u.getFlattenedFilters();for(const v of y)nx(c,v),c=sg(c,v)})(e._query,n),new Al(e.firestore,e.converter,sg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function P1(r,e,n){if(typeof(n=Wn(n))=="string"){if(n==="")throw new Ge(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WE(e)&&n.indexOf("/")!==-1)throw new Ge(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Jt.fromString(n));if(!nt.isDocumentKey(s))throw new Ge(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return J0(r,new nt(s))}if(n instanceof Hn)return J0(r,n._key);throw new Ge(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cd(n)}.`)}function V1(r,e){if(!Array.isArray(r)||r.length===0)throw new Ge(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nx(r,e){const n=(function(o,u){for(const c of o)for(const y of c.getFlattenedFilters())if(u.indexOf(y.op)>=0)return y.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ge(xe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ge(xe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ZM{convertValue(e,n="none"){switch(Do(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Io(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw st(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Mo(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Gf].arrayValue?.values?.map((s=>kn(s.doubleValue)));return new Ms(n)}convertGeoPoint(e){return new Os(kn(e.latitude),kn(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=dd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Uc(e));default:return null}}convertTimestamp(e){const n=No(e);return new rn(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Jt.fromString(e);Ft(_T(s),9688,{name:e});const o=new zc(s.get(1),s.get(3)),u=new nt(s.popFirst(5));return o.isEqual(n)||xa(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function rx(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class Rc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hl extends ZT{constructor(e,n,s,o,u,c){super(e,n,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new If(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ex("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ge(xe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=hl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}hl._jsonSchemaVersion="firestore/documentSnapshot/1.0",hl._jsonSchema={type:qn("string",hl._jsonSchemaVersion),bundleSource:qn("string","DocumentSnapshot"),bundleName:qn("string"),bundle:qn("string")};class If extends hl{data(e={}){return super.data(e)}}class fl{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Rc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new If(this._firestore,this._userDataWriter,s.key,s,new Rc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ge(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((y=>{const v=new If(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Rc(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>u||y.type!==3)).map((y=>{const v=new If(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Rc(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,x=-1;return y.type!==0&&(_=c.indexOf(y.doc.key),c=c.delete(y.doc.key)),y.type!==1&&(c=c.add(y.doc),x=c.indexOf(y.doc.key)),{type:ej(y.type),doc:v,oldIndex:_,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ge(xe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$g.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ej(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st(61501,{type:r})}}fl._jsonSchemaVersion="firestore/querySnapshot/1.0",fl._jsonSchema={type:qn("string",fl._jsonSchemaVersion),bundleSource:qn("string","QuerySnapshot"),bundleName:qn("string"),bundle:qn("string")};class Ry extends ZM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Hn(this.firestore,null,n)}}function su(r){r=Is(r,Al);const e=Is(r.firestore,wl),n=xd(e),s=new Ry(e);return tx(r._query),LM(n,r._query).then((o=>new fl(e,s,r,o)))}function tj(r,e,n){r=Is(r,Hn);const s=Is(r.firestore,wl),o=rx(r.converter,e,n);return Cy(s,[$T(wy(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Ci.none())])}function nj(r){return Cy(Is(r.firestore,wl),[new vd(r._key,Ci.none())])}function rj(r,...e){r=Wn(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||j1(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(j1(e[s])){const v=e[s];e[s]=v.next?.bind(v),e[s+1]=v.error?.bind(v),e[s+2]=v.complete?.bind(v)}let u,c,y;if(r instanceof Hn)c=Is(r.firestore,wl),y=ty(r._key.path),u={next:v=>{e[s]&&e[s](ij(c,r,v))},error:e[s+1],complete:e[s+2]};else{const v=Is(r,Al);c=Is(v.firestore,wl),y=v._query;const _=new Ry(c);u={next:x=>{e[s]&&e[s](new fl(c,_,v,x))},error:e[s+1],complete:e[s+2]},tx(r._query)}return(function(_,x,R,O){const L=new qT(O),ie=new MT(x,L,R);return _.asyncQueue.enqueueAndForget((async()=>kT(await gg(_),ie))),()=>{L.Nu(),_.asyncQueue.enqueueAndForget((async()=>OT(await gg(_),ie)))}})(xd(c),y,o,u)}function Cy(r,e){return(function(s,o){const u=new So;return s.asyncQueue.enqueueAndForget((async()=>AM(await VM(s),o,u))),u.promise})(xd(r),e)}function ij(r,e,n){const s=n.docs.get(e._key),o=new Ry(r);return new hl(r,o,e._key,s,new Rc(n.hasPendingWrites,n.fromCache),e.converter)}class sj{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=wy(e)}set(e,n,s){this._verifyNotCommitted();const o=zp(e,this._firestore),u=rx(o.converter,n,s),c=$T(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(c.toMutation(o._key,Ci.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=zp(e,this._firestore);let c;return c=typeof(n=Wn(n))=="string"||n instanceof Sd?QM(this._dataReader,"WriteBatch.update",u._key,n,s,o):KM(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(c.toMutation(u._key,Ci.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=zp(e,this._firestore);return this._mutations=this._mutations.concat(new vd(n._key,Ci.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ge(xe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function zp(r,e){if((r=Wn(r)).firestore!==e)throw new Ge(xe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function aj(r){return xd(r=Is(r,wl)),new sj(r,(e=>Cy(r,e)))}(function(e,n=!0){(function(o){Iu=o})(Cu),gu(new yl("firestore",((s,{instanceIdentifier:o,options:u})=>{const c=s.getProvider("app").getImmediate(),y=new wl(new Qk(s.getProvider("auth-internal")),new Xk(c,s.getProvider("app-check-internal")),(function(_,x){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new Ge(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zc(_.options.projectId,x)})(c,o),c);return u={useFetchStreams:n,...u},y._setSettings(u),y}),"PUBLIC").setMultipleInstances(!0)),To(U0,z0,e),To(U0,z0,"esm2020")})();const oj={apiKey:"AIzaSyCFffbkALNuHkNLAyL11RZEeGTbhaQpYaw",authDomain:"nutritrack-10c54.firebaseapp.com",projectId:"nutritrack-10c54",storageBucket:"nutritrack-10c54.firebasestorage.app",messagingSenderId:"100416850946",appId:"1:100416850946:web:3601da7fd0be32fc146b1b"},ix=Gw(oj),Ny=Bk(ix),lj=new ga,sx=BM(ix);async function uj(){const r=await XD(Ny,lj);return{uid:r.user.uid,email:r.user.email,displayName:r.user.displayName,photoURL:r.user.photoURL}}async function cj(){await ID(Ny)}function hj(r){return ND(Ny,e=>{r(e?{uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL}:null)})}let vg=[],_g=null;function Or(r,e){return zM(sx,"users",r,e)}function ma(r){const e={};for(const[n,s]of Object.entries(r))s instanceof Date?e[n]=s.toISOString():Array.isArray(s)?e[n]=s.map(o=>o instanceof Date?o.toISOString():typeof o=="object"&&o!==null?ma(o):o):typeof s=="object"&&s!==null?e[n]=ma(s):e[n]=s;return e}function pa(r){const e={};for(const[n,s]of Object.entries(r))typeof s=="string"&&/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/.test(s)?e[n]=new Date(s):Array.isArray(s)?e[n]=s.map(o=>typeof o=="string"&&/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/.test(o)?new Date(o):typeof o=="object"&&o!==null?pa(o):o):typeof s=="object"&&s!==null?e[n]=pa(s):e[n]=s;return e}async function L1(r){const e=aj(sx),n=await He.foods.toArray();for(const v of n){const _=go(Or(r,"foods"),v.id);e.set(_,ma(v))}const s=await He.dailyLogs.toArray();for(const v of s){const _=go(Or(r,"dailyLogs"),v.id);e.set(_,ma(v))}const o=await He.mealPlans.toArray();for(const v of o){const _=go(Or(r,"mealPlans"),v.id);e.set(_,ma(v))}const u=await He.inventory.toArray();for(const v of u){const _=go(Or(r,"inventory"),v.id);e.set(_,ma(v))}const c=await He.recipes.toArray();for(const v of c){const _=go(Or(r,"recipes"),v.id);e.set(_,ma(v))}const y=await He.settings.get("user-settings");if(y){const v={...y,usdaApiKey:void 0,aiConfig:void 0},_=go(Or(r,"settings"),y.id);e.set(_,ma(v))}await e.commit()}async function U1(r){const e=await su(Or(r,"foods"));for(const y of e.docs){const v=pa(y.data());await He.foods.put(v)}const n=await su(Or(r,"dailyLogs"));for(const y of n.docs){const v=pa(y.data());await He.dailyLogs.put(v)}const s=await su(Or(r,"mealPlans"));for(const y of s.docs){const v=pa(y.data());await He.mealPlans.put(v)}const o=await su(Or(r,"inventory"));for(const y of o.docs){const v=pa(y.data());await He.inventory.put(v)}const u=await su(Or(r,"recipes"));for(const y of u.docs){const v=pa(y.data());await He.recipes.put(v)}const c=await su(Or(r,"settings"));if(!c.empty){const y=pa(c.docs[0].data()),v=await He.settings.get("user-settings");v&&await He.settings.put({...y,usdaApiKey:v.usdaApiKey,aiConfig:v.aiConfig})}}async function z1(r,e,n,s){const o=go(Or(r,e),n);await tj(o,ma(s))}async function fj(r,e,n){const s=go(Or(r,e),n);await nj(s)}function B1(r){if(_g===r)return;bg(),_g=r;const e=[{table:He.foods,name:"foods"},{table:He.dailyLogs,name:"dailyLogs"},{table:He.mealPlans,name:"mealPlans"},{table:He.inventory,name:"inventory"},{table:He.recipes,name:"recipes"}];for(const{table:n,name:s}of e)n.hook("creating",function(o,u){z1(r,s,o,u).catch(console.error)}),n.hook("updating",function(o,u,c){const y={...c,...o};z1(r,s,u,y).catch(console.error)}),n.hook("deleting",function(o){fj(r,s,o).catch(console.error)});for(const{name:n}of e){const s=rj(JM(Or(r,n)),o=>{o.docChanges().forEach(async u=>{const c=pa(u.doc.data()),y=u.doc.id;if(u.type==="added"||u.type==="modified"){const v=await He[n].get(y),_=c.updatedAt,x=v?.updatedAt;(!v||_&&x&&_>x||_&&!x)&&await He[n].put(c)}else u.type==="removed"&&await He[n].delete(y)})},o=>{console.error(`Sync error for ${n}:`,o)});vg.push(s)}}function bg(){for(const r of vg)r();vg=[],_g=null}const dj=[{value:"",label:"Not configured"},{value:"gemini",label:"Google Gemini"},{value:"openai",label:"OpenAI"},{value:"anthropic",label:"Anthropic (Claude)"},{value:"ollama",label:"Ollama (Local)"}];function mj(){const[r,e]=q.useState(""),[n,s]=q.useState(!1),[o,u]=q.useState(!1),[c,y]=q.useState(""),[v,_]=q.useState(""),[x,R]=q.useState(!1),[O,L]=q.useState("http://localhost:11434"),[ie,Z]=q.useState(""),[H,pe]=q.useState(!1),[de,ve]=q.useState(null),[Fe,Ke]=q.useState(!1),[Be,D]=q.useState(null);q.useEffect(()=>{Cw();const De=hj(Ae=>{ve(Ae),Ae?B1(Ae.uid):bg()});return()=>De()},[]);const I=dr(()=>He.settings.get("user-settings"));q.useEffect(()=>{I?.usdaApiKey&&e(I.usdaApiKey)},[I?.usdaApiKey]),q.useEffect(()=>{I?.aiConfig&&(y(I.aiConfig.provider||""),_(I.aiConfig.apiKey||""),L(I.aiConfig.ollamaUrl||"http://localhost:11434"),Z(I.aiConfig.model||""))},[I?.aiConfig]);const j=async()=>{I&&(await He.settings.update("user-settings",{usdaApiKey:r.trim(),updatedAt:new Date}),u(!0),setTimeout(()=>u(!1),2e3))},B=async()=>{I&&(await He.settings.update("user-settings",{aiConfig:c?{provider:c,apiKey:v.trim()||void 0,ollamaUrl:c==="ollama"?O.trim():void 0,model:ie.trim()||void 0}:void 0,updatedAt:new Date}),pe(!0),setTimeout(()=>pe(!1),2e3))},F=async()=>{Ke(!0),D("Signing in...");try{const De=await uj();D("Downloading cloud data..."),await U1(De.uid),D("Uploading local data..."),await L1(De.uid),B1(De.uid),D("Sync complete!"),setTimeout(()=>D(null),2e3)}catch(De){D(`Error: ${De instanceof Error?De.message:"Failed to sign in"}`),setTimeout(()=>D(null),3e3)}finally{Ke(!1)}},X=async()=>{bg(),await cj(),ve(null),D(null)},V=async()=>{if(de){Ke(!0),D("Syncing...");try{await U1(de.uid),await L1(de.uid),D("Sync complete!"),setTimeout(()=>D(null),2e3)}catch(De){D(`Error: ${De instanceof Error?De.message:"Sync failed"}`),setTimeout(()=>D(null),3e3)}finally{Ke(!1)}}};return I?g.jsxs("div",{className:"p-4 space-y-6",children:[g.jsxs("header",{children:[g.jsx("h1",{className:"text-2xl font-bold",children:"Settings"}),g.jsx("p",{className:"text-muted-foreground",children:"Customize your experience"})]}),g.jsxs(gn,{children:[g.jsx(ni,{children:g.jsxs(ri,{className:"text-lg flex items-center gap-2",children:[de?g.jsx(uf,{className:"w-5 h-5 text-primary"}):g.jsx(OR,{className:"w-5 h-5"}),"Cloud Sync"]})}),g.jsx(xn,{className:"space-y-4",children:de?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted rounded-lg",children:[de.photoURL&&g.jsx("img",{src:de.photoURL,alt:"",className:"w-10 h-10 rounded-full"}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"font-medium truncate",children:de.displayName}),g.jsx("p",{className:"text-sm text-muted-foreground truncate",children:de.email})]})]}),g.jsxs("div",{className:"p-3 bg-primary/10 text-primary rounded-lg text-sm flex items-center gap-2",children:[g.jsx(uf,{className:"w-4 h-4 flex-shrink-0"}),"Sync enabled. Your data syncs automatically across devices."]}),Be&&g.jsxs("div",{className:"p-3 bg-muted rounded-lg text-sm flex items-center gap-2",children:[Fe&&g.jsx(ya,{className:"w-4 h-4 animate-spin"}),Be]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs(Et,{variant:"outline",className:"flex-1",onClick:V,disabled:Fe,children:[Fe?g.jsx(ya,{className:"w-4 h-4 mr-2 animate-spin"}):g.jsx(uf,{className:"w-4 h-4 mr-2"}),"Sync Now"]}),g.jsxs(Et,{variant:"outline",onClick:X,disabled:Fe,children:[g.jsx(GR,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]}):g.jsxs(g.Fragment,{children:[g.jsx("p",{className:"text-sm text-muted-foreground",children:"Sign in with Google to sync your data across all your devices. Your nutrition logs, meal plans, and inventory will be available everywhere."}),Be&&g.jsxs("div",{className:"p-3 bg-muted rounded-lg text-sm flex items-center gap-2",children:[Fe&&g.jsx(ya,{className:"w-4 h-4 animate-spin"}),Be]}),g.jsxs(Et,{className:"w-full",onClick:F,disabled:Fe,children:[Fe?g.jsx(ya,{className:"w-4 h-4 mr-2 animate-spin"}):g.jsx(uf,{className:"w-4 h-4 mr-2"}),"Sign in with Google"]})]})})]}),g.jsxs(gn,{children:[g.jsx(ni,{children:g.jsx(ri,{className:"text-lg",children:"Daily Goals"})}),g.jsxs(xn,{className:"space-y-4",children:[g.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[g.jsx("span",{children:"Calories"}),g.jsxs("span",{className:"text-muted-foreground",children:[I.goals.caloriesMin," - ",I.goals.caloriesMax]})]}),g.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[g.jsx("span",{children:"Protein"}),g.jsxs("span",{className:"text-muted-foreground",children:[I.goals.proteinMin," - ",I.goals.proteinMax,"g"]})]}),g.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[g.jsx("span",{children:"Fiber"}),g.jsxs("span",{className:"text-muted-foreground",children:[I.goals.fiber,"g"]})]}),g.jsxs("div",{className:"flex justify-between items-center py-2",children:[g.jsx("span",{children:"Water"}),g.jsxs("span",{className:"text-muted-foreground",children:[I.goals.water,"ml"]})]})]})]}),g.jsxs(gn,{children:[g.jsx(ni,{children:g.jsx(ri,{className:"text-lg",children:"USDA Food Database"})}),g.jsxs(xn,{className:"space-y-4",children:[g.jsx("p",{className:"text-sm text-muted-foreground",children:"Connect to the USDA FoodData Central database to search over 300,000 foods with detailed nutrition information."}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium",children:"API Key"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("div",{className:"relative flex-1",children:[g.jsx($n,{type:n?"text":"password",value:r,onChange:De=>e(De.target.value),placeholder:"Enter your USDA API key",className:"pr-10"}),g.jsx("button",{type:"button",onClick:()=>s(!n),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:n?g.jsx(Xb,{className:"w-4 h-4"}):g.jsx(Wb,{className:"w-4 h-4"})})]}),g.jsx(Et,{onClick:j,disabled:!r.trim(),children:o?g.jsxs(g.Fragment,{children:[g.jsx(jc,{className:"w-4 h-4 mr-1"}),"Saved"]}):"Save"})]})]}),g.jsxs("a",{href:"https://fdc.nal.usda.gov/api-key-signup",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm text-primary hover:underline",children:["Get a free API key",g.jsx($b,{className:"w-3 h-3"})]}),I.usdaApiKey&&g.jsx("div",{className:"p-3 bg-primary/10 text-primary rounded-lg text-sm",children:"USDA search is enabled. Search for any food when logging meals."})]})]}),g.jsxs(gn,{children:[g.jsx(ni,{children:g.jsxs(ri,{className:"text-lg flex items-center gap-2",children:[g.jsx(Of,{className:"w-5 h-5"}),"AI Meal Suggestions"]})}),g.jsxs(xn,{className:"space-y-4",children:[g.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable AI-powered meal suggestions based on your inventory and nutrition goals."}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium",children:"Provider"}),g.jsx(Ro,{value:c,onChange:De=>y(De.target.value),options:dj})]}),c&&c!=="ollama"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium",children:"API Key"}),g.jsxs("div",{className:"relative",children:[g.jsx($n,{type:x?"text":"password",value:v,onChange:De=>_(De.target.value),placeholder:`Enter your ${c==="openai"?"OpenAI":c==="gemini"?"Gemini":"Anthropic"} API key`,className:"pr-10"}),g.jsx("button",{type:"button",onClick:()=>R(!x),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:x?g.jsx(Xb,{className:"w-4 h-4"}):g.jsx(Wb,{className:"w-4 h-4"})})]}),g.jsxs("a",{href:c==="openai"?"https://platform.openai.com/api-keys":c==="gemini"?"https://aistudio.google.com/apikey":"https://console.anthropic.com/settings/keys",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm text-primary hover:underline",children:["Get an API key",g.jsx($b,{className:"w-3 h-3"})]})]}),c==="ollama"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium",children:"Ollama URL"}),g.jsx($n,{value:O,onChange:De=>L(De.target.value),placeholder:"http://localhost:11434"}),g.jsx("p",{className:"text-xs text-muted-foreground",children:"Make sure Ollama is running locally with a model installed."})]}),c&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium",children:"Model (optional)"}),g.jsx($n,{value:ie,onChange:De=>Z(De.target.value),placeholder:c==="openai"?"gpt-4o-mini":c==="gemini"?"gemini-2.0-flash":c==="anthropic"?"claude-3-5-haiku-latest":"llama3.2"}),g.jsx("p",{className:"text-xs text-muted-foreground",children:"Leave blank to use the default model."})]}),c&&g.jsx(Et,{onClick:B,className:"w-full",disabled:c!=="ollama"&&!v.trim()||c==="ollama"&&!O.trim(),children:H?g.jsxs(g.Fragment,{children:[g.jsx(jc,{className:"w-4 h-4 mr-1"}),"Saved"]}):"Save AI Configuration"}),!c&&g.jsx(Et,{variant:"outline",onClick:B,className:"w-full",children:"Clear AI Configuration"}),I.aiConfig?.provider&&g.jsxs("div",{className:"p-3 bg-primary/10 text-primary rounded-lg text-sm",children:["AI suggestions enabled with"," ",I.aiConfig.provider==="gemini"?"Google Gemini":I.aiConfig.provider==="openai"?"OpenAI":I.aiConfig.provider==="anthropic"?"Anthropic":"Ollama",". Go to AI Meal Ideas to get suggestions."]})]})]}),g.jsxs(gn,{children:[g.jsx(ni,{children:g.jsx(ri,{className:"text-lg",children:"Appearance"})}),g.jsx(xn,{children:g.jsxs("div",{className:"flex justify-between items-center py-2",children:[g.jsx("span",{children:"Theme"}),g.jsx("span",{className:"text-muted-foreground capitalize",children:I.theme})]})})]}),g.jsxs(gn,{children:[g.jsx(ni,{children:g.jsx(ri,{className:"text-lg",children:"Data"})}),g.jsx(xn,{className:"space-y-4",children:g.jsx("p",{className:"text-sm text-muted-foreground",children:de?"Your data is stored locally and synced to Google Cloud. API keys are stored locally only and not synced.":"All your data is stored locally on this device. Sign in with Google to sync across devices."})})]})]}):g.jsx("div",{className:"flex items-center justify-center min-h-screen",children:g.jsx("div",{className:"text-muted-foreground",children:"Loading..."})})}const pj=[{name:"Chicken Breast (cooked)",source:"custom",servingSize:100,servingUnit:"g",servingSizeGrams:100,calories:165,protein:31,carbs:0,fat:3.6,fiber:0,category:"protein",tags:["meat","lean"],isFavorite:!0},{name:"Eggs (large)",source:"custom",servingSize:1,servingUnit:"piece",servingSizeGrams:50,calories:72,protein:6.3,carbs:.4,fat:5,fiber:0,category:"protein",tags:["breakfast"],isFavorite:!0},{name:"Greek Yogurt (plain, nonfat)",source:"custom",servingSize:170,servingUnit:"g",servingSizeGrams:170,calories:100,protein:17,carbs:6,fat:.7,fiber:0,category:"dairy",tags:["breakfast","snack"],isFavorite:!0},{name:"Salmon (cooked)",source:"custom",servingSize:100,servingUnit:"g",servingSizeGrams:100,calories:208,protein:20,carbs:0,fat:13,fiber:0,category:"protein",tags:["fish","omega-3"],isFavorite:!1},{name:"Cottage Cheese (low fat)",source:"custom",servingSize:113,servingUnit:"g",servingSizeGrams:113,calories:81,protein:14,carbs:3,fat:1,fiber:0,category:"dairy",tags:["snack"],isFavorite:!1},{name:"Brown Rice (cooked)",source:"custom",servingSize:1,servingUnit:"cup",servingSizeGrams:195,calories:216,protein:5,carbs:45,fat:1.8,fiber:3.5,category:"grains",tags:["whole grain"],isFavorite:!1},{name:"Oatmeal (cooked)",source:"custom",servingSize:1,servingUnit:"cup",servingSizeGrams:234,calories:158,protein:6,carbs:27,fat:3.2,fiber:4,category:"grains",tags:["breakfast","whole grain"],isFavorite:!0},{name:"Whole Wheat Bread",source:"custom",servingSize:1,servingUnit:"slice",servingSizeGrams:43,calories:81,protein:4,carbs:14,fat:1,fiber:2,category:"grains",tags:["whole grain"],isFavorite:!1},{name:"Sweet Potato (baked)",source:"custom",servingSize:1,servingUnit:"piece",servingSizeGrams:150,calories:135,protein:3,carbs:31,fat:.1,fiber:4.5,category:"vegetables",tags:["root vegetable"],isFavorite:!1},{name:"Broccoli (cooked)",source:"custom",servingSize:1,servingUnit:"cup",servingSizeGrams:156,calories:55,protein:3.7,carbs:11,fat:.6,fiber:5.1,category:"vegetables",tags:["green vegetable"],isFavorite:!0},{name:"Spinach (raw)",source:"custom",servingSize:2,servingUnit:"cup",servingSizeGrams:60,calories:14,protein:1.7,carbs:2.2,fat:.2,fiber:1.3,category:"vegetables",tags:["leafy green"],isFavorite:!1},{name:"Black Beans (cooked)",source:"custom",servingSize:.5,servingUnit:"cup",servingSizeGrams:86,calories:114,protein:7.6,carbs:20,fat:.5,fiber:7.5,category:"protein",tags:["legume","high fiber"],isFavorite:!0},{name:"Lentils (cooked)",source:"custom",servingSize:.5,servingUnit:"cup",servingSizeGrams:99,calories:115,protein:9,carbs:20,fat:.4,fiber:8,category:"protein",tags:["legume","high fiber"],isFavorite:!1},{name:"Avocado",source:"custom",servingSize:.5,servingUnit:"piece",servingSizeGrams:100,calories:160,protein:2,carbs:9,fat:15,fiber:7,category:"fats",tags:["healthy fat","high fiber"],isFavorite:!1},{name:"Banana",source:"custom",servingSize:1,servingUnit:"piece",servingSizeGrams:118,calories:105,protein:1.3,carbs:27,fat:.4,fiber:3.1,category:"fruits",tags:["snack"],isFavorite:!0},{name:"Apple",source:"custom",servingSize:1,servingUnit:"piece",servingSizeGrams:182,calories:95,protein:.5,carbs:25,fat:.3,fiber:4.4,category:"fruits",tags:["snack"],isFavorite:!1},{name:"Blueberries",source:"custom",servingSize:1,servingUnit:"cup",servingSizeGrams:148,calories:84,protein:1.1,carbs:21,fat:.5,fiber:3.6,category:"fruits",tags:["berries"],isFavorite:!1},{name:"Raspberries",source:"custom",servingSize:1,servingUnit:"cup",servingSizeGrams:123,calories:64,protein:1.5,carbs:15,fat:.8,fiber:8,category:"fruits",tags:["berries","high fiber"],isFavorite:!1},{name:"Olive Oil",source:"custom",servingSize:1,servingUnit:"tbsp",servingSizeGrams:14,calories:119,protein:0,carbs:0,fat:14,fiber:0,category:"fats",tags:["healthy fat","cooking oil"],isFavorite:!1},{name:"Almonds",source:"custom",servingSize:1,servingUnit:"oz",servingSizeGrams:28,calories:164,protein:6,carbs:6,fat:14,fiber:3.5,category:"fats",tags:["nuts","snack"],isFavorite:!1},{name:"Chia Seeds",source:"custom",servingSize:1,servingUnit:"tbsp",servingSizeGrams:12,calories:58,protein:2,carbs:5,fat:3.7,fiber:4.1,category:"fats",tags:["seeds","high fiber","omega-3"],isFavorite:!0}];async function gj(){if(await He.foods.count()===0){const e=new Date,n=pj.map(s=>({...s,id:crypto.randomUUID(),createdAt:e,updatedAt:e}));await He.foods.bulkAdd(n),console.log(`Seeded database with ${n.length} foods`)}}function yj(){return q.useEffect(()=>{gj()},[]),g.jsx(rR,{children:g.jsx(OA,{children:g.jsxs(po,{element:g.jsx(r2,{}),children:[g.jsx(po,{path:"/",element:g.jsx(w2,{})}),g.jsx(po,{path:"/log",element:g.jsx(T2,{})}),g.jsx(po,{path:"/plan",element:g.jsx(j2,{})}),g.jsx(po,{path:"/ideas",element:g.jsx(Q2,{})}),g.jsx(po,{path:"/inventory",element:g.jsx(iN,{})}),g.jsx(po,{path:"/settings",element:g.jsx(mj,{})})]})})})}kS.createRoot(document.getElementById("root")).render(g.jsx(q.StrictMode,{children:g.jsx(yj,{})}));
